#version=DEVEL
# Keyboard layouts
keyboard 'us'
# Root password
rootpw --iscrypted $1$_redhat_$i3.3Eg7ko/Peu/7Q/1.wJ/
# System language
lang en_US.UTF-8
# System timezone
timezone Etc/UTC --isUtc
network  --bootproto=dhcp
url --mirrorlist=http://mirrorlist.centos.org/?release=8&arch=$basearch&repo=baseos
repo --name="AppStream" --mirrorlist=http://mirrorlist.centos.org/?release=8&arch=$basearch&repo=appstream
repo --name="epel8" --mirrorlist=https://mirrors.fedoraproject.org/mirrorlist?repo=epel-8&arch=x86_64
repo --name="foreman-el8" --baseurl=http://yum.theforeman.org/releases/nightly/el8/$basearch/
repo --name="foreman-plugins-el8" --baseurl=http://yum.theforeman.org/plugins/nightly/el8/$basearch/
module --name=ruby --stream=2.7
# SELinux configuration
selinux --permissive

# System services
services --disabled="network,sshd" --enabled="NetworkManager"
# System bootloader configuration
bootloader --append="acpi=force" --location=mbr --timeout=1
# Disk partitioning information
clearpart --all --initlabel
part / --fstype="ext4" --size=4000
shutdown

%pre
# VERSION=3.7.7
# RELEASE=20210707.1
%end

%post
mkdir -p $(dirname /etc/default/discovery)
base64 -d - >/etc/default/discovery <<'CODE'
UEFUSD0vdXNyL2xvY2FsL3NiaW46L3Vzci9sb2NhbC9iaW46L3Vzci9zYmluOi91c3IvYmluOi9vcHQ
vZXh0ZW5zaW9uL2JpbgpGQUNURVJMSUI9L3Vzci9zaGFyZS9mZGkvZmFjdHM6L29wdC9leHRlbnNpb2
4vZmFjdHMKTERfTElCUkFSWV9QQVRIPS9vcHQvZXh0ZW5zaW9uL2xpYgpSVUJZTElCPS9vcHQvZXh0Z
W5zaW9uL2xpYi9ydWJ5Cg==
CODE
%end

%post
mkdir -p $(dirname /etc/NetworkManager/dispatcher.d/15-get-zip-server)
base64 -d - >/etc/NetworkManager/dispatcher.d/15-get-zip-server <<'CODE'
IyEvYmluL2Jhc2gKCiMgU2NyaXB0IHRvIGV4dHJhY3QgdGhlIE5FWFRfU0VSVkVSIHZhbHVlIGZyb20
gdGhlIGluY29taW5nIERIQ1AgbGVhc2UKIyBhbmQgd3JpdGUgaXQgdG8gYSBwbGFjZSB3aGVyZSBzeX
N0ZW1kL3Byb2ZpbGUuZCBjYW4gc291cmNlIGl0CgojIFRoaXMgaXMgb25seSBydW4gd2hlbiB0aGUga
W50ZXJmYWNlIGlzIGdvaW5nICJ1cCIgc28gd2UgZG9uJ3QgaW50ZXJmZXJlCiMgd2l0aCB0aGUgbmV4
dC1zZXJ2ZXIgc2V0dGluZ3Mgb24gImRvd24iCgp6aXBzZXJ2ZXI9IiIKCiMgY3JlYXRlL3JlcGxhY2U
gZmlsZSB1c2luZyBhIHRlbXBmaWxlLgojIFRoaXMgYWxsb3dzIHVzIHRvIHRyaWdnZXIgb24gUGF0aE
V4aXN0cyBpbnNpZGUgc3lzdGVtZC5wYXRoIHVuaXRzLgpmdW5jdGlvbiB0bXB3cml0ZXIgewogIHRtc
GZpbGU9IiQoVE1QRElSPSIkezElLyp9IiBta3RlbXApIgogIGNhdCA+ICIke3RtcGZpbGV9IgogIG12
ICIke3RtcGZpbGV9IiAiJHsxfSIKfQoKaWYgWyAkIyAtbmUgMiBdCnRoZW4KICBlY2hvICJ1c2FnZTo
gJDAgPGlmYWNlPiA8YWN0aW9uPiIgPiYyCiAgZWNobyAnICBPbmx5IGFjdGlvbiAidXAiIGlzIHVzZW
QgYnkgdGhpcyBzY3JpcHQuJyA+JjIKICBleGl0IDEKZmkKCmlmIFsgIiR7Mn0iICE9ICJ1cCIgXQp0a
GVuCiAgZXhpdApmaQoKaWZhY2U9IiR7MX0iCgpyZWFkIGh3YWRkciA8ICIvc3lzL2NsYXNzL25ldC8k
e2lmYWNlfS9hZGRyZXNzIgoKc291cmNlIC91c3Ivc2hhcmUvZmRpL2NvbW1vbmZ1bmMuc2gKZXhwb3J
0S0NMCgp6aXBzZXJ2ZXI9IiR7S0NMX0ZESV9aSVBTRVJWRVJ9Igpib290aWY9IiQobm9ybWFsaXplSH
dBZGRyICIke0JPT1RNQUN9IikiCgojIHdlIHByb2Nlc3MgdGhlIGludGVyZmFjZSB3ZSBoYXZlIGJvb
3RlZCBQWEVMSU5VWCBmcm9tCmlmIFsgIiR7aHdhZGRyfSIgPT0gIiR7Ym9vdGlmfSIgXQp0aGVuCiAg
IyBrZXJuZWwgY21kbGluZSB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgREhDUCBzdXBwbGllZCBuZXh0LXN
lcnZlcgogIGlmIFsgLXogIiR7emlwc2VydmVyfSIgLWEgLW4gIiR7REhDUDRfTkVYVF9TRVJWRVJ9Ii
BdCiAgdGhlbgogICAgemlwc2VydmVyPSIke0RIQ1A0X05FWFRfU0VSVkVSfSIKICBmaQogIGVjaG8gI
lpJUF9TRVJWRVI9JHt6aXBzZXJ2ZXJ9IiB8IHRtcHdyaXRlciAvZXRjL2RlZmF1bHQvZGlzY292ZXJ5
LXppcC1zZXJ2ZXIKZmkK
CODE
%end

%post
mkdir -p $(dirname /etc/profile.d/discovery.sh)
base64 -d - >/etc/profile.d/discovery.sh <<'CODE'
IyAvZXRjL3Byb2ZpbGUuZC9kaXNjb3Zlcnkuc2ggLSBzaGVsbCBleHRlbnNpb25zIGZvciBkaXNjb3Z
lcnkKCiMgUGFyc2UgdGhlIHN5c3RlbWQgRW52aXJvbm1lbnRGaWxlKHMpIGFuZCBleHBvcnQgdGhlIH
ZhbHVlcyBmb3IgdXNlCiMgaW4gbm9ybWFsIHNoZWxscwoKZmlsZW5hbWU9Ii9ldGMvZGVmYXVsdC9ka
XNjb3ZlcnkiCmlmIHRlc3QgLWYgJGZpbGVuYW1lCnRoZW4KICB3aGlsZSByZWFkIC1yIGxpbmUKICBk
bwogICAgaWYgW1sgJGxpbmUgPX4gXiMgXV0gOyB0aGVuCiAgICAgIGNvbnRpbnVlCiAgICBlbGlmIFt
bICRsaW5lID1+IC4qPS4qIF1dIDsgdGhlbgogICAgICBleHBvcnQgJGxpbmUKICAgIGVsc2UKICAgIC
AgY29udGludWUKICAgIGZpCiAgZG9uZSA8ICIkZmlsZW5hbWUiCmZpCgpmaWxlbmFtZT0iL2V0Yy9kZ
WZhdWx0L2Rpc2NvdmVyeS16aXAtc2VydmVyIgppZiB0ZXN0IC1mICRmaWxlbmFtZQp0aGVuCiAgd2hp
bGUgcmVhZCAtciBsaW5lCiAgZG8KICAgIGlmIFtbICRsaW5lID1+IF4jIF1dIDsgdGhlbgogICAgICB
jb250aW51ZQogICAgZWxpZiBbWyAkbGluZSA9fiAuKj0uKiBdXSA7IHRoZW4KICAgICAgZXhwb3J0IC
RsaW5lCiAgICBlbHNlCiAgICAgIGNvbnRpbnVlCiAgICBmaQogIGRvbmUgPCAiJGZpbGVuYW1lIgpma
Qo=
CODE
%end

%post
mkdir -p $(dirname /etc/rc.d/rc.local)
base64 -d - >/etc/rc.d/rc.local <<'CODE'
IyEvYmluL2Jhc2gKCnNvdXJjZSAvdXNyL3NoYXJlL2ZkaS9jb21tb25mdW5jLnNoCmV4cG9ydEtDTAo
KIyBzZXR1cCByb290IHBhc3N3b3JkCmlmIFtbICEgLXogIiRLQ0xfRkRJX1JPT1RQVyIgXV07IHRoZW
4KICAjIHJlbW92ZSBwb3NzaWJsZSBkb3VibGUgYW5kL29yIHNpbmdsZSBxdW90ZXMgc3Vycm91bmRpb
mcgcGFzc3dvcmQgc3RyaW5nCiAgS0NMX0ZESV9ST09UUFc9YGVjaG8gJEtDTF9GRElfUk9PVFBXIHwg
c2VkIC1lICJzL14nXCguKlwpJyQvXDEvIiAtZSAncy9eIlwoLipcKSIkL1wxLydgCiAgIyBpZiBwYXN
zd29yZCBzdGFydHMgd2l0aCBkb2xsYXIgc2lnbiwgc2V0IGFuIGVuY3J5cHRlZCBmbGFnCiAgaWYgW1
sgIiRLQ0xfRkRJX1JPT1RQVyIgPX4gXlwkLiogXV07IHRoZW4KICAgIEZMQUc9Ii1lIgogIGZpCiAgZ
WNobyAicm9vdDokS0NMX0ZESV9ST09UUFciIHwgY2hwYXNzd2QgJEZMQUcgPi9kZXYvbnVsbApmaQoK
IyBlbmFibGUgc3NoCmlmIFsgIiRLQ0xfRkRJX1NTSCIgPT0gIjEiIF07IHRoZW4KICBzeXN0ZW1jdGw
gc3RhcnQgc3NoZApmaQo=
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/discovery-fetch-extensions.path)
base64 -d - >/etc/systemd/system/discovery-fetch-extensions.path <<'CODE'
W1VuaXRdCiMgTmV0d29yay1NYW5hZ2VyLXdhaXQtb25saW5lIGRvZXNuJ3Qgc2VlbSB0byB3YWl0ICp
xdWl0ZSogbG9uZyBlbm91Z2gKIyBmb3IgdGhlIGN1c3RvbSBwb3N0LXVwIGNvbW1hbmQgdG8gd3JpdG
UgdGhlIG5leHQtc2VydmVyIGVudmlyb25tZW50CiMgZmlsZS4gU28gd2UgdXNlIGEgcGF0aCB0YXJnZ
XQgdG8gd2FpdCBmb3IgaXQgdG8gYmUgd3JpdHRlbi4KRGVzY3JpcHRpb249V2FpdGluZyBmb3IgWklQ
X1NFUlZFUiBlbnZpcm9ubWVudCBmaWxlIHRvIGJlIGNyZWF0ZWQKCltQYXRoXQpQYXRoRXhpc3RzPS9
ldGMvZGVmYXVsdC9kaXNjb3ZlcnktemlwLXNlcnZlcgoKW0luc3RhbGxdCldhbnRlZEJ5PW11bHRpLX
VzZXIudGFyZ2V0Cg==
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/discovery-fetch-extensions.service)
base64 -d - >/etc/systemd/system/discovery-fetch-extensions.service <<'CODE'
W1VuaXRdCkRlc2NyaXB0aW9uPURvd25sb2FkIHppcCBleHRlbnNpb25zIHRvIHRoaXMgaW1hZ2UKV2F
udHM9bmV0d29yay1vbmxpbmUudGFyZ2V0IGRpc2NvdmVyeS1zdGFydC1leHRlbnNpb25zLnNlcnZpY2
UKQmVmb3JlPWRpc2NvdmVyeS1zdGFydC1leHRlbnNpb25zLnNlcnZpY2UKQWZ0ZXI9bmV0d29yay1vb
mxpbmUudGFyZ2V0CgpbU2VydmljZV0KVHlwZT1vbmVzaG90CkVudmlyb25tZW50RmlsZT0tL2V0Yy9k
ZWZhdWx0L2Rpc2NvdmVyeS16aXAtc2VydmVyClJlbWFpbkFmdGVyRXhpdD15ZXMKRXhlY1N0YXJ0PS9
1c3IvYmluL2Rpc2NvdmVyeS1mZXRjaC1leHRlbnNpb25zCg==
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/discovery-menu.service)
base64 -d - >/etc/systemd/system/discovery-menu.service <<'CODE'
W1VuaXRdCkRlc2NyaXB0aW9uPURpc2NvdmVyeSBUVUkKV2FudHM9YmFzaWMudGFyZ2V0CkFmdGVyPWJ
hc2ljLnRhcmdldCBuZXR3b3JrLW9ubGluZS50YXJnZXQgbnNzLWxvb2t1cC50YXJnZXQKQ29uZGl0aW
9uUGF0aEV4aXN0cz0vZGV2L3R0eTEKCltTZXJ2aWNlXQpUeXBlPWlkbGUKRW52aXJvbm1lbnRGaWxlP
S9ldGMvZGVmYXVsdC9kaXNjb3ZlcnkKRXhlY1N0YXJ0PS91c3IvYmluL2Rpc2NvdmVyeS1tZW51CkV4
ZWNTdGFydFByZT0vdXNyL3NiaW4vc3lzY3RsIC13IGtlcm5lbC5wcmludGs9MApFeGVjUmVsb2FkPS9
iaW4va2lsbCAtSFVQICRNQUlOUElEClJlc3RhcnQ9YWx3YXlzClJlc3RhcnRTZWM9NQpLaWxsTW9kZT
1wcm9jZXNzClRpbWVvdXRTdG9wU2VjPTUKU3RhbmRhcmRJbnB1dD10dHkKU3RhbmRhcmRFcnJvcj10d
HkKU3RhbmRhcmRPdXRwdXQ9dHR5ClRUWVBhdGg9L2Rldi90dHkxClJlbWFpbkFmdGVyRXhpdD15ZXMK
CltJbnN0YWxsXQpXYW50ZWRCeT1tdWx0aS11c2VyLnRhcmdldAo=
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/discovery-register.service)
base64 -d - >/etc/systemd/system/discovery-register.service <<'CODE'
W1VuaXRdCkRlc2NyaXB0aW9uPVJlZ2lzdGVyIHRoaXMgaG9zdCBpbiBGb3JlbWFuCldhbnRzPW5ldHd
vcmstb25saW5lLnRhcmdldApBZnRlcj1iYXNpYy50YXJnZXQgbmV0d29yay1vbmxpbmUudGFyZ2V0IG
5zcy1sb29rdXAudGFyZ2V0IGZvcmVtYW4tcHJveHkuc2VydmljZQoKW1NlcnZpY2VdClR5cGU9c2ltc
GxlCkVudmlyb25tZW50RmlsZT0vZXRjL2RlZmF1bHQvZGlzY292ZXJ5CkV4ZWNTdGFydD0vdXNyL2Jp
bi9kaXNjb3ZlcnktcmVnaXN0ZXIKRXhlY1JlbG9hZD0vYmluL2tpbGwgLUhVUCAkTUFJTlBJRApLaWx
sTW9kZT1wcm9jZXNzClJlc3RhcnQ9YWx3YXlzCg==
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/discovery-script-pxeless.service)
base64 -d - >/etc/systemd/system/discovery-script-pxeless.service <<'CODE'
W1VuaXRdCkRlc2NyaXB0aW9uPVNjcmlwdCBQWEUtbGVzcwpXYW50cz1iYXNpYy50YXJnZXQKQmVmb3J
lPWZvcmVtYW4tcHJveHkuc2VydmljZSBOZXR3b3JrTWFuYWdlci5zZXJ2aWNlCkFmdGVyPW5tLXByZX
BhcmUuc2VydmljZSBzeXN0ZW1kLWpvdXJuYWxkLnNlcnZpY2UKQ29uZGl0aW9uS2VybmVsQ29tbWFuZ
ExpbmU9IUJPT1RJRgoKW1NlcnZpY2VdClR5cGU9b25lc2hvdApFbnZpcm9ubWVudEZpbGU9L2V0Yy9k
ZWZhdWx0L2Rpc2NvdmVyeQpSZW1haW5BZnRlckV4aXQ9eWVzCkV4ZWNTdGFydD0vdXNyL2Jpbi9kaXN
jb3Zlcnktc2NyaXB0CgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQK
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/discovery-script-pxe.service)
base64 -d - >/etc/systemd/system/discovery-script-pxe.service <<'CODE'
W1VuaXRdCkRlc2NyaXB0aW9uPVNjcmlwdCBQWEUKV2FudHM9YmFzaWMudGFyZ2V0CkFmdGVyPWZvcmV
tYW4tcHJveHkuc2VydmljZSBOZXR3b3JrTWFuYWdlci5zZXJ2aWNlCkNvbmRpdGlvbktlcm5lbENvbW
1hbmRMaW5lPUJPT1RJRgoKW1NlcnZpY2VdClR5cGU9b25lc2hvdApFbnZpcm9ubWVudEZpbGU9L2V0Y
y9kZWZhdWx0L2Rpc2NvdmVyeQpSZW1haW5BZnRlckV4aXQ9eWVzCkV4ZWNTdGFydD0vdXNyL2Jpbi9k
aXNjb3Zlcnktc2NyaXB0CgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQK
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/discovery-start-extensions.service)
base64 -d - >/etc/systemd/system/discovery-start-extensions.service <<'CODE'
W1VuaXRdCkRlc2NyaXB0aW9uPVN0YXJ0IGRvd25sb2FkZWQgZXh0ZW5zaW9uIHNjcmlwdHMKQmVmb3J
lPWRpc2NvdmVyeS1yZWdpc3Rlci5zZXJ2aWNlIGZvcmVtYW4tcHJveHkuc2VydmljZQoKW1NlcnZpY2
VdClR5cGU9b25lc2hvdApFbnZpcm9ubWVudEZpbGU9L2V0Yy9kZWZhdWx0L2Rpc2NvdmVyeQpSZW1ha
W5BZnRlckV4aXQ9eWVzCkV4ZWNTdGFydD0vdXNyL2Jpbi9kaXNjb3Zlcnktc3RhcnQtZXh0ZW5zaW9u
cwo=
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/enable-lldp@.service)
base64 -d - >/etc/systemd/system/enable-lldp@.service <<'CODE'
W1VuaXRdCkRlc2NyaXB0aW9uPUNvbmZpZ3VyZXMgTExEUCBmb3IgJWkKQWZ0ZXI9bGxkcGFkLnNlcnZ
pY2UKUmVxdWlyZXM9bGxkcGFkLnNlcnZpY2UKCltTZXJ2aWNlXQpUeXBlPW9uZXNob3QKUmVtYWluQW
Z0ZXJFeGl0PXllcwpFeGVjU3RhcnQ9L3Vzci9iaW4vZW5hYmxlLWxsZHAgJWkKU3lzbG9nSWRlbnRpZ
mllcj1lbmFibGUtbGxkcAoKW0luc3RhbGxdCldhbnRlZEJ5PW11bHRpLXVzZXIudGFyZ2V0Cg==
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/enable-promiscuous-mode@.service)
base64 -d - >/etc/systemd/system/enable-promiscuous-mode@.service <<'CODE'
W1VuaXRdCkRlc2NyaXB0aW9uPUNvbnRyb2wgcHJvbWlzY3VvdXMgbW9kZSBmb3IgaW50ZXJmYWNlICV
pCkFmdGVyPW5ldHdvcmstb25saW5lLnRhcmdldApXYW50cz1uZXR3b3JrLW9ubGluZS50YXJnZXQKQ2
9uZGl0aW9uS2VybmVsQ29tbWFuZExpbmU9IWZkaS5ub3Byb21pcwoKW1NlcnZpY2VdClR5cGU9b25lc
2hvdApFeGVjU3RhcnQ9L3NiaW4vaXAgbGluayBzZXQgcHJvbWlzYyBvbiBkZXYgJWkKRXhlY1N0b3A9
L3NiaW4vaXAgbGluayBzZXQgcHJvbWlzYyBvZmYgZGV2ICVpClJlbWFpbkFmdGVyRXhpdD15ZXMKClt
JbnN0YWxsXQpXYW50ZWRCeT1tdWx0aS11c2VyLnRhcmdldAo=
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/journalctl.service)
base64 -d - >/etc/systemd/system/journalctl.service <<'CODE'
W1VuaXRdCkRlc2NyaXB0aW9uPURpc3BsYXkgam91cm5hbCBvbiB0dHkyCldhbnRzPWJhc2ljLnRhcmd
ldApBZnRlcj1iYXNpYy50YXJnZXQKQ29uZGl0aW9uUGF0aEV4aXN0cz0vZGV2L3R0eTIKCltTZXJ2aW
NlXQpUeXBlPWlkbGUKRXhlY1N0YXJ0PS91c3IvYmluL2pvdXJuYWxjdGwgLS1mdWxsIC0tYWxsIC0tZ
m9sbG93IC0tbWVyZ2UgLS1uby1wYWdlcgpLaWxsTW9kZT1wcm9jZXNzClN0YW5kYXJkT3V0cHV0PXR0
eQpTdGFuZGFyZEVycm9yPXR0eQpUVFlQYXRoPS9kZXYvdHR5MgoKW0luc3RhbGxdCldhbnRlZEJ5PW1
1bHRpLXVzZXIudGFyZ2V0Cg==
CODE
%end

%post
mkdir -p $(dirname /etc/systemd/system/nm-prepare.service)
base64 -d - >/etc/systemd/system/nm-prepare.service <<'CODE'
W1VuaXRdCkRlc2NyaXB0aW9uPVByZXBhcmVzIE5ldHdvcmtNYW5hZ2VyIGNvbmZpZ3VyYXRpb24gZm9
yIHByaW1hcnkgaW50ZXJmYWNlCldhbnRzPWJhc2ljLnRhcmdldApCZWZvcmU9TmV0d29ya01hbmFnZX
Iuc2VydmljZQpDb25kaXRpb25LZXJuZWxDb21tYW5kTGluZT1CT09USUYKCltTZXJ2aWNlXQpUeXBlP
W9uZXNob3QKUmVtYWluQWZ0ZXJFeGl0PXllcwpFeGVjU3RhcnQ9L3Vzci9iaW4vbm0tY29uZmlndXJl
IHByaW1hcnkKCltJbnN0YWxsXQpXYW50ZWRCeT1tdWx0aS11c2VyLnRhcmdldAo=
CODE
%end

%post
mkdir -p $(dirname /opt/extension/autostart.d/.gitkeep)
base64 -d - >/opt/extension/autostart.d/.gitkeep <<'CODE'

CODE
%end

%post
mkdir -p $(dirname /opt/extension/bin/.gitkeep)
base64 -d - >/opt/extension/bin/.gitkeep <<'CODE'

CODE
%end

%post
mkdir -p $(dirname /opt/extension/facts/.gitkeep)
base64 -d - >/opt/extension/facts/.gitkeep <<'CODE'

CODE
%end

%post
mkdir -p $(dirname /opt/extension/.gitkeep)
base64 -d - >/opt/extension/.gitkeep <<'CODE'

CODE
%end

%post
mkdir -p $(dirname /opt/extension/lib/ruby/.gitkeep)
base64 -d - >/opt/extension/lib/ruby/.gitkeep <<'CODE'

CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/menu.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/menu.rb <<'CODE'
cmVxdWlyZSAibmV3dCIKcmVxdWlyZSAiZGlzY292ZXJ5IgpyZXF1aXJlICJmYWN0ZXIiCnJlcXVpcmU
gImlwYWRkciIKcmVxdWlyZSAiZmFzdF9nZXR0ZXh0IgoKZGVmIGZkaV92ZXJzaW9uIGZpbGUgPSAnVk
VSU0lPTicKICByZXR1cm4gJ0dJVCcgdW5sZXNzIEZpbGUuZXhpc3Q/KCIvdXNyL3NoYXJlL2ZkaS8je
2ZpbGV9IikKICBJTy5yZWFkKCIvdXNyL3NoYXJlL2ZkaS8je2ZpbGV9IikuY2hvbXAKZW5kCgpkZWYg
ZmRpX3JlbGVhc2UgZmlsZSA9ICdSRUxFQVNFJwogIGZkaV92ZXJzaW9uIGZpbGUKZW5kCgpkZWYgZW5
hYmxlX3Jvb3RfYWNjb3VudChwYXNzKQogIGNvbW1hbmQoImVjaG8gJ3Jvb3Q6I3twYXNzfScgfCBjaH
Bhc3N3ZCAmJiBzeXN0ZW1jdGwgcmVzdGFydCBzc2hkLnNlcnZpY2UiLCBmYWxzZSwgZmFsc2UpCmVuZ
AoKZGVmIGVycm9yX2JveChtc2csIGV4dHJhX21zZyA9IG5pbCkKICBsb2dfZXJyIG1zZwogIGxvZ19l
cnIgZXh0cmFfbXNnCiAgYmFja3RyYWNlID0gbG9nX2V4Y2VwdGlvbiBleHRyYV9tc2cKICBOZXd0Ojp
TY3JlZW4uY2VudGVyZWRfd2luZG93KDc0LCAyMCwgIkZhdGFsIGVycm9yIikKICBmID0gTmV3dDo6Rm
9ybS5uZXcKICB0X2Rlc2MgPSBOZXd0OjpUZXh0Ym94Lm5ldygxLCAxLCA3MCwgMTMsIE5ld3Q6OkZMQ
UdfU0NST0xMKQogIHJhbmRvbV9wYXNzID0gKDEuLi4xMCkubWFwIHsgKDY1ICsgcmFuZCgyNikpLmNo
ciB9LmpvaW4KICB0X2Rlc2Muc2V0X3RleHQgIiN7bXNnfTpcbiN7ZXh0cmFfbXNnfVxuXG4je2JhY2t
0cmFjZX1cblxuIiArCiAgIk9uY2UgT0sgYnV0dG9uIGlzIHByZXNzZWQsIGFuZCByb290IGFjY291bn
Qgd2lsbCBiZSB1bmxvY2tlZFxuIiArCiAgIndpdGggdGhlIGZvbGxvd2luZyByYW5kb20gcGFzc3dvc
mQ6XG5cbiIgKwogICIgICAje3JhbmRvbV9wYXNzfVxuXG4iICsKICAiSXQgaXMgcG9zc2libGUgdG8g
dXNlIHRoaXJkIGNvbnNvbGUgdG8gbG9naW4gYW5kIGludmVzdGlnYXRlXG4iICsKICAidmlhIGpvdXJ
uYWxjdGwgYW5kIGRpc2NvdmVyeS1kZWJ1ZyBjb21tYW5kcy4gIgogIGJfb2sgPSBOZXd0OjpCdXR0b2
4ubmV3KDY2LCAxNSwgIk9LIikKICBmLmFkZChiX29rLCB0X2Rlc2MpCiAgZi5ydW4KICBlbmFibGVfc
m9vdF9hY2NvdW50KHJhbmRvbV9wYXNzKQogIGV4aXQoMSkKZW5kCgpkZWYgY29tbWFuZChjbWQsIGZh
aWxfb25fZXJyb3IgPSB0cnVlLCBzZW5kX3RvX3N5c2xvZyA9IHRydWUpCiAgbG9nX21zZygiVFVJIGV
4ZWN1dGluZzogI3tjbWR9IikgaWYgc2VuZF90b19zeXNsb2cKICAjIGRvIG5vdCBydW4gcmVhbCBjb2
1tYW5kcyBpbiBkZXZlbG9wbWVudCAobm9uLWltYWdlKSBlbnZpcm9ubWVudAogIHJldHVybiB0cnVlI
GlmIGZkaV92ZXJzaW9uID09ICdHSVQnCiAgb3V0cHV0ID0gYCN7Y21kfSAyPiYxYAogIGlmICQ/ICE9
IDAKICAgIGxvZ19tc2coIkNvbW1hbmQgcmV0dXJuZWQgI3skP30gYW5kIG91dHB1dCB3YXM6ICN7b3V
0cHV0fSIpIGlmIHNlbmRfdG9fc3lzbG9nCiAgICBpZiBmYWlsX29uX2Vycm9yCiAgICAgIGVycm9yX2
JveCgiQ29tbWFuZCBmYWlsZWQ6ICN7Y21kfSIsIG91dHB1dCkKICAgIGVsc2UKICAgICAgcmV0dXJuI
GZhbHNlCiAgICBlbmQKICBlbmQKICBvdXRwdXQKZW5kCgpkZWYgZGVidWdfdmFsdWUgdmFsCiAgTmV3
dDo6U2NyZWVuLndpbl9tZXNzYWdlKCJERUJVRyIsICJPSyIsIHZhbC5pbnNwZWN0KQplbmQKCmRlZiB
3cmFwKHMsIHdpZHRoPTc4KQogIHMuZ3N1YigvKC57MSwje3dpZHRofX0pKFxzK3xcWikvLCAiXFwxXG
4iKQplbmQKCmRlZiBkaXNhYmxlX3RmdHBfZXh0ZW5zaW9ucwogIFsncGF0aCcsICdzZXJ2aWNlJ10uZ
WFjaCBkbyB8dW5pdHwKICAgIGlmIEZpbGUuZXhpc3Q/ICIvZXRjL3N5c3RlbWQvc3lzdGVtL2Rpc2Nv
dmVyeS1mZXRjaC1leHRlbnNpb25zLiN7dW5pdH0iCiAgICAgIGNvbW1hbmQoInN5c3RlbWN0bCBkaXN
hYmxlIGRpc2NvdmVyeS1mZXRjaC1leHRlbnNpb25zLiN7dW5pdH0iKQogICAgZW5kCiAgZW5kCmVuZA
oKZGVmIHN0YXJ0X2Rpc2NvdmVyeV9zZXJ2aWNlCiAgaWYgRmlsZS5leGlzdD8gIi9ldGMvc3lzdGVtZ
C9zeXN0ZW0vZGlzY292ZXJ5LXJlZ2lzdGVyLnNlcnZpY2UiCiAgICBjb21tYW5kKCJzeXN0ZW1jdGwg
cmVzdGFydCBkaXNjb3ZlcnktcmVnaXN0ZXIuc2VydmljZSIpCiAgZW5kCmVuZAoKZGVmIGNvbmZpZ3V
yZV9uZXR3b3JrIHN0YXRpYywgbWFjLCBpcD1uaWwsIGd3PW5pbCwgZG5zPW5pbCwgdmxhbj1uaWwKIC
Bjb21tYW5kKCJzeXN0ZW1jdGwgc3RvcCBmb3JlbWFuLXByb3h5IiwgZmFsc2UpCiAgaWYgc3RhdGljC
iAgICBpZiBJUEFkZHIubmV3KGlwKS5pcHY2PwogICAgICBjbWQgPSAicHJpbWFyeS1zdGF0aWM2Igog
ICAgZWxzZQogICAgICBjbWQgPSAicHJpbWFyeS1zdGF0aWMiCiAgICBlbmQKICAgIGNvbW1hbmQoIm5
tLWNvbmZpZ3VyZSAje2NtZH0gJyN7bWFjfScgJyN7aXB9JyAnI3tnd30nICcje2Ruc30nICcje3ZsYW
59JyIpCiAgZWxzZQogICAgY29tbWFuZCgibm0tY29uZmlndXJlIHByaW1hcnkgJyN7bWFjfScgJyN7d
mxhbn0nIikKICBlbmQKICB3YWl0ID0gY21kbGluZSgnZmRpLm5td2FpdCcsIDEyMCkKICBjb21tYW5k
KCJubWNsaSAtdyAje3dhaXR9IGNvbm5lY3Rpb24gcmVsb2FkIiwgZmFsc2UpCiAgc2xlZXAgMgogIHV
wX3Jlc3VsdCA9IGNvbW1hbmQoIm5tY2xpIC13ICN7d2FpdH0gY29ubmVjdGlvbiB1cCBwcmltYXJ5Ii
wgZmFsc2UpCiAgc2xlZXAgMgogIGNvbW1hbmQoIm5tLW9ubGluZSAtcyAtcSAtLXRpbWVvdXQ9I3t3Y
Wl0fSIpCiAgIyB3YWl0IGZvciBJUHY0LCBnZW5lcmF0ZSBTU0wgc2VsZi1zaWduZWQgY2VydCBhbmQg
c3RhcnQgcHJveHkKICBjb21tYW5kKCJzeXN0ZW1jdGwgc3RhcnQgZm9yZW1hbi1wcm94eSIpICYmIHV
wX3Jlc3VsdAplbmQKCmRlZiBwZXJmb3JtX3VwbG9hZCBwcm94eV91cmwsIHByb3h5X3R5cGUsIGN1c3
RvbV9mYWN0cwogIHVwbG9hZCBwcm94eV91cmwsIHByb3h5X3R5cGUsIGN1c3RvbV9mYWN0cwpyZXNjd
WUgPT4gZQogIGVycm9yX2JveCgiVW5hYmxlIHRvIHVwbG9hZCBmYWN0cyIsIGUpCmVuZAoKZGVmIG5l
d19jdXN0b21fZmFjdHMgbWFjCiAgaXBfY2lkciwgZ3csIGRucyA9IGRldGVjdF9pcHY0X2NyZWRlbnR
pYWxzKCdwcmltYXJ5JykKICBpcCA9IGlwX2NpZHIuc3BsaXQoJy8nKS5maXJzdAogIG1hc2sgPSBJUE
FkZHIubmV3KGlwX2NpZHIpLmluc3BlY3Quc2NhbigvXGQrLlxkKy5cZCsuXGQrXC9cZCsuXGQrLlxkK
y5cZCsvKS5maXJzdC5zcGxpdCgnLycpLmxhc3QKICB7CiAgICAnZGlzY292ZXJ5X2tleGVjJyA9PiBj
b21tYW5kKCJrZXhlYyAtLXZlcnNpb24iKSwKICAgICdkaXNjb3ZlcnlfaXBfY2lkcicgPT4gaXBfY2l
kciwKICAgICdkaXNjb3ZlcnlfaXAnID0+IGlwLAogICAgJ2Rpc2NvdmVyeV9uZXRtYXNrJyA9PiBtYX
NrLAogICAgJ2Rpc2NvdmVyeV9nYXRld2F5JyA9PiBndywKICAgICdkaXNjb3ZlcnlfZG5zJyA9PiBkb
nMsCiAgICAnZGlzY292ZXJ5X2Jvb3RpZicgPT4gbWFjLAogIH0KcmVzY3VlID0+IGUKICBsb2dfZXhj
ZXB0aW9uIGUKICB7fQplbmQKCmRlZiBjbGVhbnVwCiAgTmV3dDo6U2NyZWVuLmZpbmlzaAogIGV4aXQ
gMAplbmQKCmxvZ19tc2cgIktlcm5lbCBvcHRzOiAje2NtZGxpbmV9IgoKIyBmYXN0X2dldHRleHQgaW
5pdGlhbGl6YXRpb24KYmVnaW4KICBGYXN0R2V0dGV4dC5hZGRfdGV4dF9kb21haW4oJ2ZvcmVtYW4tZ
GlzY292ZXJ5LWltYWdlJywKICAgIDpwYXRoID0+IEZpbGUuZXhpc3RzPygnL3Vzci9zaGFyZS9sb2Nh
bGUvZmRpJykgPyAnL3Vzci9zaGFyZS9sb2NhbGUvZmRpJyA6ICdyb290L3Vzci9zaGFyZS9sb2NhbGU
vZmRpJywKICAgIDp0eXBlID0+IDpwbywKICAgIDppZ25vcmVfZnV6enkgPT4gdHJ1ZSwKICAgIDpyZX
BvcnRfd2FybmluZyA9PiBmYWxzZSkKICBGYXN0R2V0dGV4dC50ZXh0X2RvbWFpbiA9ICdmb3JlbWFuL
WRpc2NvdmVyeS1pbWFnZScKICBzZWxlY3RlZF9sb2NhbGUgPSBjbWRsaW5lKCdsb2NhbGUnKQogIEZh
c3RHZXR0ZXh0LmxvY2FsZSA9IHNlbGVjdGVkX2xvY2FsZSBpZiBzZWxlY3RlZF9sb2NhbGUKcmVzY3V
lIEV4Y2VwdGlvbiA9PiBlCiAgZXJyb3JfYm94KCJVbmFibGUgdG8gaW5pdGlhbGl6ZSBnZXR0ZXh0Oi
Aje2V9IiwgZSkgdW5sZXNzIGUuaXNfYT8gU3lzdGVtRXhpdAplbmQKaW5jbHVkZSBGYXN0R2V0dGV4d
Do6VHJhbnNsYXRpb24KCmRlZiBtYWluX2xvb3AKICBTaWduYWwudHJhcCgiVEVSTSIpIHsgY2xlYW51
cCB9CiAgU2lnbmFsLnRyYXAoIklOVCIpIHsgY2xlYW51cCB9CiAgU2lnbmFsLnRyYXAoIkhVUCIpIGR
vCiAgICBOZXd0OjpTY3JlZW4ucmVmcmVzaAogIGVuZAoKICBOZXd0OjpTY3JlZW4ubmV3CiAgbW9kZS
A9IGlmIEZpbGUuZXhpc3RzPygiL3N5cy9maXJtd2FyZS9lZmkvIikKICAgICAgICAgICAiVUVGSSIKI
CAgICAgICAgZWxzZQogICAgICAgICAgICJCSU9TIgogICAgICAgICBlbmQKICBkcml2ZXIgPSBgY2F0
IC9wcm9jL2ZiYC5zdHJpcC50cigiXG4iLCAnICcpCiAgZHJpdmVyID0gIk5PLUZCIiBpZiBkcml2ZXI
uZW1wdHk/CiAgTmV3dDo6U2NyZWVuLnB1c2hfaGVscGxpbmUoXygiRm9yZW1hbiBEaXNjb3ZlcnkgSW
1hZ2UiKSArICIgdiN7ZmRpX3ZlcnNpb259ICgje2ZkaV9yZWxlYXNlfSkgI3tSVUJZX1BMQVRGT1JNf
SAje21vZGV9ICN7ZHJpdmVyfSIpCgogIGlmIGNtZGxpbmUoJ0JPT1RJRicpCiAgICAjIEJvb3RlZCB2
aWEgUFhFCiAgICBhY3RpdmVfc2NyZWVuID0gOnNjcmVlbl9jb3VudGRvd24KICBlbHNlCiAgICAjIEJ
vb3RlZCBmcm9tIElTTwogICAgaWYgY21kbGluZSgnZmRpLnB4YXV0bycpCiAgICAgICMgVW5hdHRlbm
RlZCBQWEUtbGVzcyBwcm92aXNpb25pbmcKICAgICAgbG9nX2RlYnVnICJVbmF0dGVuZGVkIHByb3Zpc
2lvbmluZyBzdGFydGVkIgogICAgICBwcm94eV91cmwgPSBjbWRsaW5lKCdwcm94eS51cmwnKSB8fCBl
cnJvcl9ib3goXygiT3B0aW9uIHByb3h5LnVybCB3YXMgbm90IHByb3ZpZGVkLCBjYW5ub3QgY29udGl
udWUiKSkKICAgICAgcHJveHlfdXJsID0gVVJJLnBhcnNlKHByb3h5X3VybCkgcmVzY3VlIGVycm9yX2
JveChfKCJVbmFibGUgdG8gcGFyc2UgcHJveHkudXJsIFVSSTogJXMiKSAlIHByb3h5X3VybCkKICAgI
CAgcHJveHlfdHlwZSA9IGNtZGxpbmUoJ3Byb3h5LnR5cGUnKSB8fCBlcnJvcl9ib3goXygiT3B0aW9u
IHByb3h5LnR5cGUgd2FzIG5vdCBwcm92aWRlZCwgY2Fubm90IGNvbnRpbnVlIikpCiAgICAgIGxvZ19
kZWJ1ZyAicHJveHkudXJsPSN7cHJveHlfdXJsfSBwcm94eS50eXBlPSN7cHJveHlfdHlwZX0iCiAgIC
AgIG1hYyA9IGNtZGxpbmUoJ2ZkaS5weG1hYycpIHx8IGRldGVjdF9maXJzdF9uaWNfd2l0aF9saW5rC
iAgICAgIGlwID0gY21kbGluZSgnZmRpLnB4aXAnKQogICAgICBndyA9IGNtZGxpbmUoJ2ZkaS5weGd3
JykKICAgICAgZG5zID0gY21kbGluZSgnZmRpLnB4ZG5zJykKICAgICAgYWN0aW9uID0gUHJvYy5uZXc
gZG8KICAgICAgICBsb2dfZGVidWcgIlVuYXR0ZW5kZWQgbmV0d29yayBjb25maWd1cmF0aW9uIHN0YX
J0ZWQiCiAgICAgICAgaWYgaXAgJiYgZ3cKICAgICAgICAgIGxvZ19kZWJ1ZyAiQ29uZmlndXJpbmcgI
3ttYWN9IHdpdGggc3RhdGljIGluZm86IGlwPSN7aXB9IGd3PSN7Z3d9IGRucz0je2Ruc30iCiAgICAg
ICAgICBzdGF0dXMgPSBjb25maWd1cmVfbmV0d29yayB0cnVlLCBtYWMsIGlwLCBndywgZG5zCiAgICA
gICAgZWxzZQogICAgICAgICAgbG9nX2RlYnVnICJDb25maWd1cmluZyAje21hY30gd2l0aCBESENQIC
hweGlwIG9yIHB4Z3cgd2VyZSBub3QgcHJvdmlkZWQpIgogICAgICAgICAgc3RhdHVzID0gY29uZmlnd
XJlX25ldHdvcmsgZmFsc2UsIG1hYwogICAgICAgIGVuZAogICAgICAgIGxvZ19kZWJ1ZyAiVW5hdHRl
bmRlZCBuZXR3b3JrIGNvbmZpZ3VyYXRpb24gZmluaXNoZWQsIHJlc3VsdDogI3tzdGF0dXN9IgogICA
gICAgIGRlbGF5ID0gY21kbGluZSgnZmRpLmNvdW50ZG93bicsIDQ1KS50b19pIHJlc2N1ZSA0NQogIC
AgICAgIGxvZ19kZWJ1ZyAiRGVsYXkgZm9yIG5ldHdvcmsgaW5pdGlhbGl6YXRpb246ICN7ZGVsYXl9I
HNlY29uZHMiCiAgICAgICAgc2xlZXAgZGVsYXkKICAgICAgICBmYWN0cyA9IG5ld19jdXN0b21fZmFj
dHMobWFjKQogICAgICAgIGxvZ19kZWJ1ZyAiVW5hdHRlbmRlZCBmYWN0cyB1cGxvYWQgc3RhcnRlZCI
KICAgICAgICByZXN1bHQgPSB1cGxvYWQocHJveHlfdXJsLCBwcm94eV90eXBlLCBmYWN0cykKICAgIC
AgICBsb2dfZGVidWcgIlVuYXR0ZW5kZWQgZmFjdHMgdXBsb2FkIGZpbmlzaGVkLCByZXN1bHQ6ICN7c
mVzdWx0fSIKICAgICAgICByZXN1bHQKICAgICAgZW5kCiAgICAgIGFjdGl2ZV9zY3JlZW4gPSBbOnNj
cmVlbl9pbmZvLCBhY3Rpb24sCiAgICAgICAgKF8oIlBlcmZvcm1pbmcgdW5hdHRlbmRlZCBwcm92aXN
pb25pbmcgdmlhIE5JQyAlcywgcGxlYXNlIHdhaXQuIikgJSBtYWMpICsgIiAoaXA9I3tpcH0gZ3c9I3
tnd30gZG5zPSN7ZG5zfSwgdXJsPSN7cHJveHlfdXJsfSBbI3twcm94eV90eXBlfV0pIiwKICAgICAgI
CBfKCJVbmF0dGVuZGVkIHByb3Zpc2lvbmluZyBmYWlsZWQ6IHVuYWJsZSB0byB1cGxvYWQgZmFjdHMu
IENoZWNrIHlvdXIgbmV0d29yayBjcmVkZW50aWFscy4iKSwKICAgICAgICBbOnNjcmVlbl9zdGF0dXM
sIGdlbmVyYXRlX2luZm8oXygnVW5hdHRlbmRlZCBmYWN0IHVwbG9hZCBPSyAtIGF3YWl0aW5nIGtleG
VjJykpXSwKICAgICAgICBbOnNjcmVlbl9zdGF0dXMsIGdlbmVyYXRlX2luZm8oXygnVW5hdHRlbmRlZ
CBmYWN0IHVwbG9hZCBGQUlMRUQgLSBjaGVjayBsb2dzJykpXV0KICAgIGVsc2UKICAgICAgIyBBdHRl
bmRlZCBQWEUtbGVzcyBwcm92aXNpb25pbmcKICAgICAgYWN0aXZlX3NjcmVlbiA9IDpzY3JlZW5fd2V
sY29tZQogICAgZW5kCiAgZW5kCiAgd2hpbGUgISBbOnF1aXRdLmluY2x1ZGU/IGFjdGl2ZV9zY3JlZW
4KICAgIGlmIGFjdGl2ZV9zY3JlZW4uaXNfYT8oQXJyYXkpCiAgICAgIGxvZ19kZWJ1ZyAiRW50ZXJpb
mcgI3thY3RpdmVfc2NyZWVuWzBdfSIKICAgICAgYWN0aXZlX3NjcmVlbiA9IHNlbmQoKmFjdGl2ZV9z
Y3JlZW4pCiAgICBlbHNlCiAgICAgIGxvZ19kZWJ1ZyAiRW50ZXJpbmcgI3thY3RpdmVfc2NyZWVufSI
KICAgICAgYWN0aXZlX3NjcmVlbiA9IHNlbmQoYWN0aXZlX3NjcmVlbikKICAgIGVuZAogICAgTmV3dD
o6U2NyZWVuLnBvcF93aW5kb3coKQogIGVuZApyZXNjdWUgRXhjZXB0aW9uID0+IGUKICBlcnJvcl9ib
3goXygiRmF0YWwgZXJyb3IgLSBpbnZlc3RpZ2F0ZSBqb3VybmFsIiksIGUpIHVubGVzcyBlLmlzX2E/
IFN5c3RlbUV4aXQKZW5zdXJlCiAgY2xlYW51cAplbmQK
CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery.rb <<'CODE'
IyBMaWJyYXJ5IG9mIGZ1bmN0aW9ucyBmb3IgdXNlIHdpdGggRm9yZW1hbiBEaXNjb3ZlcnkKIwojIHZ
pbTogdHM9Mjpzdz0yOmV0CiMKIyBDb3B5cmlnaHQgKEMpIDIwMTItMjAxNCBSZWQgSGF0LCBJbmMuCi
MKIyBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgY
W5kL29yIG1vZGlmeQojIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGlj
IExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CiMgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbjsgdmV
yc2lvbiAyIG9mIHRoZSBMaWNlbnNlLgojCiMgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIH
RoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiMgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZO
yB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKIyBNRVJDSEFOVEFCSUxJVFkgb3Ig
RklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCiMgR05VIEdlbmVyYWwgUHV
ibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KIwojIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZC
BhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCiMgYWxvbmcgd2l0aCB0aGlzI
HByb2dyYW07IGlmIG5vdCwgd3JpdGUgdG8gdGhlIEZyZWUgU29mdHdhcmUKIyBGb3VuZGF0aW9uLCBJ
bmMuLCA1MSBGcmFua2xpbiBTdHJlZXQsIEZpZnRoIEZsb29yLCBCb3N0b24sCiMgTUEgIDAyMTEwLTE
zMDEsIFVTQS4gIEEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgaXMKIyBhbH
NvIGF2YWlsYWJsZSBhdCBodHRwOi8vd3d3LmdudS5vcmcvY29weWxlZnQvZ3BsLmh0bWwuCgpyZXF1a
XJlICdmaWxldXRpbHMnCnJlcXVpcmUgJ25ldC9odHRwJwpyZXF1aXJlICduZXQvaHR0cHMnCnJlcXVp
cmUgJ3VyaScKcmVxdWlyZSAnc29ja2V0JwpyZXF1aXJlICdyZXNvbHYnCnJlcXVpcmUgJ3N5c2xvZyc
KcmVxdWlyZSAnZmFjdGVyJwpyZXF1aXJlICd5YW1sJwpyZXF1aXJlICdqc29uJwoKZGVmIGxvZ19tc2
cgbXNnCiAgaWYgZGVmaW5lZD8gOjpQcm94eTo6TG9nZ2VyRmFjdG9yeQogICAgIyBoZWxwZXIgbWV0a
G9kcyBhcmUgYWxzbyB1c2VkIGZyb20gcHJveHkgY29udGV4dCAocmVmcmVzaCBmYWN0cyAtPiBmYWN0
ZXIgQVBJIC0+IGN1c3RvbSBmYWN0cykKICAgIDo6UHJveHk6OkxvZ2dlckZhY3RvcnkubG9nZ2VyLml
uZm8gbXNnCiAgZWxzZQogICAgU3lzbG9nLm9wZW4oJDAsIFN5c2xvZzo6TE9HX1BJRCB8IFN5c2xvZz
o6TE9HX0NPTlMpIHsgfHN8IHMuaW5mbyBtc2cudG9fcy5nc3ViKCclJywgJyUlJykgcmVzY3VlIGZhb
HNlIH0KICBlbmQKcmVzY3VlIEV4Y2VwdGlvbiA9PiBlCiAgcHV0cyBtc2cKZW5kCgpkZWYgbG9nX2Vy
ciBtc2cKICBpZiBkZWZpbmVkPyA6OlByb3h5OjpMb2dnZXJGYWN0b3J5CiAgICAjIGhlbHBlciBtZXR
ob2RzIGFyZSBhbHNvIHVzZWQgZnJvbSBwcm94eSBjb250ZXh0IChyZWZyZXNoIGZhY3RzIC0+IGZhY3
RlciBBUEkgLT4gY3VzdG9tIGZhY3RzKQogICAgOjpQcm94eTo6TG9nZ2VyRmFjdG9yeS5sb2dnZXIuZ
XJyb3IgbXNnCiAgZWxzZQogICAgU3lzbG9nLm9wZW4oJDAsIFN5c2xvZzo6TE9HX1BJRCB8IFN5c2xv
Zzo6TE9HX0NPTlMpIHsgfHN8IHMuZXJyIG1zZy50b19zLmdzdWIoJyUnLCAnJSUnKSByZXNjdWUgZmF
sc2UgfQogIGVuZApyZXNjdWUgRXhjZXB0aW9uID0+IGUKICBwdXRzIG1zZwplbmQKCmRlZiBsb2dfZG
VidWcgbXNnCiAgaWYgZGVmaW5lZD8gOjpQcm94eTo6TG9nZ2VyRmFjdG9yeQogICAgIyBoZWxwZXIgb
WV0aG9kcyBhcmUgYWxzbyB1c2VkIGZyb20gcHJveHkgY29udGV4dCAocmVmcmVzaCBmYWN0cyAtPiBm
YWN0ZXIgQVBJIC0+IGN1c3RvbSBmYWN0cykKICAgIDo6UHJveHk6OkxvZ2dlckZhY3RvcnkubG9nZ2V
yLmRlYnVnIG1zZwogIGVsc2UKICAgIFN5c2xvZy5vcGVuKCQwLCBTeXNsb2c6OkxPR19QSUQgfCBTeX
Nsb2c6OkxPR19DT05TKSB7IHxzfCBzLmRlYnVnIG1zZy50b19zLmdzdWIoJyUnLCAnJSUnKSByZXNjd
WUgZmFsc2UgfQogIGVuZApyZXNjdWUgRXhjZXB0aW9uID0+IGUKICBwdXRzIG1zZwplbmQKCmRlZiBs
b2dfZXhjZXB0aW9uIGV4CiAgaWYgZXguaXNfYT8gRXhjZXB0aW9uCiAgICBiYWNrdHJhY2UgPSAoZXg
udG9fcyArICJcbiIgKyBleC5iYWNrdHJhY2Uuam9pbigiXG4iKSkgcmVzY3VlICdOL0EnCiAgICBsb2
dfZXJyICIje2V4LmNsYXNzfTogI3tleC5tZXNzYWdlfVxuI3tiYWNrdHJhY2V9IgogICAgYmFja3RyY
WNlCiAgZW5kCmVuZAoKZGVmIGNhcHR1cmVfc3RkZXJyCiAgcHJldmlvdXNfc3RkZXJyLCAkc3RkZXJy
ID0gJHN0ZGVyciwgU3RyaW5nSU8ubmV3CiAgeWllbGQKICAkc3RkZXJyLnN0cmluZwplbnN1cmUKICA
kc3RkZXJyID0gcHJldmlvdXNfc3RkZXJyCmVuZAoKZGVmIGNtZGxpbmVfaGFzaAogICRjbWRsaW5lX2
hhc2ggfHw9IEhhc2hbY21kbGluZS5zcGxpdC5tYXAgeyB8eHwgeC5zcGxpdCgnPScsIDIpfV0KZW5kC
gpkZWYgY21kbGluZSBvcHRpb249bmlsLCBkZWZhdWx0PW5pbAogIHJldHVybiBGaWxlLm9wZW4oIi9w
cm9jL2NtZGxpbmUiLCAncicpIHsgfGZ8IGYucmVhZCB9IHVubGVzcyBvcHRpb24KICBjbWRsaW5lX2h
hc2hbb3B0aW9uXSB8fCBkZWZhdWx0CmVuZAoKZGVmIGRldGVjdF9maXJzdF9uaWNfd2l0aF9saW5rCi
AgZGV0ZWN0aW9uX2Z1bmMgPSBsYW1iZGEgZG8KICAgIG1hYyA9ICcnCiAgICBsb2dfZGVidWcgIkRld
GVjdGluZyB0aGUgZmlyc3QgTklDcyB3aXRoIGxpbmsiCiAgICBEaXIuZ2xvYignL3N5cy9jbGFzcy9u
ZXQvKicpLnNvcnQuZWFjaCBkbyB8aWZufAogICAgICBuYW1lID0gRmlsZS5iYXNlbmFtZSBpZm4KICA
gICAgbmV4dCBpZiBuYW1lID09ICJsbyIKICAgICAgbWFjID0gRmlsZS5yZWFkKCIje2lmbn0vYWRkcm
VzcyIpLmNob21wIHJlc2N1ZSAnJwogICAgICBpZiAoRmlsZS5yZWFkKCIje2lmbn0vY2FycmllciIpL
mNob21wID09ICIxIiByZXNjdWUgZmFsc2UpCiAgICAgICAgbG9nX2RlYnVnICJJbnRlcmZhY2Ugd2l0
aCBsaW5rIGZvdW5kOiAje21hY30gKCN7bmFtZX0pIgogICAgICAgIHJldHVybiBtYWMKICAgICAgZW5
kCiAgICBlbmQKICAgIGxvZ19kZWJ1ZyAiTm8gaW50ZXJmYWNlcyB3aXRoIGxpbmsgZm91bmQsIHVzaW
5nICN7bWFjfSIKICAgIG1hYwogIGVuZAogIEBkZXRlY3RlZF9tYWMgfHw9IGRldGVjdGlvbl9mdW5jL
mNhbGwKZW5kCgpkZWYgbm9ybWFsaXplX21hYyBtYWMKICBtYWMuc3BsaXQoJy0nKVsxLi42XS5qb2lu
KCc6JykgcmVzY3VlIG5pbAplbmQKCmRlZiBkaXNjb3Zlcl9zZXJ2ZXIKICBkaXNjb3Zlcl9ieV91cmw
gfHwgZGlzY292ZXJfYnlfZG5zX3NydgplbmQKCmRlZiBkaXNjb3Zlcl9ieV91cmwKICB1cmwgPSBjbW
RsaW5lKCdwcm94eS51cmwnKSB8fCBjbWRsaW5lKCdmb3JlbWFuLnVybCcpCiAgbG9nX21zZyAiRGlzY
292ZXJlZCBieSBVUkw6ICN7dXJsfSIgaWYgdXJsCiAgVVJJLnBhcnNlKHVybCkKcmVzY3VlCiAgcmV0
dXJuIG5pbAplbmQKCiMgU1JWIGRpc2NvdmVyeSB3aWxsIHdvcmsgb25seSBpZiBESENQIHJldHVybnM
gdmFsaWQgc2VhcmNoIGRvbWFpbgpkZWYgZGlzY292ZXJfYnlfZG5zX3NydgogIGRlZmF1bHQgPSBSZX
NvbHY6OkROUzo6Q29uZmlnLmRlZmF1bHRfY29uZmlnX2hhc2gKICBjb25mID0gewogICAgOm5hbWVzZ
XJ2ZXIgPT4gY21kbGluZSgiZmRpLmRuc19uYW1lc2VydmVyIiwgZGVmYXVsdFs6bmFtZXNlcnZlcl0p
LAogICAgOnNlYXJjaCA9PiBjbWRsaW5lKCJmZGkuZG5zX3NlYXJjaCIsIGRlZmF1bHRbOnNlYXJjaF0
pLAogICAgOm5kb3RzID0+IGNtZGxpbmUoImZkaS5kbnNfbmRvdHMiLCBkZWZhdWx0WzpuZG90c10pLn
RvX2ksCiAgfQogIHJlc29sdmVyID0gUmVzb2x2OjpETlMubmV3KGNvbmYpCiAgdHlwZSA9IFJlc29sd
jo6RE5TOjpSZXNvdXJjZTo6SU46OlNSVgogIHJlc3VsdCA9IHJlc29sdmVyLmdldHJlc291cmNlcygi
X3gtZm9yZW1hbi5fdGNwIiwgdHlwZSkuZmlyc3QKICBob3N0bmFtZSA9IHJlc3VsdC50YXJnZXQudG9
fcwogIGlmIFs0NDMsIDg0NDMsIDkwOTBdLmluY2x1ZGU/KHJlc3VsdC5wb3J0KQogICAgc2NoZW1lID
0gJ2h0dHBzJwogIGVsc2UKICAgIHNjaGVtZSA9ICdodHRwJwogIGVuZAogIHVyaSA9ICIje3NjaGVtZ
X06Ly8je2hvc3RuYW1lfToje3Jlc3VsdC5wb3J0fSIKICBsb2dfbXNnICJEaXNjb3ZlcmVkIGJ5IFNS
VjogI3t1cml9IgogIFVSSS5wYXJzZSh1cmkpCnJlc2N1ZQogIHJldHVybiBuaWwKZW5kCgpkZWYgcHJ
veHlfdHlwZQogIHR5cGUgPSBjbWRsaW5lKCdwcm94eS50eXBlJywgJ2ZvcmVtYW4nKQogIGxvZ19lcn
IoJyoqKiBwcm94eS50eXBlIHNob3VsZCBiZSBlaXRoZXIgImZvcmVtYW4iIG9yICJwcm94eSIgKioqJ
ykgdW5sZXNzIFsnZm9yZW1hbicsICdwcm94eSddLmluY2x1ZGU/IHR5cGUKICB0eXBlCmVuZAoKZGVm
IHdyaXRlX3R1aSByZXN1bHQgPSAnc3VjY2VzcycsIGNvZGUsIGJvZHkKICBmaWxlbmFtZSA9ICIvdG1
wL2Rpc2NvdmVyeS1odHRwLSN7cmVzdWx0fSIKICBsb2dfZGVidWcgIldyb3RlIHJlc3VsdCAje2NvZG
V9IHRvICN7ZmlsZW5hbWV9IgogIEZpbGUub3BlbihmaWxlbmFtZSwgJ3cnKSBkbyB8ZmlsZXwKICAgI
GZpbGUud3JpdGUoIiN7Y29kZX06ICN7Ym9keX0iKQogIGVuZAplbmQKCmRlZiB1cGxvYWQodXJpID0g
ZGlzY292ZXJfc2VydmVyLCB0eXBlID0gcHJveHlfdHlwZSwgY3VzdG9tX2ZhY3RzID0ge30pCiAgdW5
sZXNzIHVyaQogICAgbG9nX2VyciAiQ291bGQgbm90IGRldGVybWluZSBpbnN0YW5jZSB0eXBlLCBhZG
QgZm9yZW1hbi51cmwgb3IgcHJveHkudXJsIGtlcm5lbCBjb21tYW5kIHBhcmFtZXRlciIKICAgIHJld
HVybgogIGVuZAogIHVubGVzcyB1cmkuaXNfYT8gVVJJCiAgICBsb2dfZXJyICJVcGxvYWQjdXJpIG11
c3QgYmUgdHlwZSBvZiBVUkkiCiAgICByZXR1cm4KICBlbmQKICBpZiB1cmkuaG9zdC5uaWw/IG9yIHV
yaS5wb3J0Lm5pbD8KICAgIGxvZ19lcnIgIlNlcnZlciBvciBwcm94eSBVUkkgaG9zdCBvciBwb3J0IH
dhcyBub3Qgc3BlY2lmaWVkLCBjYW5ub3QgY29udGludWUiCiAgICByZXR1cm4KICBlbmQKICBsb2dfb
XNnICJSZWdpc3RlcmluZyBob3N0IGF0ICgje3VyaX0pIgogIGh0dHAgPSBOZXQ6OkhUVFAubmV3KHVy
aS5ob3N0LCB1cmkucG9ydCkKICBpZiB1cmkuc2NoZW1lID09ICdodHRwcycgdGhlbgogICAgaHR0cC5
1c2Vfc3NsID0gdHJ1ZQogICAgaHR0cC52ZXJpZnlfbW9kZSA9IE9wZW5TU0w6OlNTTDo6VkVSSUZZX0
5PTkUKICBlbmQKICBmYWN0c191cmwgPSBpZiB0eXBlID09ICdwcm94eScKICAgICAgICAgICAgICAgI
CIje3VyaS5wYXRofS9kaXNjb3ZlcnkvY3JlYXRlIgogICAgICAgICAgICAgIGVsc2UKICAgICAgICAg
ICAgICAgICIje3VyaS5wYXRofS9hcGkvdjIvZGlzY292ZXJlZF9ob3N0cy9mYWN0cyIKICAgICAgICA
gICAgICBlbmQKICByZXEgPSBOZXQ6OkhUVFA6OlBvc3QubmV3KGZhY3RzX3VybCwgeydDb250ZW50LV
R5cGUnID0+ICdhcHBsaWNhdGlvbi9qc29uJ30pCiAgIyBjcmVhdGUgZmFjdHMgYmFzZWQgb24gdXNlc
iBpbnB1dAogIHVzZXJfaW5wdXRfZmFjdHMgPSB7ImRpc2NvdmVyeV9wcm94eV91cmkiPT51cmksICJk
aXNjb3ZlcnlfcHJveHlfdHlwZSI9PnR5cGV9CiAgIyBzdXByZXNzIHN0ZGVyciBvZiBGYWN0ZXIKICB
mYWN0cyA9IHt9CiAgY2FwdHVyZV9zdGRlcnIgZG8KICAgIGZhY3RzID0gRmFjdGVyLnRvX2hhc2gKIC
BlbmQuZWFjaF9saW5lIHsgfHh8IGxvZ19lcnIgeH0KICBmYWN0cy5tZXJnZSEoY3VzdG9tX2ZhY3RzK
S5tZXJnZSEodXNlcl9pbnB1dF9mYWN0cykKICByZXEuYm9keSA9IHsnZmFjdHMnID0+IGZhY3RzIH0u
dG9fanNvbgogIHJlc3BvbnNlID0gaHR0cC5yZXF1ZXN0KHJlcSkKICBpZiBbJzIwMCcsJzIwMSddLml
uY2x1ZGU/IHJlc3BvbnNlLmNvZGUKICAgIGxvZ19tc2cgIlJlc3BvbnNlIGZyb20gc2VydmVyICN7cm
VzcG9uc2UuY29kZX06ICN7cmVzcG9uc2UuYm9keX0iCiAgICBib2R5ID0gcmVzcG9uc2UubmlsPyA/I
CdOL0EnIDogcmVzcG9uc2UuYm9keQogICAgd3JpdGVfdHVpICdzdWNjZXNzJywgcmVzcG9uc2UuY29k
ZSwgYm9keQogICAgcmV0dXJuIHRydWUKICBlbHNlCiAgICBsb2dfZXJyICJSZXNwb25zZSBmcm9tIHN
lcnZlciAje3Jlc3BvbnNlLmNvZGV9OiAje3Jlc3BvbnNlLmJvZHl9IgogICAgYm9keSA9IHJlc3Bvbn
NlLm5pbD8gPyAnTi9BJyA6IHJlc3BvbnNlLmJvZHkKICAgIHdyaXRlX3R1aSAnZmFpbHVyZScsIHJlc
3BvbnNlLmNvZGUsIGJvZHkKICAgIHJldHVybiBmYWxzZQogIGVuZApyZXNjdWUgPT4gZQogIGxvZ19l
cnIgIkNvdWxkIG5vdCBzZW5kIGZhY3RzIHRvIHNlcnZlcjogI3tlfSIKICBsb2dfZGVidWcgZS5iYWN
rdHJhY2Uuam9pbigiXG4iKQogIGJvZHkgPSByZXNwb25zZS5uaWw/ID8gJ04vQScgOiByZXNwb25zZS
5ib2R5CiAgd3JpdGVfdHVpICdmYWlsdXJlJywgMTAwMSwgIiN7ZX0sIGJvZHk6ICN7Ym9keX0iCiAgc
mV0dXJuIGZhbHNlCmVuZAoKIyBRdWljayBmdW5jdGlvbiB0byBhcHBlbmQgdG8gRU5WIHZhcnMgY29y
cmVjdGx5CmRlZiBlbnZfYXBwZW5kKGVudixzdHJpbmcpCiAgaWYgRU5WW2Vudl0ubmlsPyBvciBFTlZ
bZW52XS5lbXB0eT8KICAgICIje2Vudn09I3tzdHJpbmd9XG4iCiAgZWxzZQogICAgIiN7ZW52fT0je0
VOVltlbnZdfToje3N0cmluZ31cbiIKICBlbmQKZW5kCgpkZWYgZ2V0X21hYyhpbnRlcmZhY2UgPSAnc
HJpbWFyeScpCiAgd2FpdCA9IGNtZGxpbmUoJ2ZkaS5ubXdhaXQnLCAxMjApCiAgYG5tY2xpIC13ICN7
d2FpdH0gLXQgLWYgODAyLTMtZXRoZXJuZXQubWFjLWFkZHJlc3MgY29uIHNob3cgI3tpbnRlcmZhY2V
9IDI+L2Rldi9udWxsYC5zY2FuKC9cd3syfTpcd3syfTpcd3syfTpcd3syfTpcd3syfTpcd3syfVxuLy
kuZmlyc3Quc3RyaXAgcmVzY3VlICdOL0EnCmVuZAoKZGVmIGdldF9pcHY0KGludGVyZmFjZSA9ICdwc
mltYXJ5JykKICB3YWl0ID0gY21kbGluZSgnZmRpLm5td2FpdCcsIDEyMCkKICBgbm1jbGkgLXcgI3t3
YWl0fSAtdCAtZiBJUDQuQUREUkVTUyBjb24gc2hvdyAje2ludGVyZmFjZX0gMj4vZGV2L251bGxgLi5
zcGxpdCgiOiIsIDIpWzFdLmNob21wIHJlc2N1ZSAiTi9BIgplbmQKCmRlZiBnZXRfaXB2NihpbnRlcm
ZhY2UgPSAncHJpbWFyeScpCiAgd2FpdCA9IGNtZGxpbmUoJ2ZkaS5ubXdhaXQnLCAxMjApCiAgYG5tY
2xpIC13ICN7d2FpdH0gLXQgLWYgSVA2LkFERFJFU1MgY29uIHNob3cgI3tpbnRlcmZhY2V9IDI+L2Rl
di9udWxsYC4uc3BsaXQoIjoiLCAyKVsxXS5jaG9tcCByZXNjdWUgIk4vQSIKZW5kCgpkZWYgZGV0ZWN
0X2lwdjRfY3JlZGVudGlhbHMoaW50ZXJmYWNlKQogIHJlcyA9IHt9CiAgc3RyID0gYG5tY2xpIC10IC
1mIElQNC5BRERSRVNTLElQNC5HQVRFV0FZLElQNC5ETlMgY29uIHNob3cgI3tpbnRlcmZhY2V9IDI+L
2Rldi9udWxsYAogIHJldHVybiBbIiIsICIiLCAiIl0gaWYgJD8gIT0gMAogIHN0ci5lYWNoX2xpbmUg
eyB8eHwga3YgPSB4LnNwbGl0KCc6Jyk7IHJlc1trdlswXV0gPSBrdlsxXS5jaG9tcCB9CiAgW3Jlc1s
iSVA0LkFERFJFU1NbMV0iXSB8fCAnJywgcmVzWyJJUDQuR0FURVdBWSJdIHx8ICcnLCByZXNbIklQNC
5ETlNbMV0iXSB8fCAnJ10KcmVzY3VlID0+IGUKICBsb2dfZXJyIGUubWVzc2FnZQogIFsiIiwgIiIsI
CIiXQplbmQK
CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/countdown.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/countdown.rb <<'CODE'
ZGVmIHNjcmVlbl9jb3VudGRvd24gZGlzY292ZXJ5X29ubHkgPSBmYWxzZQogIHRleHRfaGVscCwgdHc
sIHRoID0gTmV3dC5yZWZsb3dfdGV4dChfKCdUaGlzIHN5c3RlbSB3aWxsIGF0dGVtcHQgdG8gY29uZm
lndXJlIGFsbCBpbnRlcmZhY2VzIHZpYSBESENQIGFuZCBkaXNjb3ZlciBpdHNlbGYgYnkgc2VuZGluZ
yBoYXJkd2FyZSBmYWN0cyB0byBGb3JlbWFuIGluc3RhbmNlLiBUbyBpbnRlcnJ1cHQgdGhpcyBiZWhh
dmlvciwgcHJlc3MgYSBrZXkgdG8gYmUgYWJsZSB0byBkbyBtYW51YWwgbmV0d29yayBjb25maWd1cmF
0aW9uIGFuZCBhZGRpdGlvbmFsIHByb3Zpc2lvbmluZyBzZXR0aW5ncy4nKSwgNjAsIDUsIDUpCiAgdC
A9IE5ld3Q6OlRleHRib3gubmV3KC0xLCAtMSwgdHcsIHRoLCBOZXd0OjpGTEFHX1dSQVApCiAgdC5zZ
XRfdGV4dCh0ZXh0X2hlbHApCgogIHNlY3MgPSBjbWRsaW5lKCJmZGkuY291bnRkb3duIiwgNDUpLnRv
X2kgcmVzY3VlIDQ1CiAgbF9wcmVzcyA9IE5ld3Q6OkxhYmVsLm5ldygtMSwgLTEsICI8ICIgKyBfKCd
QcmVzcyBhbnkga2V5JykgKyAiICgje3NlY3N9cykgPiIpCgogIG1haW5fZ3JpZCA9IE5ld3Q6OkdyaW
QubmV3KDEsIDIpCiAgYnV0X2dyaWQgPSBOZXd0OjpHcmlkLm5ldygxLCAxKQoKICBidXRfZ3JpZC5zZ
XRfZmllbGQoMCwgMCwgTmV3dDo6R1JJRF9DT01QT05FTlQsIGxfcHJlc3MsIDAsIDAsIDAsIDAsIDAs
IDApCgogIG1haW5fZ3JpZC5zZXRfZmllbGQoMCwgMCwgTmV3dDo6R1JJRF9DT01QT05FTlQsIHQsIDA
sIDAsIDAsIDEsIDAsIDApCiAgbWFpbl9ncmlkLnNldF9maWVsZCgwLCAxLCBOZXd0OjpHUklEX1NVQk
dSSUQsIGJ1dF9ncmlkLCAwLCAwLCAwLCAwLCAwLCBOZXd0OjpHUklEX0ZMQUdfR1JPV1gpCiAgbWFpb
l9ncmlkLndyYXBwZWRfd2luZG93KF8oIldlbGNvbWUgdG8gRm9yZW1hbiBEaXNjb3ZlcnkiKSkKCiAg
ZiA9IE5ld3Q6OkZvcm0ubmV3CiAgZi5hZGQodCwgbF9wcmVzcykKICBmLmRyYXcKICBrZXlfd2FzX3B
yZXNzZWQgPSBmYWxzZQogIHVubGVzcyBkaXNjb3Zlcnlfb25seQogICAgc2VjID0gc2VjcwogICAgd2
hpbGUgc2VjID4gMAogICAgICBsX3ByZXNzLnNldF90ZXh0KCI8ICIgKyBfKCdQcmVzcyBhbnkga2V5J
ykgKyAiIC4uLiAoI3tzZWN9cykgPiIpCiAgICAgIHNlYyA9IHNlYyAtIDEKICAgICAgTmV3dDo6U2Ny
ZWVuLnJlZnJlc2gKICAgICAgaWYgKFNURElOLnJlYWRfbm9uYmxvY2soMSkgcmVzY3VlIG5pbCkKICA
gICAgICBrZXlfd2FzX3ByZXNzZWQgPSB0cnVlCiAgICAgICAgYnJlYWsKICAgICAgZW5kCiAgICAgIH
NsZWVwIDEKICAgIGVuZAogIGVuZAoKICBpZiBrZXlfd2FzX3ByZXNzZWQKICAgIDpzY3JlZW5fd2VsY
29tZQogIGVsc2UKICAgIHN0YXJ0X2Rpc2NvdmVyeV9zZXJ2aWNlCiAgICAjIGFkZGl0aW9uYWwgY291
bnRkb3duIHRvIGxldCBkaXNjb3ZlcnktcmVnaXN0ZXIgZG8gaXRzIHdvcmsKICAgIHNlYyA9IHNlY3M
KICAgIHdoaWxlIHNlYyA+IDAKICAgICAgbF9wcmVzcy5zZXRfdGV4dCgiPCAiICsgXygnRGlzY292ZX
J5JykgKyAiIC4uLiAoI3tzZWN9cykgPiIpCiAgICAgIHNlYyA9IHNlYyAtIDEKICAgICAgTmV3dDo6U
2NyZWVuLnJlZnJlc2gKICAgICAgIyBicmVhayBjb3VudGRvd24gb24ga2V5cHJlc3Mgb3IgSVBDCiAg
ICAgIGJyZWFrIGlmIChTVERJTi5yZWFkX25vbmJsb2NrKDEpIHJlc2N1ZSBuaWwpCiAgICAgIGJyZWF
rIGlmIEZpbGUuZXhpc3Q/KCIvdG1wL2Rpc2NvdmVyeS1odHRwLXN1Y2Nlc3MiKQogICAgICBicmVhay
BpZiBGaWxlLmV4aXN0PygiL3RtcC9kaXNjb3ZlcnktaHR0cC1mYWlsdXJlIikKICAgICAgc2xlZXAgM
QogICAgZW5kCiAgICA6c2NyZWVuX3N0YXR1cwogIGVuZAplbmQK
CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/facts.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/facts.rb <<'CODE'
ZGVmIHNjcmVlbl9mYWN0cyBtYWMsIHByb3h5X3VybCwgcHJveHlfdHlwZQogIGN1c3RvbV9mYWN0cyA
9IG5ld19jdXN0b21fZmFjdHMobWFjKQoKICBiX2NvbmZpcm0gPSBOZXd0OjpCdXR0b24ubmV3KC0xLC
AtMSwgXygiQ29uZmlybSIpKQogIGJfY2FuY2VsID0gTmV3dDo6QnV0dG9uLm5ldygtMSwgLTEsIF8oI
kNhbmNlbCIpKQoKICB0b3BfZ3JpZCA9IE5ld3Q6OkdyaWQubmV3KDEsIDIpCiAgZmFjdHNfZ3JpZCA9
IE5ld3Q6OkdyaWQubmV3KDQsIDkpCiAgYnV0X2dyaWQgPSBOZXd0OjpHcmlkLm5ldygyLCAxKQoKICB
idXRfZ3JpZC5zZXRfZmllbGQoMCwgMCwgTmV3dDo6R1JJRF9DT01QT05FTlQsIGJfY29uZmlybSwgMC
wgMCwgMiwgMCwgMCwgMCkKICBidXRfZ3JpZC5zZXRfZmllbGQoMSwgMCwgTmV3dDo6R1JJRF9DT01QT
05FTlQsIGJfY2FuY2VsLCAwLCAwLCAyLCAwLCAwLCAwKQoKICBuYW1lcyA9IFtdOyB2YWx1ZXMgPSBb
XTsgbGFiZWxzID0gW107IGxhYmVsc19zZXAgPSBbXQogICgwLi44KS5lYWNoX3dpdGhfaW5kZXggZG8
gfGl4LCBffAogICAgbGFiZWxzW2l4XSA9IE5ld3Q6OkxhYmVsLm5ldygtMSwgLTEsIChfKCJGYWN0IC
VzIG5hbWUiKSAlICgnIycgKyAoaXggKyAxKS50b19zKSkgKyAnICcpCiAgICBsYWJlbHNfc2VwW2l4X
SA9IE5ld3Q6OkxhYmVsLm5ldygtMSwgLTEsICcgJyArIF8oJ3ZhbHVlJykgKyAnICcpCiAgICBuYW1l
c1tpeF0gPSBOZXd0OjpFbnRyeS5uZXcoLTEsIC0xLCBjbWRsaW5lKCJmZGkucHhmYWN0bmFtZSN7aXg
gKyAxfSIpLnRvX3MsIDE1LCBOZXd0OjpGTEFHX1NDUk9MTCkKICAgIHZhbHVlc1tpeF0gPSBOZXd0Oj
pFbnRyeS5uZXcoLTEsIC0xLCBjbWRsaW5lKCJmZGkucHhmYWN0dmFsdWUje2l4ICsgMX0iKS50b19zL
CAxNSwgTmV3dDo6RkxBR19TQ1JPTEwpCiAgICBmYWN0c19ncmlkLnNldF9maWVsZCgwLCBpeCwgTmV3
dDo6R1JJRF9DT01QT05FTlQsIGxhYmVsc1tpeF0sIDAsIDAsIDAsIDAsIDAsIDApCiAgICBmYWN0c19
ncmlkLnNldF9maWVsZCgxLCBpeCwgTmV3dDo6R1JJRF9DT01QT05FTlQsIG5hbWVzW2l4XSwgMCwgMC
wgMCwgMCwgMCwgMCkKICAgIGZhY3RzX2dyaWQuc2V0X2ZpZWxkKDIsIGl4LCBOZXd0OjpHUklEX0NPT
VBPTkVOVCwgbGFiZWxzX3NlcFtpeF0sIDAsIDAsIDAsIDAsIDAsIDApCiAgICBmYWN0c19ncmlkLnNl
dF9maWVsZCgzLCBpeCwgTmV3dDo6R1JJRF9DT01QT05FTlQsIHZhbHVlc1tpeF0sIDAsIDAsIDAsIDA
sIDAsIDApCiAgZW5kCgogIHRvcF9ncmlkLnNldF9maWVsZCgwLCAwLCBOZXd0OjpHUklEX1NVQkdSSU
QsIGZhY3RzX2dyaWQsIDAsIDAsIDAsIDAsIDAsIDApCiAgdG9wX2dyaWQuc2V0X2ZpZWxkKDAsIDEsI
E5ld3Q6OkdSSURfU1VCR1JJRCwgYnV0X2dyaWQsIDAsIDIsIDAsIDAsIDAsIDApCgogIHRvcF9ncmlk
LndyYXBwZWRfd2luZG93KF8oIkN1c3RvbSBmYWN0cyIpKQoKICBmID0gTmV3dDo6Rm9ybS5uZXcKICB
mLmFkZChiX2NvbmZpcm0sIGJfY2FuY2VsKQogICgwLi44KS5lYWNoX3dpdGhfaW5kZXggZG8gfGl4LC
BffAogICAgZi5hZGQobGFiZWxzW2l4XSwgbmFtZXNbaXhdLCBsYWJlbHNfc2VwW2l4XSwgdmFsdWVzW
2l4XSkKICBlbmQKICBhbnN3ZXIgPSBmLnJ1bgogIGlmIGFuc3dlciA9PSBiX2NvbmZpcm0KICAgICgw
Li44KS5lYWNoX3dpdGhfaW5kZXggZG8gfGl4LCBffAogICAgICBjdXN0b21fZmFjdHNbbmFtZXNbaXh
dLmdldF0gPSB2YWx1ZXNbaXhdLmdldCBpZiBuYW1lc1tpeF0uZ2V0ICYmIHZhbHVlc1tpeF0uZ2V0Ci
AgICBlbmQKICAgIGlmIHBlcmZvcm1fdXBsb2FkKHByb3h5X3VybCwgcHJveHlfdHlwZSwgY3VzdG9tX
2ZhY3RzKQogICAgICBbOnNjcmVlbl9zdGF0dXMsIGdlbmVyYXRlX2luZm8oJyAtICcgKyBfKCdhd2Fp
dGluZyBrZXhlYyBpbnRvIGluc3RhbGxlcicpKV0KICAgIGVsc2UKICAgICAgWzpzY3JlZW5fc3RhdHV
zLCBnZW5lcmF0ZV9pbmZvKCcgLSAnICsgXygnZmFjdCB1cGxvYWQgZmFpbGVkJykpXQogICAgZW5kCi
AgZWxzZQogICAgOnNjcmVlbl93ZWxjb21lCiAgZW5kCmVuZAo=
CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/foreman.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/foreman.rb <<'CODE'
ZGVmIHNjcmVlbl9mb3JlbWFuIG1hYyA9IG5pbCwgZ3cgPSBuaWwsIHByb3h5X3VybCA9IGNtZGxpbmU
oJ3Byb3h5LnVybCcpLCBwcm94eV90eXBlID0gY21kbGluZSgncHJveHkudHlwZScpCiAgTmV3dDo6U2
NyZWVuLmNlbnRlcmVkX3dpbmRvdyg1OSwgMjAsIF8oIkNyZWRlbnRpYWxzIikpCiAgZiA9IE5ld3Q6O
kZvcm0ubmV3CiAgdF9kZXNjID0gTmV3dDo6VGV4dGJveC5uZXcoMiwgMiwgNTQsIDYsIE5ld3Q6OkZM
QUdfV1JBUCkKICB0X2Rlc2Muc2V0X3RleHQgXygiUHJvdmlkZSBmdWxsIFVSTCAoaHR0cChzKTovL2h
vc3Q6UE9SVCkgdG8gdGhlIFNlcnZlciBvciBGb3JlbWFuIFByb3h5IGFjY29yZGluZyB0byB0aGUgdH
lwZSBzZWxlY3RlZC4gUG9ydHMgYXJlIHVzdWFsbHkgNDQzLCA4NDQzLCA4NDQ4IG9yIDkwOTAgYWNjb
3JkaW5nIHRvIGNvbmZpZ3VyYXRpb24uIikKICBsX3VybCA9IE5ld3Q6OkxhYmVsLm5ldygyLCA4LCBf
KCJTZXJ2ZXIgVVJMOiIpKQogIGxfdHlwZSA9IE5ld3Q6OkxhYmVsLm5ldygyLCAxMCwgXygiQ29ubmV
jdGlvbiB0eXBlOiIpKQogIHRfdXJsID0gTmV3dDo6RW50cnkubmV3KDIwLCA4LCAiIiwgMzYsIE5ld3
Q6OkZMQUdfU0NST0xMKQogIHJfc2VydmVyID0gTmV3dDo6UmFkaW9CdXR0b24ubmV3KDIwLCAxMCwgX
ygiU2VydmVyIiksIDAsIG5pbCkKICByX3Byb3h5ID0gTmV3dDo6UmFkaW9CdXR0b24ubmV3KDMyLCAx
MCwgXygiRm9yZW1hbiBQcm94eSIpLCAxLCByX3NlcnZlcikKICBiX29rID0gTmV3dDo6QnV0dG9uLm5
ldygzNCwgMTUsIF8oIk5leHQiKSkKICBiX2NhbmNlbCA9IE5ld3Q6OkJ1dHRvbi5uZXcoNDYsIDE1LC
BfKCJDYW5jZWwiKSkKICBwcm94eV90eXBlIHx8PSAnZm9yZW1hbicKICB0X3VybC5zZXQocHJveHlfd
XJsLCAxKSBpZiBwcm94eV91cmwKICByX3NlcnZlci5zZXQocHJveHlfdHlwZSAhPSAncHJveHknID8g
JyonIDogJyAnKQogIHJfcHJveHkuc2V0KHByb3h5X3R5cGUgPT0gJ3Byb3h5JyA/ICcqJyA6ICcgJyk
KICBpdGVtcyA9IFt0X2Rlc2MsIGxfdHlwZSwgbF91cmwsIHRfdXJsLCByX3NlcnZlciwgcl9wcm94eV
0KICBpZiBwcm94eV91cmwKICAgIGYuYWRkKGJfb2ssIGJfY2FuY2VsLCAqaXRlbXMpCiAgZWxzZQogI
CAgZi5hZGQoKml0ZW1zLCBiX29rLCBiX2NhbmNlbCkKICBlbmQKICBhbnN3ZXIgPSBmLnJ1bgogIGlm
IGFuc3dlciA9PSBiX29rCiAgICBiZWdpbgogICAgICBwcm94eV90eXBlID0gcl9zZXJ2ZXIuZ2V0ID0
9ICcqJyA/ICdmb3JlbWFuJyA6ICdwcm94eScKICAgICAgdXJsID0gdF91cmwuZ2V0CiAgICAgIHJhaX
NlIF8oIk5vIFVSTCB3YXMgcHJvdmlkZWQiKSBpZiB1cmwuc2l6ZSA8IDEKICAgICAgcHJveHlfdXJsI
D0gVVJJLnBhcnNlKHVybCkKICAgICAgdW5sZXNzIFs0NDMsIDg0NDMsIDg0NDgsIDkwOTBdLmluY2x1
ZGU/IHByb3h5X3VybC5wb3J0CiAgICAgICAgTmV3dDo6U2NyZWVuLndpbl9tZXNzYWdlKF8oIldhcm5
pbmciKSwgXygiT0siKSwgXygiUG9ydCAlcyBpcyBsaWtlbHkgbm90IGNvcnJlY3QsIGV4cGVjdGVkIH
BvcnRzIGFyZSA0NDMsIDg0NDMgb3IgOTA5MCIpICUgcHJveHlfdXJsLnBvcnQpCiAgICAgIGVuZAogI
CAgcmVzY3VlIEV4Y2VwdGlvbiA9PiBlCiAgICAgIE5ld3Q6OlNjcmVlbi53aW5fbWVzc2FnZShfKCJJ
bnZhbGlkIFVSTCIpLCBfKCJPSyIpLCBfKCJOb3QgYSB2YWxpZCBVUkwiKSArICI6ICN7dXJsfSAoI3t
lfSkiKQogICAgICByZXR1cm4gWzpzY3JlZW5fZm9yZW1hbiwgbWFjLCBndywgdXJsLCBwcm94eV90eX
BlXQogICAgZW5kCiAgICBbOnNjcmVlbl9mYWN0cywgbWFjLCBwcm94eV91cmwsIHByb3h5X3R5cGVdC
iAgZWxzZQogICAgOnNjcmVlbl93ZWxjb21lCiAgZW5kCmVuZAo=
CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/info.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/info.rb <<'CODE'
ZGVmIHNjcmVlbl9pbmZvIGFjdGlvbl9wcm9jLCBtZXNzYWdlLCBlcnJvcl9tZXNzYWdlLCBzdWNjZXN
zX3NjcmVlbiwgZmFpbHVyZV9zY3JlZW4KICB0ZXh0X2hlbHAsIHR3LCB0aCA9IE5ld3QucmVmbG93X3
RleHQobWVzc2FnZSwgNjAsIDUsIDUpCiAgdCA9IE5ld3Q6OlRleHRib3gubmV3KC0xLCAtMSwgdHcsI
HRoLCBOZXd0OjpGTEFHX1dSQVApCiAgdC5zZXRfdGV4dCh0ZXh0X2hlbHApCgogIG1haW5fZ3JpZCA9
IE5ld3Q6OkdyaWQubmV3KDEsIDEpCiAgbWFpbl9ncmlkLnNldF9maWVsZCgwLCAwLCBOZXd0OjpHUkl
EX0NPTVBPTkVOVCwgdCwgMCwgMCwgMCwgMSwgMCwgMCkKICBtYWluX2dyaWQud3JhcHBlZF93aW5kb3
coXygiV2FpdGluZyBmb3Igb3BlcmF0aW9uIHRvIGNvbXBsZXRlIikpCgogIGYgPSBOZXd0OjpGb3JtL
m5ldwogIGYuYWRkKHQpCiAgZi5kcmF3CgogICMgZmFjdGVyIHNvbWV0aW1lcyBsZWF2ZXMgbWVzc2Fn
ZXMgb24gc3Rkb3V0LCByZWZyZXNoIGJlZm9yZS9hZnRlcgogIE5ld3Q6OlNjcmVlbi5yZWZyZXNoCiA
gcmVzdWx0ID0gYWN0aW9uX3Byb2MuY2FsbAogIE5ld3Q6OlNjcmVlbi5yZWZyZXNoCgogIGlmIHJlc3
VsdAogICAgc3VjY2Vzc19zY3JlZW4KICBlbHNlCiAgICBOZXd0OjpTY3JlZW4ud2luX21lc3NhZ2UoX
ygiT3BlcmF0aW9uIGZhaWxlZCIpLCBfKCJPSyIpLCBlcnJvcl9tZXNzYWdlKQogICAgZmFpbHVyZV9z
Y3JlZW4KICBlbmQKZW5kCg==
CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/network.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/network.rb <<'CODE'
ZGVmIHNjcmVlbl9uZXR3b3JrIG1hYywgdmxhbl9pZCwgaXAgPSBjbWRsaW5lKCdmZGkucHhpcCcsICc
nKSwgZ3cgPSBjbWRsaW5lKCdmZGkucHhndycsICcnKSwgZG5zID0gY21kbGluZSgnZmRpLnB4ZG5zJy
wgJycpCiAgTmV3dDo6U2NyZWVuLmNlbnRlcmVkX3dpbmRvdyg3NSwgMjAsIF8oIk5ldHdvcmsgY29uZ
mlndXJhdGlvbiIpKQogIGYgPSBOZXd0OjpGb3JtLm5ldwogIHRfZGVzYyA9IE5ld3Q6OlRleHRib3gu
bmV3KDIsIDIsIDcwLCA2LCBOZXd0OjpGTEFHX1dSQVApCiAgdF9kZXNjLnNldF90ZXh0IF8oIlByb3Z
pZGUgbmV0d29yayBjb25maWd1cmF0aW9uIGZvciB0aGUgc2VsZWN0ZWQgcHJpbWFyeSBpbnRlcmZhY2
UuIFVzZSBDSURSIG5ldG1hc2sgbm90YXRpb24gKGUuZy4gMTkyLjE2OC4xLjEvMjQpIGZvciB0aGUgS
VB2NCBvciBJUHY2IGFkZHJlc3MuIikKICBsX2lwID0gTmV3dDo6TGFiZWwubmV3KDIsIDgsIF8oIkFk
ZHJlc3M6IikpCiAgbF9ndyA9IE5ld3Q6OkxhYmVsLm5ldygyLCAxMCwgXygiR2F0ZXdheToiKSkKICB
sX2RucyA9IE5ld3Q6OkxhYmVsLm5ldygyLCAxMiwgXygiRE5TOiIpKQogIHRfaXAgPSBOZXd0OjpFbn
RyeS5uZXcoMTYsIDgsIGlwLCA1NSwgTmV3dDo6RkxBR19TQ1JPTEwpCiAgdF9ndyA9IE5ld3Q6OkVud
HJ5Lm5ldygxNiwgMTAsIGd3LCA1NSwgTmV3dDo6RkxBR19TQ1JPTEwpCiAgdF9kbnMgPSBOZXd0OjpF
bnRyeS5uZXcoMTYsIDEyLCBkbnMsIDU1LCBOZXd0OjpGTEFHX1NDUk9MTCkKICBiX29rID0gTmV3dDo
6QnV0dG9uLm5ldygyNCwgMTUsIF8oIk5leHQiKSkKICBiX2NhbmNlbCA9IE5ld3Q6OkJ1dHRvbi5uZX
coMzYsIDE1LCBfKCJDYW5jZWwiKSkKICBpdGVtcyA9IFt0X2Rlc2MsIGxfaXAsIGxfZ3csIGxfZG5zL
CB0X2lwLCB0X2d3LCB0X2Ruc10KICBpZiBjbWRsaW5lKCdmZGkucHhpcCcpCiAgICBmLmFkZChiX29r
LCBiX2NhbmNlbCwgKml0ZW1zKQogIGVsc2UKICAgIGYuYWRkKCppdGVtcywgYl9vaywgYl9jYW5jZWw
pCiAgZW5kCiAgYW5zd2VyID0gZi5ydW4KICBpZiBhbnN3ZXIgPT0gYl9vawogICAgaXAgPSB0X2lwLm
dldAogICAgZ3cgPSB0X2d3LmdldAogICAgZG5zID0gdF9kbnMuZ2V0CiAgICBiZWdpbgogICAgICBJU
EFkZHIubmV3KGlwKTsgSVBBZGRyLm5ldyhndyk7IElQQWRkci5uZXcoZG5zKQogICAgcmVzY3VlIEV4
Y2VwdGlvbiA9PiBlCiAgICAgIE5ld3Q6OlNjcmVlbi53aW5fbWVzc2FnZShfKCJJbnZhbGlkIElQIik
sIF8oIk9LIiksIF8oIlByb3ZpZGUgdmFsaWQgQ0lEUiBpcGFkZHJlc3Mgd2l0aCBhIG5ldG1hc2ssIG
dhdGV3YXkgYW5kIG9uZSBETlMgc2VydmVyIikpCiAgICAgIHJldHVybiBbOnNjcmVlbl9uZXR3b3JrL
CBtYWMsIHZsYW5faWQsIGlwLCBndywgZG5zXQogICAgZW5kCiAgICBhY3Rpb24gPSBQcm9jLm5ldyB7
IGNvbmZpZ3VyZV9uZXR3b3JrIHRydWUsIG1hYywgaXAsIGd3LCBkbnMsIHZsYW5faWQgfQogICAgWzp
zY3JlZW5faW5mbywgYWN0aW9uLCBfKCJDb25maWd1cmluZyBuZXR3b3JrLiBUaGlzIG9wZXJhdGlvbi
BjYW4gdGFrZSBzZXZlcmFsIG1pbnV0ZXMgdG8gY29tcGxldGUuIiksIF8oIlVuYWJsZSB0byBicmluZ
yB1cCBuZXR3b3JrIiksCiAgICAgIFs6c2NyZWVuX2ZvcmVtYW4sIG1hYywgZ3ddLAogICAgICBbOnNj
cmVlbl9uZXR3b3JrLCBtYWMsIHZsYW5faWQsIGlwLCBndywgZG5zXV0KICBlbHNlCiAgICA6c2NyZWV
uX3dlbGNvbWUKICBlbmQKZW5kCg==
CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/primary_iface.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/primary_iface.rb <<'CODE'
ZGVmIHNjcmVlbl9wcmltYXJ5X2lmYWNlIGRoY3AgPSBmYWxzZQogIGJvb3RpZiA9IG5vcm1hbGl6ZV9
tYWMoY21kbGluZSgnQk9PVElGJykpCiAgcHJlc2VsZWN0ZWRpZiA9IG5vcm1hbGl6ZV9tYWMoY21kbG
luZSgnZmRpLnB4bWFjJykpCiAgdmxhbmlkID0gY21kbGluZSgnZmRpLnZsYW4ucHJpbWFyeScsICcnK
QoKICB3aWR0aCA9IDYwCiAgdF9kZXNjID0gTmV3dDo6VGV4dGJveC5uZXcoLTEsIC0xLCB3aWR0aCwg
MywgTmV3dDo6RkxBR19XUkFQKQogIHRfZGVzYy5zZXRfdGV4dCBfKCJTZWxlY3QgcHJpbWFyeSAocHJ
vdmlzaW9uaW5nKSBuZXR3b3JrIGludGVyZmFjZSB3aXRoIGNvbm5lY3Rpb24gdG8gc2VydmVyIG9yIH
Byb3h5OiIpCiAgbGJfaWZhY2VzID0gTmV3dDo6TGlzdGJveC5uZXcoLTEsIC0xLCA3LCBOZXd0OjpGT
EFHX1NDUk9MTCkKICBsX3ZsYW4gPSBOZXd0OjpMYWJlbC5uZXcoLTEsIC0xLCAiVkxBTiBJRDoiKQog
IHRfdmxhbiA9IE5ld3Q6OkVudHJ5Lm5ldygtMSwgLTEsIHZsYW5pZCwgMTAsIE5ld3Q6OkZMQUdfU0N
ST0xMKQogIGJfc2VsZWN0ID0gTmV3dDo6QnV0dG9uLm5ldygtMSwgLTEsIF8oIlNlbGVjdCIpKQogIG
JfY2FuY2VsID0gTmV3dDo6QnV0dG9uLm5ldygtMSwgLTEsIF8oIkNhbmNlbCIpKQogIGxiX2lmYWNlc
y5zZXRfd2lkdGgod2lkdGgpCgogIGxvZ19tc2cgIkJ1aWxkaW5nIG5ldCBpbnRlcmZhY2VzIFRVSSAo
Ym9vdGlmPSN7Ym9vdGlmfSkiCiAgaXggPSAwCiAgRGlyLmdsb2IoJy9zeXMvY2xhc3MvbmV0LyonKSB
kbyB8aWZufAogICAgbmFtZSA9IEZpbGUuYmFzZW5hbWUgaWZuCiAgICBuZXh0IGlmIG5hbWUgPT0gIm
xvIgogICAgbWFjID0gRmlsZS5yZWFkKCIje2lmbn0vYWRkcmVzcyIpLmNob21wIHJlc2N1ZSAiPz86P
z86Pz86Pz86Pz86Pz8iCiAgICBsaW5rID0gRmlsZS5yZWFkKCIje2lmbn0vY2FycmllciIpLmNob21w
ID09ICIxIiByZXNjdWUgZmFsc2UKICAgIG1hYyA9ICcgJyAqIDE3IGlmIG1hYyA9PSAnJwogICAgYm9
vdGVkID0gKG1hYyA9PSBib290aWYpCiAgICBwcmVzZWxlY3RlZCA9IChtYWMgPT0gcHJlc2VsZWN0ZW
RpZikKICAgIGxvZ19tc2cgIkRldmljZSAje25hbWV9ICN7bWFjfSBsaW5rPSN7bGlua30gYm9vdGVkP
SN7Ym9vdGVkfSIKICAgIGxiX2lmYWNlcy5hcHBlbmQgIiN7bWFjfSAje25hbWV9ICN7JyAobGluayB1
cCknIGlmIGxpbmt9ICN7JyAocHhlYm9vdGVkKScgaWYgYm9vdGVkfSIsIG1hYwogICAgbGJfaWZhY2V
zLnNldF9jdXJyZW50IGl4IGlmIGJvb3RlZCB8fCBwcmVzZWxlY3RlZAogICAgaXggPSBpeCArIDEKIC
BlbmQKCiAgbWFpbl9ncmlkID0gTmV3dDo6R3JpZC5uZXcoMSwgNCkKICBidXRfZ3JpZCA9IE5ld3Q6O
kdyaWQubmV3KDIsIDEpCiAgdmxhbl9ncmlkID0gTmV3dDo6R3JpZC5uZXcoMiwgMSkKCiAgYnV0X2dy
aWQuc2V0X2ZpZWxkKDAsIDAsIE5ld3Q6OkdSSURfQ09NUE9ORU5ULCBiX3NlbGVjdCwgMCwgMCwgMCw
gMCwgMCwgMCkKICBidXRfZ3JpZC5zZXRfZmllbGQoMSwgMCwgTmV3dDo6R1JJRF9DT01QT05FTlQsIG
JfY2FuY2VsLCAwLCAwLCAwLCAwLCAwLCAwKQoKICB2bGFuX2dyaWQuc2V0X2ZpZWxkKDAsIDAsIE5ld
3Q6OkdSSURfQ09NUE9ORU5ULCBsX3ZsYW4sIDAsIDAsIDAsIDAsIDAsIDApCiAgdmxhbl9ncmlkLnNl
dF9maWVsZCgxLCAwLCBOZXd0OjpHUklEX0NPTVBPTkVOVCwgdF92bGFuLCAwLCAwLCAwLCAwLCAwLCA
wKQoKICBtYWluX2dyaWQuc2V0X2ZpZWxkKDAsIDAsIE5ld3Q6OkdSSURfQ09NUE9ORU5ULCB0X2Rlc2
MsIDAsIDAsIDAsIDAsIDAsIE5ld3Q6OkdSSURfRkxBR19HUk9XWCkKICBtYWluX2dyaWQuc2V0X2ZpZ
WxkKDAsIDEsIE5ld3Q6OkdSSURfQ09NUE9ORU5ULCBsYl9pZmFjZXMsIDAsIDAsIDAsIDAsIDAsIE5l
d3Q6OkdSSURfRkxBR19HUk9XWCkKICBtYWluX2dyaWQuc2V0X2ZpZWxkKDAsIDIsIE5ld3Q6OkdSSUR
fU1VCR1JJRCwgdmxhbl9ncmlkLCAwLCAxLCAwLCAwLCAwLCAwKQogIG1haW5fZ3JpZC5zZXRfZmllbG
QoMCwgMywgTmV3dDo6R1JJRF9TVUJHUklELCBidXRfZ3JpZCwgMCwgMSwgMCwgMCwgMCwgTmV3dDo6R
1JJRF9GTEFHX0dST1dYKQogIG1haW5fZ3JpZC53cmFwcGVkX3dpbmRvdyhfKCJQcmltYXJ5IGludGVy
ZmFjZSIpKQoKICBmID0gTmV3dDo6Rm9ybS5uZXcKICBpZiBwcmVzZWxlY3RlZGlmCiAgICBmLmFkZCh
iX3NlbGVjdCwgYl9jYW5jZWwsIHRfZGVzYywgbGJfaWZhY2VzLCBsX3ZsYW4sIHRfdmxhbikKICBlbH
NlCiAgICBmLmFkZCh0X2Rlc2MsIGxiX2lmYWNlcywgbF92bGFuLCB0X3ZsYW4sIGJfc2VsZWN0LCBiX
2NhbmNlbCkKICBlbmQKICBhbnN3ZXIgPSBmLnJ1bigpCiAgaWYgYW5zd2VyID09IGJfc2VsZWN0CiAg
ICBwcmltYXJ5X21hYyA9IGxiX2lmYWNlcy5nZXRfY3VycmVudF9hc19zdHJpbmcKICAgIHZsYW5faWQ
gPSB0X3ZsYW4uZ2V0CiAgICBpZiBkaGNwCiAgICAgIGFjdGlvbiA9IFByb2MubmV3IHsgY29uZmlndX
JlX25ldHdvcmsgZmFsc2UsIHByaW1hcnlfbWFjLCBuaWwsIG5pbCwgbmlsLCB2bGFuX2lkIH0KICAgI
CAgWzpzY3JlZW5faW5mbywgYWN0aW9uLCBfKCJDb25maWd1cmluZyBuZXR3b3JrIHZpYSBESENQLiBU
aGlzIG9wZXJhdGlvbiBjYW4gdGFrZSBzZXZlcmFsIG1pbnV0ZXMgdG8gY29tcGxldGUuIiksIF8oIlV
uYWJsZSB0byBicmluZyBuZXR3b3JrIHZpYSBESENQIiksCiAgICAgICAgWzpzY3JlZW5fZm9yZW1hbi
wgcHJpbWFyeV9tYWMsIG5pbCwgY21kbGluZSgncHJveHkudXJsJyksIGNtZGxpbmUoJ3Byb3h5LnR5c
GUnKV0sCiAgICAgICAgWzpzY3JlZW5fbmV0d29yaywgcHJpbWFyeV9tYWMsIHZsYW5faWRdXQogICAg
ZWxzZQogICAgICBkZXRlY3RfaXAsIGRldGVjdF9ndywgZGV0ZWN0X2RucyA9IGRldGVjdF9pcHY0X2N
yZWRlbnRpYWxzKCdwcmltYXJ5JykKICAgICAgWzpzY3JlZW5fbmV0d29yaywgcHJpbWFyeV9tYWMsIH
ZsYW5faWQsIGNtZGxpbmUoJ2ZkaS5weGlwJywgZGV0ZWN0X2lwKSwgY21kbGluZSgnZmRpLnB4Z3cnL
CBkZXRlY3RfZ3cpLCBjbWRsaW5lKCdmZGkucHhkbnMnLCBkZXRlY3RfZG5zKV0KICAgIGVuZAogIGVs
c2lmIGFuc3dlciA9PSBiX2NhbmNlbAogICAgOnNjcmVlbl93ZWxjb21lCiAgZW5kCmVuZAo=
CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/ssh.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/ssh.rb <<'CODE'
ZGVmIHNjcmVlbl9zc2gKICB0X2Rlc2MgPSBOZXd0OjpUZXh0Ym94Lm5ldygtMSwgLTEsIDM5LCAzLCB
OZXd0OjpGTEFHX1dSQVApCiAgdF9kZXNjLnNldF90ZXh0IF8oIkVudGVyIHJvb3QgcGFzc3dvcmQgdG
8gdW5sb2NrIHRoZSBhY2NvdW50IGFuZCBlbmFibGUgU1NIIHNlcnZpY2U6IikKICBlX3Bhc3N3b3JkI
D0gTmV3dDo6RW50cnkubmV3KC0xLCAtMSwgIiIsIDM5LCBOZXd0OjpGTEFHX1BBU1NXT1JEKQogIGJf
ZW5hYmxlID0gTmV3dDo6QnV0dG9uLm5ldygtMSwgLTEsIF8oIlNldCBhbmQgRW5hYmxlIikpCiAgYl9
kaXNhYmxlID0gTmV3dDo6QnV0dG9uLm5ldygtMSwgLTEsIF8oIkRpc2FibGUiKSkKICBiX2NhbmNlbC
A9IE5ld3Q6OkJ1dHRvbi5uZXcoLTEsIC0xLCBfKCJDYW5jZWwiKSkKCiAgbWFpbl9ncmlkID0gTmV3d
Do6R3JpZC5uZXcoMSwgMykKICBidXRfZ3JpZCA9IE5ld3Q6OkdyaWQubmV3KDMsIDEpCgogIGJ1dF9n
cmlkLnNldF9maWVsZCgwLCAwLCBOZXd0OjpHUklEX0NPTVBPTkVOVCwgYl9lbmFibGUsIDAsIDAsIDA
sIDAsIDAsIDApCiAgYnV0X2dyaWQuc2V0X2ZpZWxkKDEsIDAsIE5ld3Q6OkdSSURfQ09NUE9ORU5ULC
BiX2Rpc2FibGUsIDAsIDAsIDAsIDAsIDAsIDApCiAgYnV0X2dyaWQuc2V0X2ZpZWxkKDIsIDAsIE5ld
3Q6OkdSSURfQ09NUE9ORU5ULCBiX2NhbmNlbCwgMCwgMCwgMCwgMCwgMCwgMCkKCiAgbWFpbl9ncmlk
LnNldF9maWVsZCgwLCAwLCBOZXd0OjpHUklEX0NPTVBPTkVOVCwgdF9kZXNjLCAwLCAwLCAwLCAwLCA
wLCAwKQogIG1haW5fZ3JpZC5zZXRfZmllbGQoMCwgMSwgTmV3dDo6R1JJRF9DT01QT05FTlQsIGVfcG
Fzc3dvcmQsIDAsIDAsIDAsIDAsIDAsIDApCiAgbWFpbl9ncmlkLnNldF9maWVsZCgwLCAyLCBOZXd0O
jpHUklEX1NVQkdSSUQsIGJ1dF9ncmlkLCAwLCAxLCAwLCAwLCAwLCBOZXd0OjpHUklEX0ZMQUdfR1JP
V1gpCiAgbWFpbl9ncmlkLndyYXBwZWRfd2luZG93KF8oIlNlY3VyZSBTaGVsbCBhY2Nlc3MiKSkKCiA
gZiA9IE5ld3Q6OkZvcm0ubmV3CiAgZi5hZGQodF9kZXNjLCBlX3Bhc3N3b3JkLCBiX2VuYWJsZSwgYl
9kaXNhYmxlLCBiX2NhbmNlbCkKICBhbnN3ZXIgPSBmLnJ1bigpCiAgaWYgYW5zd2VyID09IGJfZW5hY
mxlCiAgICBlbmFibGVfcm9vdF9hY2NvdW50KGVfcGFzc3dvcmQuZ2V0KQogIGVsc2lmIGFuc3dlciA9
PSBiX2Rpc2FibGUKICAgIGNvbW1hbmQoInN5c3RlbWN0bCBzdG9wIHNzaGQuc2VydmljZSIpCiAgZWx
zaWYgYW5zd2VyID09IGJfY2FuY2VsCiAgICA6c2NyZWVuX3dlbGNvbWUKICBlbmQKICA6c2NyZWVuX3
N0YXR1cwplbmQK
CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/status.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/status.rb <<'CODE'
ZGVmIGdlbmVyYXRlX2luZm8gZXh0cmFfc3RhdHVzID0gJycsIHNlcnZlciA9IGRpc2NvdmVyX3NlcnZ
lciwgdHlwZSA9IHByb3h5X3R5cGUKICBzdGF0dXMgPSBfKCJOL0EiKSArICcgKCcgKyBfKCJ1c2UgU3
RhdHVzIHRvIHVwZGF0ZSIpICsgJyknCiAgcmVzcG9uc2UgPSBfKCJOL0EiKQogIGlmIEZpbGUuZXhpc
3Q/KGYgPSAnL3RtcC9kaXNjb3ZlcnktaHR0cC1zdWNjZXNzJykKICAgIHN0YXR1cyA9ICJTVUNDRVNT
ICN7ZXh0cmFfc3RhdHVzfSIKICAgIHJlc3BvbnNlID0gd3JhcChJTy5yZWFkKGYpLCA2NSkKICBlbHN
pZiBGaWxlLmV4aXN0PyhmID0gJy90bXAvZGlzY292ZXJ5LWh0dHAtZmFpbHVyZScpCiAgICBzdGF0dX
MgPSAiRkFJTFVSRSAje2V4dHJhX3N0YXR1c30iCiAgICByZXNwb25zZSA9IHdyYXAoSU8ucmVhZChmK
SwgNjUpCiAgZWxzaWYgZXh0cmFfc3RhdHVzICE9ICcnCiAgICBzdGF0dXMgPSBleHRyYV9zdGF0dXMK
ICAgIHJlc3BvbnNlID0gJycKICBlbmQKICA8PEVPUwoje18oJ1N0YXR1cycpfTogI3tzdGF0dXN9Cgo
je18oJ1ByaW1hcnkgTklDJyl9OiAje2dldF9tYWN9CiN7XygnUHJpbWFyeSBJUHY0Jyl9OiAje2dldF
9pcHY0fQoje18oJ1ByaW1hcnkgSVB2NicpfTogI3tnZXRfaXB2Nn0KCiN7XygnRGlzY292ZXJ5IHNlc
nZlcicpfTogI3tkaXNjb3Zlcl9zZXJ2ZXIgfHwgJ04vQSd9CiN7XygnRW5kcG9pbnQgdHlwZScpfTog
I3t0eXBlfQoKI3tfKCdMYXRlc3Qgc2VydmVyIHJlc3BvbnNlJyl9Ogoje3Jlc3BvbnNlfQoKI3tfKCd
LZXJuZWwgY29tbWFuZCBsaW5lJyl9OgogICN7Y21kbGluZS5zcGxpdCgnICcpLmpvaW4oIlxuICAiKX
0KRU9TCmVuZAoKZGVmIHNjcmVlbl9zdGF0dXMgc3RhdHVzID0gZ2VuZXJhdGVfaW5mbywgYWN0aXZlX
2J1dHRvbiA9IDAKICB0X3N0YXR1cyA9IE5ld3Q6OlRleHRib3gubmV3KC0xLCAtMSwgNzAsIDE2LCBO
ZXd0OjpGTEFHX1NDUk9MTCkKICB0X3N0YXR1cy5zZXRfdGV4dChzdGF0dXMpCgogIGJ1dHRvbnMgPSB
bXQogIGJ1dHRvbnNbMF0gPSBiX3Jlc2VuZCA9IE5ld3Q6OkNvbXBhY3RCdXR0b24ubmV3KC0xLCAtMS
wgXygiUmVzZW5kIikpCiAgYnV0dG9uc1sxXSA9IGJfc3RhdHVzID0gTmV3dDo6Q29tcGFjdEJ1dHRvb
i5uZXcoLTEsIC0xLCBfKCJTdGF0dXMiKSkKICBidXR0b25zWzJdID0gYl9mYWN0cyA9IE5ld3Q6OkNv
bXBhY3RCdXR0b24ubmV3KC0xLCAtMSwgXygiRmFjdHMiKSkKICBidXR0b25zWzNdID0gYl9zeXNsb2c
gPSBOZXd0OjpDb21wYWN0QnV0dG9uLm5ldygtMSwgLTEsIF8oIkxvZ3MiKSkKICBidXR0b25zWzRdID
0gYl9zc2ggPSBOZXd0OjpDb21wYWN0QnV0dG9uLm5ldygtMSwgLTEsIF8oIlNTSCIpKQogIGJ1dHRvb
nNbNV0gPSBiX3JlYm9vdCA9IE5ld3Q6OkNvbXBhY3RCdXR0b24ubmV3KC0xLCAtMSwgXygiUmVib290
IikpCgogIG1haW5fZ3JpZCA9IE5ld3Q6OkdyaWQubmV3KDEsIDIpCiAgYnV0X2dyaWQgPSBOZXd0Ojp
HcmlkLm5ldyg2LCAxKQoKICBidXR0b25zLmVhY2hfd2l0aF9pbmRleCBkbyB8YnRuLCBpfAogICAgYn
V0X2dyaWQuc2V0X2ZpZWxkKGksIDAsIE5ld3Q6OkdSSURfQ09NUE9ORU5ULCBidG4sIDAsIDAsIDAsI
DAsIDAsIDApCiAgZW5kCgogIG1haW5fZ3JpZC5zZXRfZmllbGQoMCwgMCwgTmV3dDo6R1JJRF9DT01Q
T05FTlQsIHRfc3RhdHVzLCAwLCAwLCAwLCAwLCAwLCAwKQogIG1haW5fZ3JpZC5zZXRfZmllbGQoMCw
gMSwgTmV3dDo6R1JJRF9TVUJHUklELCBidXRfZ3JpZCwgMCwgMSwgMCwgMCwgMCwgTmV3dDo6R1JJRF
9GTEFHX0dST1dYKQogIG1haW5fZ3JpZC53cmFwcGVkX3dpbmRvdyhfKCJEaXNjb3Zlcnkgc3RhdHVzI
ikpCgogIGYgPSBOZXd0OjpGb3JtLm5ldwogIGYuYWRkKHRfc3RhdHVzLCBiX3Jlc2VuZCwgYl9zdGF0
dXMsIGJfZmFjdHMsIGJfc3lzbG9nLCBiX3NzaCwgYl9yZWJvb3QpCiAgYW5zd2VyID0gZi5ydW4oKQo
gIGlmIGFuc3dlciA9PSBiX3N0YXR1cwogICAgOnNjcmVlbl9zdGF0dXMKICBlbHNpZiBhbnN3ZXIgPT
0gYl9mYWN0cwogICAgWzpzY3JlZW5fc3RhdHVzLCBjb21tYW5kKCJmYWN0ZXIiKV0KICBlbHNpZiBhb
nN3ZXIgPT0gYl9zeXNsb2cKICAgIFs6c2NyZWVuX3N0YXR1cywgY29tbWFuZCgiZGlzY292ZXJ5LWRl
YnVnIildCiAgZWxzaWYgYW5zd2VyID09IGJfcmVib290CiAgICBbOnNjcmVlbl9zdGF0dXMsIGNvbW1
hbmQoInNodXRkb3duIC1yIG5vdyBSZWJvb3QgZnJvbSBUVUkiKV0KICBlbHNpZiBhbnN3ZXIgPT0gYl
9zc2gKICAgIDpzY3JlZW5fc3NoCiAgZWxzaWYgYW5zd2VyID09IGJfcmVzZW5kCiAgICBpZiBjbWRsa
W5lKCdCT09USUYnKQogICAgICBjb21tYW5kKCJybSAtZiAvdG1wL2Rpc2NvdmVyeS1odHRwKiIpCiAg
ICAgICMgZGlzY292ZXJ5IHJlZ2lzdGVyIHdpbGwgYmUgcmVzdGFydGVkIGluIGNvdW50ZG93biBzY3J
lZW4KICAgICAgWzpzY3JlZW5fY291bnRkb3duLCB0cnVlXQogICAgZWxzZQogICAgICBOZXd0OjpTY3
JlZW4ud2luX21lc3NhZ2UoXygiTm90IHN1cHBvcnRlZCIpLCBfKCJPSyIpLCBfKCJSZXNlbmRpbmcgb
m90IHBvc3NpYmxlIGluIFBYRS1sZXNzLCByZWJvb3QgYW5kIHN0YXJ0IG92ZXIuIikpCiAgICAgIDpz
Y3JlZW5fc3RhdHVzCiAgICBlbmQKICBlbHNlCiAgICA6cXVpdAogIGVuZAplbmQK
CODE
%end

%post
mkdir -p $(dirname /opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/welcome.rb)
base64 -d - >/opt/rh/rh-ruby25/root/usr/share/ruby/vendor_ruby/discovery/screen/welcome.rb <<'CODE'
ZGVmIHNjcmVlbl93ZWxjb21lCiAgdGV4dF9oZWxwLCB0dywgdGggPSBOZXd0LnJlZmxvd190ZXh0KF8
oJ1NlbGVjdCBNYW51YWwgbmV0d29yayBzZXR1cCB0byBzZWxlY3QgcHJpbWFyeSBpbnRlcmZhY2UsIG
NvbmZpZ3VyZSBuZXR3b3JrIChubyBESENQIHJlcXVpcmVkKSwgc2V0dXAgc2VydmVyIGNyZWRlbnRpY
WxzLCBhZGQgY3VzdG9tIGZhY3RzIGFuZCB0cmlnZ2VyIGF1dG8tcHJvdmlzaW9uaW5nIHZpYSBEaXNj
b3ZlcnkgcnVsZXMuIFRoaXMgd2lsbCBsZWFkIHRvIGtlcm5lbCByZWxvYWQgKGtleGVjKSBpbnRvIGl
uc3RhbGxlci4gU2VsZWN0IERpc2NvdmVyIHdpdGggREhDUCB0byBzZWxlY3QgcHJpbWFyeSBpbnRlcm
ZhY2UgYW5kIHByb2NlZWQgd2l0aCBESENQIGNvbmZpZ3VyYXRpb24gYW5kIHN0YW5kYXJkIGRpc2Nvd
mVyeSB3aXRob3V0IGFueSBjdXN0b20gZmFjdHMuIFRoaXMgd2lsbCByZWJvb3QgdGhlIGhvc3Qgb25j
ZSB0aGUgc3lzdGVtIGlzIHByb3Zpc2lvbmVkIGVpdGhlciBtYW51YWxseSBvciB2aWEgRGlzY292ZXJ
5IHJ1bGVzLicpLCA2MCwgNSwgNSkKICB0X3dlbGNvbWUgPSBOZXd0OjpUZXh0Ym94Lm5ldygtMSwgLT
EsIHR3LCB0aCwgTmV3dDo6RkxBR19XUkFQKQogIHRfd2VsY29tZS5zZXRfdGV4dCh0ZXh0X2hlbHApC
gogIGJfcHJvY2VlZCA9IE5ld3Q6OkJ1dHRvbi5uZXcoLTEsIC0xLCBfKCJNYW51YWwgbmV0d29yayBz
ZXR1cCIpKQogIGJfZGlzY292ZXIgPSBOZXd0OjpCdXR0b24ubmV3KC0xLCAtMSwgXygiRGlzY292ZXI
gd2l0aCBESENQIikpCgogIG1haW5fZ3JpZCA9IE5ld3Q6OkdyaWQubmV3KDEsIDIpCiAgYnV0X2dyaW
QgPSBOZXd0OjpHcmlkLm5ldygyLCAxKQoKICBidXRfZ3JpZC5zZXRfZmllbGQoMCwgMCwgTmV3dDo6R
1JJRF9DT01QT05FTlQsIGJfcHJvY2VlZCwgMCwgMCwgMCwgMCwgMCwgMCkKICBidXRfZ3JpZC5zZXRf
ZmllbGQoMSwgMCwgTmV3dDo6R1JJRF9DT01QT05FTlQsIGJfZGlzY292ZXIsIDAsIDAsIDAsIDAsIDA
sIDApCgogIG1haW5fZ3JpZC5zZXRfZmllbGQoMCwgMCwgTmV3dDo6R1JJRF9DT01QT05FTlQsIHRfd2
VsY29tZSwgMCwgMCwgMCwgMSwgMCwgMCkKICBtYWluX2dyaWQuc2V0X2ZpZWxkKDAsIDEsIE5ld3Q6O
kdSSURfU1VCR1JJRCwgYnV0X2dyaWQsIDAsIDAsIDAsIDAsIDAsIE5ld3Q6OkdSSURfRkxBR19HUk9X
WCkKICBtYWluX2dyaWQud3JhcHBlZF93aW5kb3coXygiTWFudWFsL1BYRS1sZXNzIHByb3Zpc2lvbml
uZyB3b3JrZmxvdyIpKQoKICBmID0gTmV3dDo6Rm9ybS5uZXcKICBmLmFkZCh0X3dlbGNvbWUsIGJfcH
JvY2VlZCwgYl9kaXNjb3ZlcikKICBhbnN3ZXIgPSBmLnJ1bigpCiAgaWYgYW5zd2VyID09IGJfZGlzY
292ZXIKICAgIFs6c2NyZWVuX3ByaW1hcnlfaWZhY2UsIHRydWVdCiAgZWxzaWYgYW5zd2VyID09IGJf
cHJvY2VlZAogICAgOnNjcmVlbl9wcmltYXJ5X2lmYWNlCiAgZWxzZQogICAgOnF1aXQKICBlbmQKZW5
kCg==
CODE
%end

%post
mkdir -p $(dirname /usr/bin/discovery-debug)
base64 -d - >/usr/bin/discovery-debug <<'CODE'
IyEvYmluL2Jhc2gKCnNvdXJjZSAvZXRjL2RlZmF1bHQvZGlzY292ZXJ5CmV4cG9ydCBGQUNURVJMSUI
KCmVjaG8gIiogTE9PUEJBQ0sgSVNPIElNQUdFIENIRUNLIgpjaGVja2lzb21kNSAvZGV2L2xvb3AwCg
plY2hvICIqIEtFUk5FTCBDT01NQU5EIExJTkUgKiIKY2F0IC9wcm9jL2NtZGxpbmUKCmVjaG8gIiogU
FJPQ0VTU0VTICoiCnBzIGF4d3cKCmVjaG8gIiogUEFDS0FHRVMiCmNhdCAvdXNyL1BBQ0tBR0VTLUxJ
U1QKCmVjaG8gIiogTkVUV09SSyBDT05GSUdVUkFUSU9OICoiCm5tY2xpIGNvbgpmb3IgQyBpbiAvZXR
jL05ldHdvcmtNYW5hZ2VyL3N5c3RlbS1jb25uZWN0aW9ucy8qOyBkbwogIGVjaG8gJEM7IGNhdCAkQz
sgZWNobwpkb25lCgplY2hvICIqIElQIEFERFJFU1NFUyAqIgppcCBhZGRyIHNob3cKCmVjaG8gIiogU
k9VVEVTICoiCmlwIHJvdXRlCgplY2hvICIqIE5FSUdIQk9VUlMgKiIKaXAgbmVpZ2gKCmVjaG8gIiog
REhDUCBMRUFTRVMgKiIKY2F0IC92YXIvbGliL05ldHdvcmtNYW5hZ2VyL2RoY2xpZW50LSoubGVhc2U
KCmVjaG8gIiogRE5TICoiCmNhdCAvZXRjL3Jlc29sdi5jb25mCgplY2hvICIqIElNQUdFIFZFUlNJT0
4iCmNhdCAvdXNyL3NoYXJlL2ZkaS9WRVJTSU9OIC91c3Ivc2hhcmUvZmRpL1JFTEVBU0UKCmVjaG8gI
iogRkFDVEVSICoiCmZhY3RlciAtLWpzb24KCmVjaG8gIiogSk9VUk5BTCAobGFzdCA1MDAgbGluZXMp
ICoiCmpvdXJuYWxjdGwgLW4zMDAgLW9jYXQK
CODE
%end

%post
mkdir -p $(dirname /usr/bin/discovery-fetch-extensions)
base64 -d - >/usr/bin/discovery-fetch-extensions <<'CODE'
IyEvYmluL2Jhc2gKCiMgVXNlIGEgY29tbWFuZGxpbmUgb3B0aW9uLCBmZGkuemlwcz16aXAxLnppcCx
6aXAyLnppcCxldGMgYW5kCiMgZ2V0IHRoZSB6aXBzIGZyb20gdGhlIFRGVFAgc2VydmVyLiBUcnkgem
lwc2VydmVyIHBhc3NlZCBvbiBrZXJuZWwKIyBjbWRsaW5lIGZpcnN0IGFuZCBmYWxsIGJhY2sgdG8gR
EhDUCBuZXh0LXNlcnZlciBwYXNzZWQgaW4gdGhyb3VnaAojIEVOVgoKZXh0ZGlyPSIvb3B0L2V4dGVu
c2lvbiIKCnNvdXJjZSAvdXNyL3NoYXJlL2ZkaS9jb21tb25mdW5jLnNoCmV4cG9ydEtDTAoKZm9yIHp
pcCBpbiAke0tDTF9GRElfWklQUy8vLC8gfQpkbwogIHRlbXBmaWxlPSIkKG1rdGVtcCkiCiAgVVJMPS
J0ZnRwOi8vJHtaSVBfU0VSVkVSfS8ke3ppcH0iCiAgZWNobyAiRG93bmxvYWRpbmcgJFVSTCIKICBjd
XJsIC0tZmFpbCAtLXNpbGVudCAiJFVSTCIgLW8gIiR7dGVtcGZpbGV9IgogIGN1cmxfcmM9IiQ/Igog
IGlmIFsgIiR7Y3VybF9yY30iIC1uZSAwIF0KICB0aGVuCiAgICBlY2hvICJDVVJMIGVycm9yIGRvd25
sb2FkaW5nICR7emlwfSB2aWEgdGZ0cDogJHtjdXJsX3JjfSIKICAgIGVjaG8gIlByb2JsZW0gZG93bm
xvYWRpbmcgemlwZmlsZSAke3ppcH0iID4mMgogIGVsc2UKICAgIHVuemlwICIke3RlbXBmaWxlfSIgL
WQgIiR7ZXh0ZGlyfSIKICBmaQogIHJtICIke3RlbXBmaWxlfSIKZG9uZQo=
CODE
%end

%post
mkdir -p $(dirname /usr/bin/discovery-menu)
base64 -d - >/usr/bin/discovery-menu <<'CODE'
IyEvdXNyL2Jpbi9ydWJ5CgpleGl0KDApIGlmIEZpbGUuZXhpc3Q/KCcvdG1wL2Rpc2FibGUtbWVudSc
pCgoKcmVxdWlyZSAnZGlzY292ZXJ5L21lbnUnCnJlcXVpcmUgJ2Rpc2NvdmVyeS9zY3JlZW4vY291bn
Rkb3duJwpyZXF1aXJlICdkaXNjb3Zlcnkvc2NyZWVuL2ZhY3RzJwpyZXF1aXJlICdkaXNjb3Zlcnkvc
2NyZWVuL2ZvcmVtYW4nCnJlcXVpcmUgJ2Rpc2NvdmVyeS9zY3JlZW4vbmV0d29yaycKcmVxdWlyZSAn
ZGlzY292ZXJ5L3NjcmVlbi9wcmltYXJ5X2lmYWNlJwpyZXF1aXJlICdkaXNjb3Zlcnkvc2NyZWVuL3N
zaCcKcmVxdWlyZSAnZGlzY292ZXJ5L3NjcmVlbi9zdGF0dXMnCnJlcXVpcmUgJ2Rpc2NvdmVyeS9zY3
JlZW4vd2VsY29tZScKcmVxdWlyZSAnZGlzY292ZXJ5L3NjcmVlbi9pbmZvJwoKIyBEaXNhYmxlIEdDI
HVudGlsIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVmb3JlbWFuL3J1YnktbmV3dC9pc3N1ZXMvMiBpcyBm
aXhlZCwKIyBzZWUgYWxzbzogaHR0cDovL3Byb2plY3RzLnRoZWZvcmVtYW4ub3JnL2lzc3Vlcy8xMTY
yMwpHQy5kaXNhYmxlCgptYWluX2xvb3AK
CODE
%end

%post
mkdir -p $(dirname /usr/bin/discovery-register)
base64 -d - >/usr/bin/discovery-register <<'CODE'
IyEvdXNyL2Jpbi9ydWJ5CiMKIyB2aW06IHRzPTI6c3c9MjpldAojCiMgQ29weXJpZ2h0IChDKSAyMDE
yLTIwMTQgUmVkIEhhdCwgSW5jLgojCiMgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdS
BjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKIyBpdCB1bmRlciB0aGUgdGVybXMgb2Ygd
GhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQojIHRoZSBGcmVlIFNv
ZnR3YXJlIEZvdW5kYXRpb247IHZlcnNpb24gMiBvZiB0aGUgTGljZW5zZS4KIwojIFRoaXMgcHJvZ3J
hbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAojIGJ1dC
BXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mC
iMgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2Vl
IHRoZQojIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCiMKIyBZb3U
gc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW
5zZQojIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtOyBpZiBub3QsIHdyaXRlIHRvIHRoZSBGcmVlIFNvZ
nR3YXJlCiMgRm91bmRhdGlvbiwgSW5jLiwgNTEgRnJhbmtsaW4gU3RyZWV0LCBGaWZ0aCBGbG9vciwg
Qm9zdG9uLAojIE1BICAwMjExMC0xMzAxLCBVU0EuICBBIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB
1YmxpYyBMaWNlbnNlIGlzCiMgYWxzbyBhdmFpbGFibGUgYXQgaHR0cDovL3d3dy5nbnUub3JnL2NvcH
lsZWZ0L2dwbC5odG1sLgoKUFJPWFlfQ0FDSEUgPSAnL3RtcC9wcm94eV9jYWNoZScKCnJlcXVpcmUgJ
2ZpbGV1dGlscycKcmVxdWlyZSAnbmV0L2h0dHAnCnJlcXVpcmUgJ25ldC9odHRwcycKcmVxdWlyZSAn
dXJpJwpyZXF1aXJlICdzb2NrZXQnCnJlcXVpcmUgJ3Jlc29sdicKCiMgRm9yIGNvbXBhcmlzb24KcmV
xdWlyZSAncnVieWdlbXMnCnJlcXVpcmUgJ2ZhY3RlcicKcmVxdWlyZSAneWFtbCcKcmVxdWlyZSAnan
NvbicKCiMgT3VyIGxpYgpyZXF1aXJlICdkaXNjb3ZlcnknCgpkZWYgd3JpdGVfY2FjaGUoZGF0YSkKI
CBGaWxlLm9wZW4oUFJPWFlfQ0FDSEUsICd3Jykge3xmfCBmLndyaXRlKGRhdGEpIH0KZW5kCgpkZWYg
cmVhZF9jYWNoZQogIEZpbGUucmVhZChQUk9YWV9DQUNIRSkKcmVzY3VlID0+IF8KICAiZW1wdHkgY2F
jaGUiCmVuZAoKZGVmIGNsZWFyX2NhY2hlCiAgRmlsZS51bmxpbmsoUFJPWFlfQ0FDSEUpIGlmIEZpbG
UuZXhpc3RzPyhQUk9YWV9DQUNIRSkKZW5kCgpTaWduYWwudHJhcCgiSFVQIikgZG8KICBGYWN0ZXIuY
2xlYXIKZW5kCgojIFNjcmlwdCB3YXMgKHJlKXN0YXJ0ZWQgLSBkZWxldGUgb2xkIGRhdGEKY2xlYXJf
Y2FjaGUKCmxvZ19tc2cgIlNvbWUgaW50ZXJlc3RpbmcgZmFjdHMgYWJvdXQgdGhpcyBzeXN0ZW06Igp
mYWN0cyA9IEhhc2hbRmFjdGVyLnRvX2hhc2guc2VsZWN0IHt8ayx2fCBrID1+IC9hZGRyZXNzfGhhcm
R3YXJlfG1hbnVmYWN0dXJlcnxwcm9kdWN0bmFtZXxtZW1vcnl0b3RhbC99XQpmYWN0cy5rZXlzLnNvc
nQuZWFjaCB7fGt8IGxvZ19tc2cgIiAje2t9OiAje2ZhY3RzW2tdfSJ9CgojIGNoZWNrIGV2ZXJ5IDE1
IG1pbnV0ZXMgYnV0IG9ubHkgdXBsb2FkIG9uIGNoYW5nZXMKdXBsb2FkX3NsZWVwID0gY21kbGluZSg
iZmRpLnVwbG9hZHNsZWVwIiwgNjAgKiAxNSkudG9faSByZXNjdWUgKDYwICogMTUpCmV4dHJhX2luaX
RpYWxfdXBsb2FkcyA9IGNtZGxpbmUoImZkaS5jYWNoZWZhY3RzIiwgMCkudG9faSByZXNjdWUgMAp3a
GlsZSB0cnVlIGRvCiAgdW5pbnRlcmVzdGluZ19mYWN0cz0va2VybmVsfG9wZXJhdGluZ3N5c3RlbXxv
c2ZhbWlseXxydWJ5fHBhdGh8dGltZXxzd2FwfGZyZWV8ZmlsZXN5c3RlbXx2ZXJzaW9ufHNlbGludXg
vaQogICMgZm9yY2UgZmFjdGVyIHRvIGRvIG5ldyBzeXN0ZW0gc2NhbiAod2UgZGVmYXVsdCB0byAxNS
BtaW51dGUgaW50ZXJ2YWxzIHdoaWNoIGlzIHNhZmUpCiAgRmFjdGVyLmNsZWFyCiAgZmFjdHMgPSBGY
WN0ZXIudG9faGFzaC5yZWplY3QhIHt8ayx2fCBrID1+IHVuaW50ZXJlc3RpbmdfZmFjdHMgfQogIHVu
bGVzcyBZQU1MLmxvYWQocmVhZF9jYWNoZSkgPT0gZmFjdHMKICAgIGxvZ19tc2cgIkZhY3QgY2FjaGU
gaW52YWxpZCwgcmVsb2FkaW5nIHRvIGZvcmVtYW4iCiAgICB3cml0ZV9jYWNoZShZQU1MLmR1bXAoZm
FjdHMpKSBpZiB1cGxvYWQKICBlbHNlCiAgICBsb2dfbXNnICJObyBjaGFuZ2UgaW4gZmFjdHMgKG5le
HQgY2hlY2sgaW4gI3t1cGxvYWRfc2xlZXB9IHNlY29uZHMpIgogIGVuZAogIHNsZWVwIHVwbG9hZF9z
bGVlcAogIGlmIGV4dHJhX2luaXRpYWxfdXBsb2FkcyA+IDAKICAgIGxvZ19tc2cgIlBlcmZvcm1pbmc
gZXh0cmEgaW5pdGlhbCBmYWN0IHVwbG9hZCBhcyBkZWZpbmVkIGJ5IGZkaS5jYWNoZWZhY3RzICgje2
l9IGxlZnQpIgogICAgY2xlYXJfY2FjaGUKICAgIGV4dHJhX2luaXRpYWxfdXBsb2FkcyAtPSAxCiAgZ
W5kCmVuZAo=
CODE
%end

%post
mkdir -p $(dirname /usr/bin/discovery-script)
base64 -d - >/usr/bin/discovery-script <<'CODE'
IyEvYmluL2Jhc2gKc291cmNlIC9ldGMvZGVmYXVsdC9kaXNjb3ZlcnkKc291cmNlIC91c3Ivc2hhcmU
vZmRpL2NvbW1vbmZ1bmMuc2gKZXhwb3J0S0NMClsgLWQgL3RtcC9mYWN0cyBdIHx8IG1rZGlyIC90bX
AvZmFjdHMKZGVmYXVsdHNjcmlwdD0ke0tDTF9GRElfU0NSSVBUOi1INHNJQU9qMVpsb0NBMHROenNoW
FVQTExWeWhPTHNvc0tGRW9TQ3d1VGsxUjRnSUFJYndUd2hnQUFBQT19CmJhc2VzY3JpcHQ9JHsxOi0k
ZGVmYXVsdHNjcmlwdH0KY2F0IC91c3Ivc2hhcmUvZmRpL3NjcmlwdC1oZWxwZXJzLnNoID4gL3RtcC9
kaXNjb3Zlcnktc2NyaXB0CmVjaG8gIiRiYXNlc2NyaXB0IiB8IGJhc2U2NCAtZCB8IGd1bnppcCA+Pi
AvdG1wL2Rpc2NvdmVyeS1zY3JpcHQKW1sgJD8gLWVxIDAgXV0gJiYgKCBiYXNoIC90bXAvZGlzY292Z
XJ5LXNjcmlwdCB8IHRlZSAvdG1wL2Rpc2NvdmVyeS1zY3JpcHQubG9nICkKcm0gL3RtcC9kaXNjb3Zl
cnktc2NyaXB0Cg==
CODE
%end

%post
mkdir -p $(dirname /usr/bin/discovery-start-extensions)
base64 -d - >/usr/bin/discovery-start-extensions <<'CODE'
IyEvYmluL2Jhc2gKIwojIHZpbTogdHM9Mjpzdz0yOmV0CiMKIyBDb3B5cmlnaHQgKEMpIDIwMTItMjA
xNCBSZWQgSGF0LCBJbmMuCiMKIyBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbi
ByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQojIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR
05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CiMgdGhlIEZyZWUgU29mdHdh
cmUgRm91bmRhdGlvbjsgdmVyc2lvbiAyIG9mIHRoZSBMaWNlbnNlLgojCiMgVGhpcyBwcm9ncmFtIGl
zIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiMgYnV0IFdJVE
hPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKIyBNR
VJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhl
CiMgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KIwojIFlvdSBzaG9
1bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCi
MgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW07IGlmIG5vdCwgd3JpdGUgdG8gdGhlIEZyZWUgU29mdHdhc
mUKIyBGb3VuZGF0aW9uLCBJbmMuLCA1MSBGcmFua2xpbiBTdHJlZXQsIEZpZnRoIEZsb29yLCBCb3N0
b24sCiMgTUEgIDAyMTEwLTEzMDEsIFVTQS4gIEEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGl
jIExpY2Vuc2UgaXMKIyBhbHNvIGF2YWlsYWJsZSBhdCBodHRwOi8vd3d3LmdudS5vcmcvY29weWxlZn
QvZ3BsLmh0bWwuCgojIFNpbXBsZSBiYXNoIHNjcmlwdCB0byBjaGVjayBmb3IgYW5kIHN0YXJ0IHRoZ
SBkb3dubG9hZGVkIGV4dGVuc2lvbihzKQoKIyBTaW5jZSB3ZSBhbGxvdyBtdWx0aXBsZSB6aXBmaWxl
IGV4dGVuc2lvbnMsIHdlIHJlcXVpcmUgdXNlcnMgdG8gcHV0CiMgYXV0b3N0YXJ0IHNjcmlwdHMgaW4
gYXV0b3N0YXJ0LmQsIHdoaWNoIHdpbGwgdGhlbiBiZSBleGVjdXRlZCBpbgojIFBPU0lYIG9yZGVyLC
BpbiBibG9ja2luZyBtb2RlIHNvIHRoYXQgdGhleSBjYW4gY29tcGxldGUgYmVmb3JlIHRoZQojIGhvc
3QgaXMgcmVnaXN0ZXJlZC4gVXNlcnMgYXJlIHJlc3BvbnNpYmxlIGZvciBiYWNrZ3JvdW5kaW5nIGxv
bmcgdGFza3MKIyBpbiB0aGVpciBvd24gc3RhcnR1cCBzY3JpcHRzLgoKaWYgdGVzdCAtZCAvb3B0L2V
4dGVuc2lvbi9hdXRvc3RhcnQuZDsgdGhlbgogIGZvciBzY3JpcHQgaW4gL29wdC9leHRlbnNpb24vYX
V0b3N0YXJ0LmQvKjsgZG8KICAgIHRlc3QgLXggIiRzY3JpcHQiICYmICRzY3JpcHQKICBkb25lCiAgd
W5zZXQgc2NyaXB0CmZpCmV4aXQgMAo=
CODE
%end

%post
mkdir -p $(dirname /usr/bin/enable-lldp)
base64 -d - >/usr/bin/enable-lldp <<'CODE'
IyEvYmluL2Jhc2gKCltbIC16ICIkMSIgXV0gJiYgZWNobyAiVXNhZ2U6ICQwIGludGVyZmFjZSIgJiY
gZXhpdCAxCltbICIkMSIgPT0gImxvIiBdXSAmJiBleGl0IDAKCmVjaG8gLW4gIlNldHRpbmcgTExEUC
BwYXJhbWV0ZXIgb24gaW50ZXJmYWNlICQxOiAiCi91c3Ivc2Jpbi9sbGRwdG9vbCAtTCAtaSAkMSBhZ
G1pbnN0YXR1cz1yeHR4CmZvciB2YXIgaW4gcG9ydERlc2Mgc3lzTmFtZSBzeXNEZXNjIHN5c0NhcDsg
ZG8KCWVjaG8gLW4gIlNldHRpbmcgTExEUCBUTFYgJHZhciBvbiBpbnRlcmZhY2UgJDE6ICIKCS91c3I
vc2Jpbi9sbGRwdG9vbCAtaSAkMSAtVCAtViAkdmFyIGVuYWJsZVR4PXllcwpkb25lCgpleGl0IDAK
CODE
%end

%post
mkdir -p $(dirname /usr/bin/find-missing-libs)
base64 -d - >/usr/bin/find-missing-libs <<'CODE'
IyEvYmluL2Jhc2gKIwojIHZpbTogdHM9Mjpzdz0yOmV0CiMKIyBDb3B5cmlnaHQgKEMpIDIwMTMgUmV
kIEhhdCwgSW5jLgojCiMgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaX
N0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKIyBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZ
W5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQojIHRoZSBGcmVlIFNvZnR3YXJlIEZv
dW5kYXRpb247IHZlcnNpb24gMiBvZiB0aGUgTGljZW5zZS4KIwojIFRoaXMgcHJvZ3JhbSBpcyBkaXN
0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAojIGJ1dCBXSVRIT1VUIE
FOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiMgTUVSQ0hBT
lRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQojIEdO
VSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCiMKIyBZb3Ugc2hvdWxkIGh
hdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQojIGFsb2
5nIHdpdGggdGhpcyBwcm9ncmFtOyBpZiBub3QsIHdyaXRlIHRvIHRoZSBGcmVlIFNvZnR3YXJlCiMgR
m91bmRhdGlvbiwgSW5jLiwgNTEgRnJhbmtsaW4gU3RyZWV0LCBGaWZ0aCBGbG9vciwgQm9zdG9uLAoj
IE1BICAwMjExMC0xMzAxLCBVU0EuICBBIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWN
lbnNlIGlzCiMgYWxzbyBhdmFpbGFibGUgYXQgaHR0cDovL3d3dy5nbnUub3JnL2NvcHlsZWZ0L2dwbC
5odG1sLgoKaWZzPSRJRlMKSUZTPSc6JwoKZmlsZXM9JChmaW5kIC91c3IgLXR5cGUgZikKSUZTPSRpZ
nMKZm9yIGkgaW4gJGZpbGVzCmRvCiAgaWYgWyBgZmlsZSAkaSB8IGdyZXAgLWMgJ0VMRidgIC1uZSAw
IF07IHRoZW4KICAgIGlmIFsgYGxkZCAkaSAyPi9kZXYvbnVsbCB8IGdyZXAgLWMgJ25vdCBmb3VuZCd
gIC1uZSAwIF07IHRoZW4KICAgICAgZWNobyAiJGk6IgogICAgICBsZGQgJGkgMj4vZGV2L251bGwgfC
BncmVwICdub3QgZm91bmQnCiAgICBmaQogIGZpCmRvbmUK
CODE
%end

%post
mkdir -p $(dirname /usr/bin/generate-proxy-cert)
base64 -d - >/usr/bin/generate-proxy-cert <<'CODE'
IyEvYmluL2Jhc2gKCiMgV2hlbiBib290ZWQgZnJvbSBJU08sIGZvcmVtYW4tcHJveHkgc3RhcnRzIHV
wIGJ5IGRlZmF1bHQgYnV0IHNpbmNlCiMgbmV0d29yayBpcyBub3QgeWV0IGNvbmZpZ3VyZWQsIHdlIG
Nhbm5vdCBjb250aW51ZS4gVGhpcyBtYWtlcwojIHRoZSBzZXJ2aWNlIHRvIGZhaWwuClsgLWYgL2V0Y
y9OZXR3b3JrTWFuYWdlci9zeXN0ZW0tY29ubmVjdGlvbnMvcHJpbWFyeSBdIHx8IGV4aXQgMTAxCgpz
b3VyY2UgL3Vzci9zaGFyZS9mZGkvY29tbW9uZnVuYy5zaApleHBvcnRLQ0wKCkRJUj0vZXRjL2ZvcmV
tYW4tcHJveHkKREFZUz0ke0tDTF9GRElfUFJPWFlfQ0VSVF9EQVlTOi05OTl9CldBSVQ9JHtLQ0xfRk
RJX0lQV0FJVDotMTIwfQpTRUNPTkRTPTAKd2hpbGUgKCggU0VDT05EUyA8ICRXQUlUICkpOyBkbwogI
HNsZWVwIDEKICBDT01NT05fTkFNRT0kKG5tY2xpIC13IDEgLXQgLWYgSVA0LkFERFJFU1MgY29uIHNo
b3cgcHJpbWFyeSAyPi9kZXYvbnVsbCB8IGN1dCAtZjIgLWQ6IHwgY3V0IC1mMSAtZC8pCiAgWyAhIC1
6ICIkQ09NTU9OX05BTUUiIF0gJiYgYnJlYWsKICBDT01NT05fTkFNRT0kKG5tY2xpIC13IDEgLXQgLW
YgSVA2LkFERFJFU1MgY29uIHNob3cgcHJpbWFyeSAyPi9kZXYvbnVsbCB8IGN1dCAtZjIgLWQ6IHwgY
3V0IC1mMSAtZC8pCiAgWyAhIC16ICIkQ09NTU9OX05BTUUiIF0gJiYgYnJlYWsKICBsb2dnZXIgIldh
aXRpbmcgZm9yIElQIGFkZHJlc3MgdG8gZ2VuZXJhdGUgU1NMIGNlcnQgKCRTRUNPTkRTLyRXQUlUKSI
KZG9uZQoKIyBEb24ndCBmYWlsIHdoZW4gSVAgYWRkcmVzcyB3YXMgbm90IHByb3ZpZGVkIChIVFRQIG
NhbiBiZSBzdGlsbCB1c2VkKS4KWyAteiAiJENPTU1PTl9OQU1FIiBdICYmIENPTU1PTl9OQU1FPWRpc
2NvdmVyZWQKCm9wZW5zc2wgcmVxIC14NTA5IFwKICAtbmV3a2V5IHJzYToyMDQ4IFwKICAta2V5b3V0
ICRESVIva2V5LnBlbSBcCiAgLW91dCAkRElSL2NlcnQucGVtIFwKICAtbm9kZXMgXAogIC1zdWJqICI
vQ049JENPTU1PTl9OQU1FIiBcCiAgLXJhbmQgL2Rldi91cmFuZG9tIFwKICAtYmF0Y2ggXAogIC1kYX
lzICREQVlTCg==
CODE
%end

%post
mkdir -p $(dirname /usr/bin/nm-configure)
base64 -d - >/usr/bin/nm-configure <<'CODE'
IyEvYmluL2Jhc2gKCnNvdXJjZSAvdXNyL3NoYXJlL2ZkaS9jb21tb25mdW5jLnNoCmV4cG9ydEtDTAp
ib290aWY9IiQobm9ybWFsaXplSHdBZGRyICIke0JPT1RNQUN9IikiCm1hYz0kezI6LSRib290aWZ9Cn
V1aWQ9JCgvdXNyL2Jpbi91dWlkKQp0aW1lb3V0PSR7S0NMX0ZESV9ESENQX1RJTUVPVVQ6LTMwMH0Kc
2VuZGhvc3Q9JHtLQ0xfRkRJX0RIQ1BfU0VOREhPU1Q6LWZhbHNlfQppcHY0X21ldGhvZD0ke0tDTF9G
RElfSVBWNF9NRVRIT0Q6LWF1dG99CmlwdjZfbWV0aG9kPSR7S0NMX0ZESV9JUFY2X01FVEhPRDotYXV
0b30KY3R5cGU9IjgwMi0zLWV0aGVybmV0IgoKW1sgIiRzZW5kaG9zdCIgPT0gImZhbHNlIiBdXSB8fC
BzZW5kaG9zdD10cnVlCgpkZXBsb3lfY29uZmlnKCkgewogIGNob3duIHJvb3Q6cm9vdCAkMQogIGNob
W9kIDYwMCAkMQogIG12ICQxICQyCn0KCnVzYWdlKCkgewogIGVjaG8gIlVzYWdlOiAiCiAgZWNobyAi
ICQwIHByaW1hcnkgTUFDX0FERFJFU1MgW1ZMQU5fSURdIgogIGVjaG8gIiAkMCBwcmltYXJ5LXN0YXR
pYyBNQUNfQUREUkVTUyBJUDRfQUREUi9DSURSIElQNF9HVyBJUDRfRE5TIFtWTEFOX0lEXSIKICBlY2
hvICIgJDAgcHJpbWFyeS1zdGF0aWM2IE1BQ19BRERSRVNTIElQNl9BRERSL0NJRFIgSVA2X0dXIElQN
l9ETlMgW1ZMQU5fSURdIgogIGVjaG8gIiAkMCBzZWNvbmRhcnkgTUFDX0FERFJFU1MgQVVUT0NPTk5F
Q1QgKHRydWUvZmFsc2UpIgp9CgpbWyAteiAiJG1hYyIgXV0gJiYgZWNobyAiTUFDIGFkZHJlc3Mgd2F
zIG5vdCBwcm92aWRlZCBvciBkZXRlY3RlZCwgbGVhdmluZyB1bmNvbmZpZ3VyZWQiICYmIGV4aXQgMA
oKZnVuY3Rpb24gY2xlYW51cCgpIHsKICBbIC1mICRUTVBfQ0ZHIF0gJiYgcm0gLWYgJFRNUF9DRkcKf
QpUTVBfQ0ZHPSQobWt0ZW1wKQp0cmFwIGNsZWFudXAgRVhJVCBTSUdJTlQgU0lHVEVSTQoKaWYgW1sg
IiQxIiA9PSAicHJpbWFyeS1zdGF0aWMiIF1dOyB0aGVuCiAgaXA9JDMKICBndz0kNAogIGRucz0kNQo
gIHZsYW5pZD0kezY6LSRLQ0xfRkRJX1ZMQU5fUFJJTUFSWX0KICBbWyAiJHZsYW5pZCIgIT0gIiIgXV
0gJiYgY3R5cGU9InZsYW4iCiAgc2NyaXB0PS9ldGMvTmV0d29ya01hbmFnZXIvc3lzdGVtLWNvbm5lY
3Rpb25zL3ByaW1hcnkKICBjYXQgPiAkVE1QX0NGRyA8PEVPTlMKW2Nvbm5lY3Rpb25dCmlkPXByaW1h
cnkKdXVpZD0kdXVpZAp0eXBlPSRjdHlwZQphdXRvY29ubmVjdD10cnVlCmF1dG9jb25uZWN0LXByaW9
yaXR5PTEKWzgwMi0zLWV0aGVybmV0XQptYWMtYWRkcmVzcz0kbWFjCltpcHY0XQptZXRob2Q9bWFudW
FsCmFkZHJlc3MxPSRpcApnYXRld2F5PSRndwpkbnM9JGRuczsKZGhjcC1zZW5kLWhvc3RuYW1lPSRzZ
W5kaG9zdApbaXB2Nl0KbWV0aG9kPWlnbm9yZQpbdmxhbl0KaWQ9JHZsYW5pZApFT05TCiAgZGVwbG95
X2NvbmZpZyAkVE1QX0NGRyAkc2NyaXB0CmVsaWYgW1sgIiQxIiA9PSAicHJpbWFyeS1zdGF0aWM2IiB
dXTsgdGhlbgogIGlwPSQzCiAgZ3c9JDQKICBkbnM9JDUKICB2bGFuaWQ9JHs2Oi0kS0NMX0ZESV9WTE
FOX1BSSU1BUll9CiAgW1sgIiR2bGFuaWQiICE9ICIiIF1dICYmIGN0eXBlPSJ2bGFuIgogIHNjcmlwd
D0vZXRjL05ldHdvcmtNYW5hZ2VyL3N5c3RlbS1jb25uZWN0aW9ucy9wcmltYXJ5CiAgY2F0ID4gJFRN
UF9DRkcgPDxFT05TCltjb25uZWN0aW9uXQppZD1wcmltYXJ5CnV1aWQ9JHV1aWQKdHlwZT0kY3R5cGU
KYXV0b2Nvbm5lY3Q9dHJ1ZQphdXRvY29ubmVjdC1wcmlvcml0eT0xCls4MDItMy1ldGhlcm5ldF0KbW
FjLWFkZHJlc3M9JG1hYwpbaXB2NF0KbWV0aG9kPWRpc2FibGVkCltpcHY2XQptZXRob2Q9bWFudWFsC
mFkZHJlc3MxPSRpcApnYXRld2F5PSRndwpkbnM9JGRuczsKZGhjcC1zZW5kLWhvc3RuYW1lPSRzZW5k
aG9zdApbdmxhbl0KaWQ9JHZsYW5pZApFT05TCiAgZGVwbG95X2NvbmZpZyAkVE1QX0NGRyAkc2NyaXB
0CmVsaWYgW1sgIiQxIiA9PSAicHJpbWFyeSIgXV07IHRoZW4KICB2bGFuaWQ9JHszOi0kS0NMX0ZESV
9WTEFOX1BSSU1BUll9CiAgW1sgIiR2bGFuaWQiICE9ICIiIF1dICYmIGN0eXBlPSJ2bGFuIgogIHNjc
mlwdD0vZXRjL05ldHdvcmtNYW5hZ2VyL3N5c3RlbS1jb25uZWN0aW9ucy9wcmltYXJ5CiAgY2F0ID4g
JFRNUF9DRkcgPDxFT05TCltjb25uZWN0aW9uXQppZD1wcmltYXJ5CnV1aWQ9JHV1aWQKdHlwZT0kY3R
5cGUKYXV0b2Nvbm5lY3Q9dHJ1ZQphdXRvY29ubmVjdC1wcmlvcml0eT0xCls4MDItMy1ldGhlcm5ldF
0KbWFjLWFkZHJlc3M9JG1hYwpbaXB2NF0KbWV0aG9kPSRpcHY0X21ldGhvZApkaGNwLXNlbmQtaG9zd
G5hbWU9JHNlbmRob3N0CmRoY3AtdGltZW91dD0kdGltZW91dApbaXB2Nl0KbWV0aG9kPSRpcHY2X21l
dGhvZApbdmxhbl0KaWQ9JHZsYW5pZApFT05TCiAgZGVwbG95X2NvbmZpZyAkVE1QX0NGRyAkc2NyaXB
0CmVsaWYgW1sgIiQxIiA9PSAic2Vjb25kYXJ5IiBdXTsgdGhlbgogIGF1dG9jb25uZWN0PSQzCiAgaW
Q9c2Vjb25kYXJ5LSRtYWMKICBzY3JpcHQ9L2V0Yy9OZXR3b3JrTWFuYWdlci9zeXN0ZW0tY29ubmVjd
GlvbnMvJGlkCiAgY2F0ID4gJFRNUF9DRkcgPDxFT05TCltjb25uZWN0aW9uXQppZD0kaWQKdXVpZD0k
dXVpZAp0eXBlPTgwMi0zLWV0aGVybmV0CmF1dG9jb25uZWN0PSRhdXRvY29ubmVjdApbODAyLTMtZXR
oZXJuZXRdCm1hYy1hZGRyZXNzPSRtYWMKW2lwdjRdCm1ldGhvZD0kaXB2NF9tZXRob2QKZGhjcC10aW
1lb3V0PSR0aW1lb3V0Cmlnbm9yZS1hdXRvLWRucz10cnVlCmlnbm9yZS1hdXRvLXJvdXRlcz10cnVlC
m5ldmVyLWRlZmF1bHQ9dHJ1ZQpkaGNwLXNlbmQtaG9zdG5hbWU9JHNlbmRob3N0CltpcHY2XQptZXRo
b2Q9JGlwdjZfbWV0aG9kCkVPTlMKICBkZXBsb3lfY29uZmlnICRUTVBfQ0ZHICRzY3JpcHQKZWxzZQo
gIHVzYWdlCmZpCgpleGl0IDAK
CODE
%end

%post
mkdir -p $(dirname /usr/bin/nm-prepare)
base64 -d - >/usr/bin/nm-prepare <<'CODE'
IyEvYmluL2Jhc2gKCiMgRGVwbG95cyBOZXR3b3JrTWFuYWdlciBjb25maWd1cmF0aW9uIGFjY29yZGl
uZyB0byB0aGUga2VybmVsIGNvbW1hbmQgbGluZQojIG9wdGlvbnMgZm9yIGJvb3RpZi9pbml0bmV0IG
9wdGlvbnMuIFdoZW4gZXhlY3V0ZWQgd2l0aCBwYXJhbWV0ZXIgKGRldmljZQojIG5hbWUpIGl0IG9ub
HkgY29uZmlndXJlcyB0aGUgcGFydGljdWxhciAoc2Vjb25kYXJ5KSBkZXZpY2UsIG90aGVyd2lzZSBh
bGwgYXJlCiMgY29uZmlndXJlZC4gVGhlIHNjcmlwdCBpcyBleGVjdXRlZCB2aWEgdWRldiBmb3IgYWx
sIHNlY29uZGFyeSBuZXR3b3JrIGRldmljZXMgYW5kCiMgdmlhIHN5c3RlbWQgKG5tLXByZXBhcmUpIG
ZvciBwcmltYXJ5IGludGVyZmFjZS4KCnNvdXJjZSAvdXNyL3NoYXJlL2ZkaS9jb21tb25mdW5jLnNoC
mV4cG9ydEtDTApib290aWY9IiQobm9ybWFsaXplSHdBZGRyICIke0JPT1RNQUN9IikiCgpjb25maWd1
cmVfc2Vjb25kYXJ5X2RldmljZSgpIHsKICAgICMgZGV2aWNlIG5hbWUgY2FuIHN0aWxsIGNoYW5nZSB
hZnRlciBjb25maWd1cmF0aW9uIGlzIGRlcGxveWVkIC0gd2UgZG9uJ3QgdXNlIGl0CiAgICBkZXY9JC
hiYXNlbmFtZSAkMSkKICAgIFtbICIkZGV2IiA9PSAibG8iIF1dICYmIHJldHVybgogICAgW1sgLWYgL
3N5cy9jbGFzcy9uZXQvJGRldi9hZGRyZXNzIF1dIHx8IHJldHVybgogICAgcmVhZCBtYWMgPCAiL3N5
cy9jbGFzcy9uZXQvJGRldi9hZGRyZXNzIgogICAgbWFjPSIkKG5vcm1hbGl6ZUh3QWRkciAiJG1hYyI
pIgogICAgW1sgIiRtYWMiID09ICIkYm9vdGlmIiBdXSAmJiByZXR1cm4KICAgIGlmIFtbICIke0tDTF
9GRElfSU5JVE5FVCwsfSIgPT0gImFsbCIgXV07IHRoZW4KICAgICAgICBhdXRvY29ubmVjdD10cnVlC
iAgICBlbHNlCiAgICAgICAgYXV0b2Nvbm5lY3Q9ZmFsc2UKICAgIGZpCiAgICBlY2hvICJDb25maWd1
cmluZyBzZWNvbmRhcnkgaW50ZXJmYWNlIHZpYSB1ZGV2IHNjcmlwdDogJG1hYyIKICAgIC91c3IvYml
uL25tLWNvbmZpZ3VyZSBzZWNvbmRhcnkgIiRtYWMiICIkYXV0b2Nvbm5lY3QiCn0KCmlmIFtbIC16IC
IkMSIgXV07IHRoZW4KICAgIGZvciBkZXZpY2UgaW4gL3N5cy9jbGFzcy9uZXQvKjsgZG8KICAgICAgI
CBjb25maWd1cmVfc2Vjb25kYXJ5X2RldmljZSAkZGV2aWNlCiAgICBkb25lCmVsc2UKICAgIGNvbmZp
Z3VyZV9zZWNvbmRhcnlfZGV2aWNlICQxCmZpCgpleGl0IDAK
CODE
%end

%post
mkdir -p $(dirname /usr/share/fdi/commonfunc.sh)
base64 -d - >/usr/share/fdi/commonfunc.sh <<'CODE'
IyEvYmluL2VjaG8gVGhpcyBmaWxlIGlzIG1lYW50IHRvIGJlIHNvdXJjZWQgbm90IHRvIGJlIGV4ZWN
1dGVkOgoKIyBDb21tb24gZnVuY3Rpb25zIHVzZWQgaW4gRkRJIHNjcmlwdHMuCgojIG5vcm1hbGl6ZS
BNQUMgYWRkcmVzcyB0byB1c2UgbG93ZXJjYXNlIGFuZCA6IGFzIHNlcGFyYXRvcgpmdW5jdGlvbiBub
3JtYWxpemVId0FkZHIoKSB7CiAgL3Vzci9iaW4vdHIgJ0EtRi0nICdhLWY6JyA8PDwgIiR7MX0iCn0K
CiMgcGFyc2UgL3Byb2MvY21kbGluZSBhbmQgZXhwb3J0IHBhcmFtZXRlcnMgaW50byBlbnYgKEtDTF8
qKQpmdW5jdGlvbiBleHBvcnRLQ0woKSB7CiAgbG9jYWwgLWEgY21kbGluZQogIGxvY2FsIHBhcmFtCi
AgSUZTPSIgIiByZWFkIC1hIGNtZGxpbmUgPCAvcHJvYy9jbWRsaW5lCiAgZm9yIHBhcmFtIGluICIke
2NtZGxpbmVbQF19IgogIGRvCiAgICAjIHNhbml0aXplIHZhcmlhYmxlIG5hbWUgdG8gY29udGFpbiBv
bmx5IF8gYW5kIGFscGhhIG51bW1lcmljIGNoYXJzLgogICAgbG9jYWwgbmFtZT0iJCgvdXNyL2Jpbi9
0ciAtYyAnWzphbG51bTpdX1xuJyAnXycgPDw8ICIke3BhcmFtJSU9Kn0iKSIKICAgIGxvY2FsIHZhbH
VlPSIke3BhcmFtIyo9fSIKICAgIGV4cG9ydCAiS0NMXyR7bmFtZV5efSI9IiR7dmFsdWV9IgogIGRvb
mUKICBpZiBbIC1uICIke0tDTF9CT09USUZ9IiBdCiAgdGhlbgogICAgIyBzdHJpcCBvdXQgbGVhZGlu
ZyBhcnAgdHlwZSAoMDEtKSBvZiBLQ0xfQk9PVElGCiAgICAjIGFuZCBwcm92aWRlIEJPT1RNQUMgaW4
gZW52aXJvbm1lbnQKICAgIGV4cG9ydCBCT09UTUFDPSIke0tDTF9CT09USUYjKi19IgogIGZpCn0K
CODE
%end

%post
mkdir -p $(dirname /usr/share/fdi/facts/discovery-facts.rb)
base64 -d - >/usr/share/fdi/facts/discovery-facts.rb <<'CODE'
IyB2aW06IHRzPTI6c3c9MjpldAojCiMgQ29weXJpZ2h0IChDKSAyMDEzIFJlZCBIYXQsIEluYy4KIwo
jIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbm
Qvb3IgbW9kaWZ5CiMgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgT
GljZW5zZSBhcyBwdWJsaXNoZWQgYnkKIyB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uOyB2ZXJz
aW9uIDIgb2YgdGhlIExpY2Vuc2UuCiMKIyBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGh
lIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKIyBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IH
dpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgojIE1FUkNIQU5UQUJJTElUWSBvciBGS
VRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKIyBHTlUgR2VuZXJhbCBQdWJs
aWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgojCiMgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGE
gY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKIyBhbG9uZyB3aXRoIHRoaXMgcH
JvZ3JhbTsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZQojIEZvdW5kYXRpb24sIEluY
y4sIDUxIEZyYW5rbGluIFN0cmVldCwgRmlmdGggRmxvb3IsIEJvc3RvbiwKIyBNQSAgMDIxMTAtMTMw
MSwgVVNBLiAgQSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBpcwojIGFsc28
gYXZhaWxhYmxlIGF0IGh0dHA6Ly93d3cuZ251Lm9yZy9jb3B5bGVmdC9ncGwuaHRtbC4KCnJlcXVpcm
UgJ3Jlc29sdicKaWYgRmlsZS5leGlzdD8gJy9vcHQvcmgvcmgtcnVieTI1L3Jvb3QvdXNyL3NoYXJlL
3J1YnkvdmVuZG9yX3J1YnkvZGlzY292ZXJ5JwogIHJlcXVpcmUgJy9vcHQvcmgvcmgtcnVieTI1L3Jv
b3QvdXNyL3NoYXJlL3J1YnkvdmVuZG9yX3J1YnkvZGlzY292ZXJ5JwplbHNlCiAgcmVxdWlyZV9yZWx
hdGl2ZSAnLi4vLi4vLi4vLi4vb3B0L3JoL3JoLXJ1YnkyNS9yb290L3Vzci9zaGFyZS9ydWJ5L3Zlbm
Rvcl9ydWJ5L2Rpc2NvdmVyeS5yYicKZW5kCgpkZWYgZGlzY292ZXJ5X2Jvb3RpZgogICMgUFhFTGlud
XggZGFzaC1zZXBhcmF0ZWQgaGV4YWRlY2ltYWwgKndpdGhvdXQqIHRoZSBsZWFkaW5nIGhhcmR3YXJl
IHR5cGUKICBjbWRsaW5lKCdCT09USUYnLCBjbWRsaW5lKCdmZGkucHhtYWMnLCBkZXRlY3RfZmlyc3R
fbmljX3dpdGhfbGluaykpLmdzdWIoL15bYS1mQS1GMC05XSstLywgJycpLmdzdWIoJy0nLCAnOicpIH
Jlc2N1ZSAnMDA6MDA6MDA6MDA6MDA6MDAnCmVuZAoKaWYgRmlsZS5leGlzdD8gJy91c3Ivc2hhcmUvZ
mRpL1ZFUlNJT04nCiAgRmFjdGVyLmFkZCgiZGlzY292ZXJ5X3ZlcnNpb24iKSBkbwogICAgc2V0Y29k
ZSBkbwogICAgICBGaWxlLm9wZW4oJy91c3Ivc2hhcmUvZmRpL1ZFUlNJT04nKSB7fGZ8IGYucmVhZGx
pbmUuY2hvbXB9CiAgICBlbmQKICBlbmQKZW5kCgppZiBGaWxlLmV4aXN0PyAnL3Vzci9zaGFyZS9mZG
kvUkVMRUFTRScKICBGYWN0ZXIuYWRkKCJkaXNjb3ZlcnlfcmVsZWFzZSIpIGRvCiAgICBzZXRjb2RlI
GRvCiAgICAgIEZpbGUub3BlbignL3Vzci9zaGFyZS9mZGkvUkVMRUFTRScpIHt8ZnwgZi5yZWFkbGlu
ZS5jaG9tcH0KICAgIGVuZAogIGVuZAplbmQKCkZhY3Rlci5hZGQoImRpc2NvdmVyeV9ib290aWYiLCA
6dGltZW91dCA9PiAxMCkgZG8KICBzZXRjb2RlIGRvCiAgICBkaXNjb3ZlcnlfYm9vdGlmCiAgZW5kCm
VuZAoKKDEuLjk5KS5lYWNoIGRvIHxufAogIGlmIChmYWN0X25hbWUgPSBjbWRsaW5lKCJmZGkucHhmY
WN0bmFtZSN7bn0iKSkKICAgIGZhY3RfdmFsdWUgPSBjbWRsaW5lKCJmZGkucHhmYWN0dmFsdWUje259
IikKICAgIEZhY3Rlci5hZGQoZmFjdF9uYW1lKSBkbwogICAgICBzZXRjb2RlIGRvCiAgICAgICAgZmF
jdF92YWx1ZQogICAgICBlbmQKICAgIGVuZAogICAgRmFjdGVyLmRlYnVnICJBZGRpbmcga2VybmVsIG
NvbW1hbmQgbGluZSBjdXN0b20gZmFjdCAje2ZhY3RfbmFtZX09I3tmYWN0X3ZhbHVlfSIKICBlbHNlC
iAgICBGYWN0ZXIuZGVidWcgIlByb2Nlc3NlZCAje259IGtlcm5lbCBjb21tYW5kIGxpbmUgY3VzdG9t
IGZhY3RzLCB3ZSBhcmUgZG9uZSBoZXJlIgogICAgYnJlYWsKICBlbmQKZW5kCgojIElQTUkgRmFjdHM
KJXh7ZG1pZGVjb2RlIC10IDM4IDI+L2Rldi9udWxsfGdyZXAgLXEgIklQTUkgRGV2aWNlIn0KaGFzX2
lwbWkgPSAkPy5leGl0c3RhdHVzID09IDAKCmRlZiBhZGRfaXBtaV9mYWN0cyBmYWN0LCB2YWx1ZSwgY
2hhbm5lbCA9IG5pbAogIGlmIGNoYW5uZWwKICAgIGZhY3QgPSAiaXBtaV8je2NoYW5uZWx9XyN7ZmFj
dH0iCiAgZWxzZQogICAgZmFjdCA9ICJpcG1pXyN7ZmFjdH0iCiAgZW5kCiAgRmFjdGVyLmFkZChmYWN
0KSBkbwogICAgY29uZmluZSA6a2VybmVsID0+ICJMaW51eCIKICAgIHNldGNvZGUgZG8KICAgICAgdm
FsdWUKICAgIGVuZAogIGVuZAplbmQKCmlmIGhhc19pcG1pCiAgRmFjdGVyLmFkZCgiaXBtaV9lbmFib
GVkIikgZG8KICAgIGNvbmZpbmUgOmtlcm5lbCA9PiAiTGludXgiCiAgICBzZXRjb2RlIGRvCiAgICAg
IHRydWUKICAgIGVuZAogIGVuZAogIGRlZmF1bHRfZm91bmQgPSBmYWxzZQogICgwLi4xNSkuZWFjaCB
kbyB8bnwKICAgIG91dHB1dCA9IEZhY3Rlcjo6VXRpbDo6UmVzb2x1dGlvbi5leGVjKCJpcG1pdG9vbC
BsYW4gcHJpbnQgI3tufSAyPi9kZXYvbnVsbCIpCiAgICBhdHRyaWJ1dGVzID0ge30KICAgIG91dHB1d
C5lYWNoX2xpbmUgZG8gfGxpbmV8CiAgICAgIGNhc2UgbGluZS5zdHJpcAogICAgICB3aGVuIC9eSVAg
QWRkcmVzcyBTb3VyY2Vccys6ICguKikvCiAgICAgICAgYXR0cmlidXRlc1s6aXBhZGRyZXNzX3NvdXJ
jZV0gPSAkMQogICAgICB3aGVuIC9eSVAgQWRkcmVzc1xzKzogKC4qKS8KICAgICAgICBhdHRyaWJ1dG
VzWzppcGFkZHJlc3NdID0gJDEKICAgICAgICBhdHRyaWJ1dGVzWzpwdHJdID0gKFJlc29sdi5uZXcuZ
2V0bmFtZSgkMSkgcmVzY3VlIG5pbCkKICAgICAgd2hlbiAvXlN1Ym5ldCBNYXNrXHMrOiAoLiopLwog
ICAgICAgIGF0dHJpYnV0ZXNbOnN1Ym5ldF9tYXNrXSA9ICQxCiAgICAgIHdoZW4gL15NQUMgQWRkcmV
zc1xzKzogKC4qKS8KICAgICAgICBhdHRyaWJ1dGVzWzptYWNhZGRyZXNzXSA9ICQxCiAgICAgIHdoZW
4gL15EZWZhdWx0IEdhdGV3YXkgSVBccys6ICguKikvCiAgICAgICAgYXR0cmlidXRlc1s6Z2F0ZXdhe
V0gPSAkMQogICAgICBlbmQKICAgIGVuZCBpZiBvdXRwdXQKCiAgICB1bmxlc3MgZGVmYXVsdF9mb3Vu
ZAogICAgICBGYWN0ZXIuZGVidWcoIlJ1bm5pbmcgaXBtaXRvb2wgb24gcG9ydCAje259IGRpZG4ndCB
naXZlIGFueSBpbmZvcm1hdGlvbiIpIGlmIGF0dHJpYnV0ZXMua2V5cy5lbXB0eT8KICAgICAgYXR0cm
lidXRlcy5lYWNoIGRvIHxmYWN0LCB2YWx1ZXwKICAgICAgICBhZGRfaXBtaV9mYWN0cyBmYWN0LCB2Y
Wx1ZQogICAgICAgIGRlZmF1bHRfZm91bmQgPSB0cnVlCiAgICAgIGVuZAogICAgZW5kCiAgICBhdHRy
aWJ1dGVzLmVhY2ggZG8gfGZhY3QsIHZhbHVlfAogICAgICBhZGRfaXBtaV9mYWN0cyBmYWN0LCB2YWx
1ZSwgbgogICAgZW5kCiAgZW5kCmVuZAoKIyBOZXR3b3JrTWFuYWdlciBkZXRhaWxzIChlLmcuIG5tcH
JpbWFyeV9kaGNwNF9vcHRpb25fZG9tYWluX25hbWUpCndhaXQgPSBjbWRsaW5lKCdmZGkubm13YWl0J
ywgMTIwKQpubW91dCA9IEZhY3Rlcjo6VXRpbDo6UmVzb2x1dGlvbi5leGVjKCJubWNsaSAtdyAje3dh
aXR9IC10IGNvbiBzaG93IHByaW1hcnkgMj4vZGV2L251bGwiKQpubW91dC5lYWNoX2xpbmUgZG8gfHh
8CiAgZWxlbWVudHMgPSB4LnNwbGl0KCI6IiwgMikKICBuYW1lID0gZWxlbWVudHMuZmlyc3QuZG93bm
Nhc2Uuc3ViKC9cW1xkK1xdJC8sIiIpCiAgaWYgbmFtZSA9fiAvZGhjcC5cLm9wdGlvbi8KICAgIGRoY
3BfZWxlbXMgPSBlbGVtZW50cy5sYXN0LnNwbGl0KC9ccyo9XHMqLywgMikKICAgIG5hbWUgKz0gJ18n
ICsgZGhjcF9lbGVtcy5maXJzdAogICAgdmFsdWUgPSBkaGNwX2VsZW1zLmxhc3QKICBlbHNlCiAgICB
2YWx1ZSA9IGVsZW1lbnRzLmxhc3QKICBlbmQKICBuYW1lID0gIm5tcHJpbWFyeV8iICsgbmFtZS50ci
gnLicsICdfJykKICBGYWN0ZXIuYWRkKG5hbWUpIGRvCiAgICBzZXRjb2RlIGRvCiAgICAgIHZhbHVlL
mNob21wCiAgICBlbmQKICBlbmQKZW5kCgojIENyZWF0ZSBESENQIEZRRE4gaGVscGVyIGZhY3RzCkZh
Y3Rlci5hZGQoIm5tcHJpbWFyeV9kaGNwNF9vcHRpb25fZnFkbiIpIGRvCiAgc2V0Y29kZSBkbwogICA
gaWYgRmFjdGVyLnZhbHVlKCJubXByaW1hcnlfZGhjcDRfb3B0aW9uX2hvc3RfbmFtZSIpICYmIEZhY3
Rlci52YWx1ZSgibm1wcmltYXJ5X2RoY3A0X29wdGlvbl9kb21haW5fbmFtZSIpCiAgICAgIEZhY3Rlc
i52YWx1ZSgibm1wcmltYXJ5X2RoY3A0X29wdGlvbl9ob3N0X25hbWUiKSArICcuJyArIEZhY3Rlci52
YWx1ZSgibm1wcmltYXJ5X2RoY3A0X29wdGlvbl9kb21haW5fbmFtZSIpCiAgICBlbHNlCiAgICAgIG5
pbAogICAgZW5kCiAgZW5kCmVuZAoKIyBQcmltYXJ5IGludGVyZmFjZSBJUCBQVFIgRE5TIHJlY29yZA
pGYWN0ZXIuYWRkKCJubXByaW1hcnlfcHRyIikgZG8KICBzZXRjb2RlIGRvCiAgICBpcCA9IEZhY3Rlc
i52YWx1ZSgibm1wcmltYXJ5X2lwNF9hZGRyZXNzIikuc2NhbigvXGQrXC5cZCtcLlxkK1wuXGQrLyku
Zmlyc3Quc3RyaXAgcmVzY3VlIG5pbAogICAgaWYgaXAubmlsPwogICAgICBuaWwKICAgIGVsc2UKICA
gICAgUmVzb2x2Lm5ldy5nZXRuYW1lKGlwKSByZXNjdWUgbmlsCiAgICBlbmQKICBlbmQKZW5kCgojIE
tlZXAgdGhpcyBhcyB0aGUgbGFzdCBvbmUgLSBvdmVycmlkZXMgZnJvbSBmaWxlIHN5c3RlbQpEaXIuZ
2xvYignL3RtcC9mYWN0cy8qJykgZG8gfGZpbGV8CiAgRmFjdGVyLmFkZChGaWxlLmJhc2VuYW1lKGZp
bGUpKSBkbwogICAgc2V0Y29kZSBkbwogICAgICBGaWxlLm9wZW4oZmlsZSkge3xmfCBmLnJlYWRsaW5
lLmNob21wfQogICAgZW5kCiAgZW5kCmVuZAo=
CODE
%end

%post
mkdir -p $(dirname /usr/share/fdi/facts/efi.rb)
base64 -d - >/usr/share/fdi/facts/efi.rb <<'CODE'
IyAoYykgUGF0IFJpZWhlY2t5IDIwMTYsIEFwYWNoZSBQdWJsaWMgTGljZW5zZSAyLjAKIwojIEZhY3Q
6IGVmaQojCiMgUHVycG9zZTogU2V0ICd0cnVlJyBpZiBzeXN0ZW0gaXMgYm9vdGVkIGludG8gRUZJCi
MKIyBSZXNvbHV0aW9uOgojICAgaWYgL3N5cy9maXJtd2FyZS9lZmkgZXhpc3RzIHRoaXMgaXMgdHJ1Z
SwgZWxzZSBmYWxzZQojCiMgTm90ZXM6CiMgICBUaGUgcmVzdWx0IGlzIGJvb2xlYW4KIwpyZXF1aXJl
ICdmYWN0ZXInCgpGYWN0ZXIuYWRkKDplZmkpIGRvCiAgY29uZmluZSA6a2VybmVsID0+ICJMaW51eCI
KCiAgc2V0Y29kZSBkbwogICAgRmlsZS5kaXJlY3Rvcnk/KCcvc3lzL2Zpcm13YXJlL2VmaScpCiAgZW
5kCmVuZAo=
CODE
%end

%post
mkdir -p $(dirname /usr/share/fdi/facts/ethtool.rb)
base64 -d - >/usr/share/fdi/facts/ethtool.rb <<'CODE'
IyEvdXNyL2Jpbi9lbnYgcnVieQojCiMgUXVpY2tmaXggZm9yIHJlZ3Jlc3Npb24gaW50cm9kdWNlZCB
pbiBGREkgMy43LjAKIyBTZWU6IGh0dHBzOi8vY29tbXVuaXR5LnRoZWZvcmVtYW4ub3JnL3QvZm9yZW
1hbi1kaXNjb3ZlcnktaW1hZ2UtMy03LzIxNjQyCiMKIyBUbyB0ZXN0OgojICQgRkFDVEVSTElCPS91c
3Ivc2hhcmUvZmRpL2ZhY3RzIHJ1YnkgL29wdC90aGVmb3JlbWFuL3RmbS9yb290L3Vzci9iaW4vZmFj
dGVyCgpyZXF1aXJlICdmYWN0ZXInCgpGYWN0ZXIuYWRkKDpldGh0b29sLCA6dGltZW91dCA9PiAxMCk
gZG8KICBjb25maW5lIGtlcm5lbDogIkxpbnV4IgoKICBjb25maW5lIDpuZXR3b3JraW5nIGRvIHx2YW
x1ZXwKICAgIHZhbHVlICYmIHZhbHVlWydpbnRlcmZhY2VzJ10KICBlbmQKCiAgY29uZmluZSBkbwogI
CAgRmFjdGVyOjpDb3JlOjpFeGVjdXRpb24ud2hpY2goJ2V0aHRvb2wnKSAhPSBuaWwKICBlbmQKCiAg
c2V0Y29kZSBkbwogICAgaW50ZXJmYWNlX2luZm8gPSB7fQogICAgRmFjdGVyLnZhbHVlKDpuZXR3b3J
raW5nKVsnaW50ZXJmYWNlcyddLmtleXMuZWFjaCBkbyB8aW50ZXJmYWNlfAogICAgICBGYWN0ZXIuZG
VidWcoIlJ1bm5pbmcgZXRodG9vbCBvbiBpbnRlcmZhY2UgI3tpbnRlcmZhY2V9IikKICAgICAgb3V0c
HV0ID0gRmFjdGVyOjpDb3JlOjpFeGVjdXRpb24uZXhlYygiZXRodG9vbCAje2ludGVyZmFjZX0gMj4v
ZGV2L251bGwiKQogICAgICBpZiBvdXRwdXQubmlsPwogICAgICAgIEZhY3Rlci5kZWJ1ZygiRXhlY3V
0aW9uIG9mIGV0aHRvb2wgb24gaW50ZXJmYWNlICN7aW50ZXJmYWNlfSBmYWlsZWQiKQogICAgICBlbH
NlCiAgICAgICAgYXR0cmlidXRlcyA9IHt9CiAgICAgICAgb3V0cHV0LmVhY2hfbGluZSBkbyB8bGluZ
XwKICAgICAgICAgIG5leHQgaWYgbGluZS5uaWw/IG9yIGxpbmUgPT0gIiIKICAgICAgICAgIGNhc2Ug
bGluZS5zdHJpcAogICAgICAgICAgd2hlbiAvU3BlZWQ6ICguKilNYi8KICAgICAgICAgICAgYXR0cml
idXRlc1s6c3BlZWRdID0gJDEKICAgICAgICAgIHdoZW4gL0R1cGxleDogKC4qKS8KICAgICAgICAgIC
AgYXR0cmlidXRlc1s6ZHVwbGV4XSA9ICQxLmRvd25jYXNlCiAgICAgICAgICB3aGVuIC9Qb3J0OiAoL
iopLwogICAgICAgICAgICBhdHRyaWJ1dGVzWzpwb3J0XSA9ICQxCiAgICAgICAgICB3aGVuIC9BdXRv
LW5lZ290aWF0aW9uOiAoLiopLwogICAgICAgICAgICBhdHRyaWJ1dGVzWzphdXRvX25lZ290aWF0aW9
uXSA9ICgkMSA9PSAnb24nKS50b19zCiAgICAgICAgICB3aGVuIC9eV2FrZS1vbjogKC4qKS8KICAgIC
AgICAgICAgYXR0cmlidXRlc1s6d29sXSA9ICQxLmluY2x1ZGU/KCdnJykKICAgICAgICAgIHdoZW4gL
0xpbmsgZGV0ZWN0ZWQ6ICguKikvCiAgICAgICAgICAgIGF0dHJpYnV0ZXNbOmxpbmtdID0gKCQxID09
ICd5ZXMnKS50b19zCiAgICAgICAgICBlbmQKICAgICAgICBlbmQKCiAgICAgICAgaWYgYXR0cmlidXR
lcy5rZXlzLmVtcHR5PwogICAgICAgICAgRmFjdGVyLmRlYnVnKCJSdW5uaW5nIGV0aHRvb2wgb24gI3
tpbnRlcmZhY2V9IGRpZG4ndCBnaXZlIGFueSBpbmZvcm1hdGlvbiIpCiAgICAgICAgZWxzZQogICAgI
CAgICAgaW50ZXJmYWNlX2luZm9baW50ZXJmYWNlXSA9IGF0dHJpYnV0ZXMKICAgICAgICBlbmQKICAg
ICAgZW5kCiAgICBlbmQKICAgIGludGVyZmFjZV9pbmZvCiAgZW5kCmVuZAo=
CODE
%end

%post
mkdir -p $(dirname /usr/share/fdi/facts/openlldp.rb)
base64 -d - >/usr/share/fdi/facts/openlldp.rb <<'CODE'
IyBncmFiYmVkIGZyb206CiMgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3Jhem9yc2V
kZ2UvcHVwcGV0LW9wZW5sbGRwL21hc3Rlci9saWIvZmFjdGVyL29wZW5sbGRwLnJiCgojQ29weXJpZ2
h0IChDKSAyMDEyIE1pa2UgQXJub2xkIDxtaWtlQHJhem9yc2VkZ2Uub3JnPgojCiNMaWNlbnNlZCB1b
mRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKI3lvdSBt
YXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4
KI1lvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAojCiMgICAgaHR0cDovL3d3dy
5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKI1VubGVzcyByZXF1aXJlZCBieSBhcHBsa
WNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKI2Rpc3RyaWJ1dGVkIHVu
ZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiNXSVRIT1V
UIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW
1wbGllZC4KI1NlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZ
yBwZXJtaXNzaW9ucyBhbmQKI2xpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoKIyBGYWN0Ogoj
ICAgbGxkcF9uZWlnaGJvcl9jaGFzc2lzaWRfPGludGVyZmFjZT4KIyAgIGxsZHBfbmVpZ2hib3JfbW5
nYWRkcl9pcHY0XzxpbnRlcmZhY2U+CiMgICBsbGRwX25laWdoYm9yX21uZ2FkZHJfaXB2Nl88aW50ZX
JmYWNlPgojICAgbGxkcF9uZWlnaGJvcl9tdHVfPGludGVyZmFjZT4KIyAgIGxsZHBfbmVpZ2hib3Jfc
G9ydGlkXzxpbnRlcmZhY2U+CiMgICBsbGRwX25laWdoYm9yX3N5c25hbWVfPGludGVyZmFjZT4KIyAg
IGxsZHBfbmVpZ2hib3JfcHZpZF88aW50ZXJmYWNlPgojCiMgUHVycG9zZToKIyAgIFJldHVybiBpbmZ
vcm1hdGlvbiBhYm91dCB0aGUgaG9zdCdzIExMRFAgbmVpZ2hib3JzLgojCiMgUmVzb2x1dGlvbjoKIy
AgIE9uIGhvc3RzIHdpdGggdGhlIGxsZHB0b29sIGJpbmFyeSwgc2VuZCBxdWVyaWVzIHRvIHRoZSBsb
GRwYWQgZm9yIGVhY2ggb2YKIyAgIHRoZSBob3N0J3MgRXRoZXJuZXQgaW50ZXJmYWNlcyBhbmQgcGFy
c2UgdGhlIG91dHB1dC4KIwojIENhdmVhdHM6CiMgICBBc3N1bWVzIHRoYXQgdGhlIGNvbm5lY3RlZCB
FdGhlcm5ldCBzd2l0Y2ggaXMgc2VuZGluZyBMTERQRFVzLCBPcGVuLUxMRFAKIyAgIChsbGRwYWQpIG
lzIHJ1bm5pbmcsIGFuZCBsbGRwYWQgaXMgY29uZmlndXJlZCB0byByZWNlaXZlIExMRFBEVXMgb24gZ
WFjaAojICAgRXRoZXJuZXQgaW50ZXJmYWNlLgojCiMgQXV0aG9yczoKIyAgIE1pa2UgQXJub2xkIDxt
aWtlQHJhem9yc2VkZ2Uub3JnPgojCiMgQ29weXJpZ2h0OgojICAgQ29weXJpZ2h0IChDKSAyMDEyIE1
pa2UgQXJub2xkLCB1bmxlc3Mgb3RoZXJ3aXNlIG5vdGVkLgojCgojIGh0dHA6Ly93d3cucnVieS1mb3
J1bS5jb20vdG9waWMvMzQxODI4NSMxMDQwNjk1Cm1vZHVsZSBFbnVtZXJhYmxlCiAgZGVmIGdyZXBfd
ihjb25kKQogICAgc2VsZWN0IHt8eHwgbm90IGNvbmQgPT09IHh9CiAgZW5kCmVuZAoKaWYgRmlsZS5l
eGlzdHM/KCcvdXNyL3NiaW4vbGxkcHRvb2wnKQogIGxsZHAgPSB7CiAgICAjIExMRFAgTmFtZSAgICB
OdW1lcmljIHZhbHVlCiAgICAnY2hhc3Npc0lEJyAgICA9PiAnMScsCiAgICAncG9ydElEJyAgICAgIC
A9PiAnMicsCiAgICAnc3lzTmFtZScgICAgICA9PiAnNScsCiAgICAnbW5nQWRkcl9pcHY0JyA9PiAnO
CcsCiAgICAnbW5nQWRkcl9pcHY2JyA9PiAnOCcsCiAgICAnUFZJRCcgICAgICAgICA9PiAnMHgwMDgw
YzIwMScsCiAgICAnTVRVJyAgICAgICAgICA9PiAnMHgwMDEyMGYwNCcsCiAgfQoKICAjIFJlbW92ZSB
pbnRlcmZhY2VzIHRoYXQgcG9sbHV0ZSB0aGUgbGlzdCAobGlrZSBsbyBhbmQgYm9uZDApLgogIERpci
5nbG9iKCIvc3lzL2NsYXNzL25ldC8qIikubWFwe3x4fCBGaWxlLmJhc2VuYW1lKHgpLnRvX3N9LmdyZ
XBfdigvXmxvJHxeYm9uZFswLTldLykuZWFjaCBkbyB8aW50ZXJmYWNlfAogICAgIyBMb29wIHRocm91
Z2ggdGhlIGxpc3Qgb2YgTExEUCBUTFZzIHRoYXQgd2Ugd2FudCB0byBwcmVzZW50IGFzIGZhY3RzLgo
gICAgbGxkcC5lYWNoX3BhaXIgZG8gfGtleSwgdmFsdWV8CiAgICAgIEZhY3Rlci5hZGQoImxsZHBfbm
VpZ2hib3JfI3trZXl9XyN7aW50ZXJmYWNlfSIpIGRvCiAgICAgICAgc2V0Y29kZSBkbwogICAgICAgI
CAgcmVzdWx0ID0gbmlsCiAgICAgICAgICBvdXRwdXQgPSBGYWN0ZXI6OlV0aWw6OlJlc29sdXRpb24u
ZXhlYygibGxkcHRvb2wgZ2V0LXRsdiAtbiAtaSAje2ludGVyZmFjZX0gLVYgI3t2YWx1ZX0gMj4vZGV
2L251bGwiKQogICAgICAgICAgaWYgbm90IG91dHB1dC5uaWw/CiAgICAgICAgICAgIGNhc2Uga2V5Ci
AgICAgICAgICAgIHdoZW4gJ3N5c05hbWUnLCAnTVRVJwogICAgICAgICAgICAgIG91dHB1dC5zcGxpd
CgiXG4iKS5lYWNoIGRvIHxsaW5lfAogICAgICAgICAgICAgICAgcmVzdWx0ID0gJDEgaWYgbGluZS5t
YXRjaCgvXlxzKyguKikvKQogICAgICAgICAgICAgIGVuZAogICAgICAgICAgICB3aGVuICdjaGFzc2l
zSUQnCiAgICAgICAgICAgICAgb3V0cHV0LnNwbGl0KCJcbiIpLmVhY2ggZG8gfGxpbmV8CiAgICAgIC
AgICAgICAgICBldGhlciA9ICQxIGlmIGxpbmUubWF0Y2goL01BQzpccysoLiopLykKICAgICAgICAgI
CAgICAgIHJlc3VsdCA9IGV0aGVyJi50cignLScsICc6JykmLmRvd25jYXNlCiAgICAgICAgICAgICAg
ZW5kCiAgICAgICAgICAgIHdoZW4gJ3BvcnRJRCcKICAgICAgICAgICAgICBvdXRwdXQuc3BsaXQoIlx
uIikuZWFjaCBkbyB8bGluZXwKICAgICAgICAgICAgICAgIHJlc3VsdCA9ICQxIGlmIGxpbmUubWF0Y2
goLyg/OklmbmFtZXxMb2NhbCk6XHMrKC4qKS8pCiAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgI
HdoZW4gJ21uZ0FkZHJfaXB2NCcKICAgICAgICAgICAgICBvdXRwdXQuc3BsaXQoIlxuIikuZWFjaCBk
byB8bGluZXwKICAgICAgICAgICAgICAgIHJlc3VsdCA9ICQxIGlmIGxpbmUubWF0Y2goL0lQdjQ6XHM
rKC4qKS8pCiAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIHdoZW4gJ21uZ0FkZHJfaXB2NicKIC
AgICAgICAgICAgICBvdXRwdXQuc3BsaXQoIlxuIikuZWFjaCBkbyB8bGluZXwKICAgICAgICAgICAgI
CAgIHJlc3VsdCA9ICQxIGlmIGxpbmUubWF0Y2goL0lQdjY6XHMrKC4qKS8pCiAgICAgICAgICAgICAg
ZW5kCiAgICAgICAgICAgIHdoZW4gJ1BWSUQnCiAgICAgICAgICAgICAgb3V0cHV0LnNwbGl0KCJcbiI
pLmVhY2ggZG8gfGxpbmV8CiAgICAgICAgICAgICAgICByZXN1bHQgPSAkMS50b19pIGlmIGxpbmUubW
F0Y2goLyg/OkluZm98UFZJRCk6XHMrKC4qKS8pCiAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgI
GVsc2UKICAgICAgICAgICAgICAjIGNhc2UgZGVmYXVsdAogICAgICAgICAgICAgIHJlc3VsdCA9IG5p
bAogICAgICAgICAgICBlbmQKICAgICAgICAgIGVsc2UKICAgICAgICAgICAgIyBObyBvdXRwdXQgZnJ
vbSBsbGRwdG9vbAogICAgICAgICAgICByZXN1bHQgPSBuaWwKICAgICAgICAgIGVuZAogICAgICAgIC
AgcmVzdWx0CiAgICAgICAgZW5kCiAgICAgIGVuZAogICAgZW5kCiAgZW5kCmVuZAo=
CODE
%end

%post
mkdir -p $(dirname /usr/share/fdi/RELEASE)
base64 -d - >/usr/share/fdi/RELEASE <<'CODE'
MjAyMTA3MDcuMQo=
CODE
%end

%post
mkdir -p $(dirname /usr/share/fdi/script-helpers.sh)
base64 -d - >/usr/share/fdi/script-helpers.sh <<'CODE'
IyEvYmluL2Jhc2gKc291cmNlIC9ldGMvZGVmYXVsdC9kaXNjb3ZlcnkKc291cmNlIC91c3Ivc2hhcmU
vZmRpL2NvbW1vbmZ1bmMuc2gKZXhwb3J0S0NMCgojIGhlbHBlciBmdW5jdGlvbnMKY2xlYW5fbm0oKS
B7CiAgcm0gLWYgL2V0Yy9OZXR3b3JrTWFuYWdlci9zeXN0ZW0tY29ubmVjdGlvbnMvKgp9Cgpub190d
WkoKSB7CiAgdG91Y2ggL3RtcC9kaXNhYmxlLW1lbnUKfQoKcmVsb2FkX25tKCkgewogICMgaW4gUFhF
LWxlc3MgbW9kZSBOTSBpcyBub3QgeWV0IHN0YXJ0ZWQgLSB0aGlzIHdpbGwgZmFpbAogIG5tY2xpIGN
vbm5lY3Rpb24gcmVsb2FkIDI+L2Rldi9udWxsIHx8IHRydWUKfQoKZGlzY292ZXJfbm93KCkgewogIG
5vaHVwIC91c3IvYmluL2Rpc2NvdmVyeS1yZWdpc3RlciAmPiAvdG1wL2Rpc2NvdmVyeS1zY3JpcHQtc
mVnaXN0ZXIubG9nICYKfQoKZW5hYmxlX2Rpc2NvdmVyeSgpIHsKICBzeXN0ZW1jdGwgZW5hYmxlIGRp
c2NvdmVyeS1yZWdpc3Rlcgp9Cgpod2FkZHIoKSB7CiAgSFdBRERSPSQoY2F0IC9zeXMvY2xhc3MvbmV
0LyQxL2FkZHJlc3MpCn0KCmNmZ19ldGgoKSB7CiAgREVWSUNFPSR7MTotZXRoMH0KICBOQU1FPSR7Mj
otJERFVklDRX0KICBjYXQgPi9ldGMvc3lzY29uZmlnL25ldHdvcmstc2NyaXB0cy9pZmNmZy0kREVWS
UNFIDw8RU9GClRZUEU9RXRoZXJuZXQKTkFNRT0kTkFNRQpERVZJQ0U9JERFVklDRQpPTkJPT1Q9eWVz
CiQzCiQ0CiQ1CiQ2CiQ3CiQ4CiQ5CkVPRgp9CgpjZmdfYm9uZCgpIHsKICBERVZJQ0U9JHsxOi1ib25
kMH0KICBPUFRTPSR7MjotbWlpbW9uPTEwMCBtb2RlPWJhbGFuY2UtcnJ9CiAgQk9PVFBST1RPPSR7Mz
otZGhjcH0KICBOQU1FPSR7NDotJERFVklDRX0KICBjYXQgPi9ldGMvc3lzY29uZmlnL25ldHdvcmstc
2NyaXB0cy9pZmNmZy0kREVWSUNFIDw8RU9GClRZUEU9Qm9uZApPTkJPT1Q9eWVzCkRFVklDRT0kREVW
SUNFCkJPTkRJTkdfTUFTVEVSPXllcwpCT05ESU5HX09QVFM9IiRPUFRTIgpCT09UUFJPVE89JEJPT1R
QUk9UTwpERUZST1VURT15ZXMKSVBWNklOSVQ9bm8KTkFNRT0kTkFNRQokNQokNgokNwokOAokOQpFT0
YKfQoKY2ZnX3NsYXZlKCkgewogIE1BU1RFUj0kezE6LWJvbmQwfQogIERFVj0kezI6LWV0aDB9CiAgY
2F0ID4vZXRjL3N5c2NvbmZpZy9uZXR3b3JrLXNjcmlwdHMvaWZjZmctc2xhdmUtJERFViA8PEVPRgpU
WVBFPUV0aGVybmV0Ck5BTUU9c2xhdmUtJERFVgpERVZJQ0U9JERFVgpPTkJPT1Q9eWVzCk1BU1RFUj0
kTUFTVEVSClNMQVZFPXllcwokMwokNAokNQokNgokNwokOAokOQpFT0YKfQoKZmFjdCgpIHsKICBlY2
hvICIkMiIgPiAiL3RtcC9mYWN0cy8kMSIKfQoKc2V0ICt4Cg==
CODE
%end

%post
mkdir -p $(dirname /usr/share/fdi/VERSION)
base64 -d - >/usr/share/fdi/VERSION <<'CODE'
My43LjcK
CODE
%end

%post
mkdir -p $(dirname /usr/share/locale/fdi/cs_CZ/foreman-discovery-image.po)
base64 -d - >/usr/share/locale/fdi/cs_CZ/foreman-discovery-image.po <<'CODE'
IyBDb3B5cmlnaHQgKEMpIDIwMTYgRm9yZW1hbiBkZXZlbG9wZXJzCiMgVGhpcyBmaWxlIGlzIGRpc3R
yaWJ1dGVkIHVuZGVyIHRoZSBzYW1lIGxpY2Vuc2UgYXMgdGhlIGZkaSBwYWNrYWdlLgptc2dpZCAiIg
ptc2dzdHIgIiIKIlByb2plY3QtSWQtVmVyc2lvbjogZm9yZW1hbi1kaXNjb3ZlcnktaW1hZ2UgMy4xL
jFcbiIKIlJlcG9ydC1Nc2dpZC1CdWdzLVRvOiBmb3JlbWFuLWRldkBnb29nbGVncm91cHMuY29tXG4i
CiJQT1QtQ3JlYXRpb24tRGF0ZTogMjAxNi0wNC0wNiAxMjo1NiswMjAwXG4iCiJQTy1SZXZpc2lvbi1
EYXRlOiAyMDE2LTA0LTA2IDEyOjU2KzAyMDBcbiIKIkxhc3QtVHJhbnNsYXRvcjogTHVrYXMgWmFwbG
V0YWxcbiIKIkxhbmd1YWdlOiBDemVjaFxuIgoiTUlNRS1WZXJzaW9uOiAxLjBcbiIKIkNvbnRlbnQtV
HlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFxuIgoiQ29udGVudC1UcmFuc2Zlci1FbmNvZGlu
ZzogOGJpdFxuIgoiUGx1cmFsLUZvcm1zOiBucGx1cmFscz0zOyBwbHVyYWw9KG49PTEpID8gMCA6ICh
uPj0yICYmIG48PTQpID8gMSA6IDI7XG4iCgptc2dpZCAiQ2FuY2VsIgptc2dzdHIgIlpydcWhaXQiCg
ptc2dpZCAiIgoiQ29uZmlndXJpbmcgbmV0d29yayB2aWEgREhDUC4gVGhpcyBvcGVyYXRpb24gY2FuI
HRha2Ugc2V2ZXJhbCBtaW51dGVzIHRvICIKImNvbXBsZXRlLiIKbXNnc3RyICJLb25maWd1cnVqaSBz
w63FpSBwxZllcyBESENQLiBUYXRvIG9wZXJhY2UgbcWvxb5lIHRydmF0IG7Em2tvbGlrIG1pbnV0LiI
KCm1zZ2lkICIiCiJDb25maWd1cmluZyBuZXR3b3JrLiBUaGlzIG9wZXJhdGlvbiBjYW4gdGFrZSBzZX
ZlcmFsIG1pbnV0ZXMgdG8gY29tcGxldGUuIgptc2dzdHIgIktvbmZpZ3VydWppIHPDrcWlLiBUYXRvI
G9wZXJhY2UgbcWvxb5lIHRydmF0IG7Em2tvbGlrIG1pbnV0LiIKCm1zZ2lkICJDb25maXJtIgptc2dz
dHIgIlBvdHZyZGl0IgoKbXNnaWQgIkNvbm5lY3Rpb24gdHlwZToiCm1zZ3N0ciAiVHlwIHDFmWlwb2p
lbsOtOiIKCm1zZ2lkICJDcmVkZW50aWFscyIKbXNnc3RyICJJbmljacOhbHkiCgptc2dpZCAiQ3VzdG
9tIGZhY3RzIgptc2dzdHIgIlXFvml2YXRlbHNrw6EgZmFrdGEiCgptc2dpZCAiRGlzYWJsZSIKbXNnc
3RyICJWeXBub3V0IgoKbXNnaWQgIkRpc2NvdmVyIHdpdGggREhDUCIKbXNnc3RyICJPYmpldml0IHDF
mWVzIERIQ1AiCgptc2dpZCAiRGlzY292ZXJ5Igptc2dzdHIgIiIKCm1zZ2lkICJEaXNjb3Zlcnkgc3R
hdHVzIgptc2dzdHIgIlN0YXYgb2JqZXZlbsOtIgoKbXNnaWQgIkVudGVyIHJvb3QgcGFzc3dvcmQgdG
8gdW5sb2NrIHRoZSBhY2NvdW50IGFuZCBlbmFibGUgU1NIIHNlcnZpY2U6Igptc2dzdHIgIlphZGVqd
GUgaGVzbG8gcm9vdGEgcHJvIG9kZW1ua3V0w60gYSBzcHXFoXTEm27DrSBzbHXFvmJ5IFNTSDoiCgpt
c2dpZCAiRmFjdCAlcyBuYW1lIgptc2dzdHIgIkZha3QgJXMiCgptc2dpZCAiRmFjdHMiCm1zZ3N0ciA
iRmFrdGEiCgptc2dpZCAiRmF0YWwgZXJyb3IgLSBpbnZlc3RpZ2F0ZSBqb3VybmFsIgptc2dzdHIgIl
rDoXNhZG7DrSBjaHliYSAtIHprb3VtZWp0ZSBzeXN0w6ltb3bDvSBsb2ciCgptc2dpZCAiRm9yZW1hb
iBEaXNjb3ZlcnkgSW1hZ2UiCm1zZ3N0ciAiIgoKbXNnaWQgIklQdjQgQWRkcmVzczoiCm1zZ3N0ciAi
QWRyZXNhIElQdjQ6IgoKbXNnaWQgIklQdjQgRE5TOiIKbXNnc3RyICJETlMgcHJvIElQdjQ6IgoKbXN
naWQgIklQdjQgR2F0ZXdheToiCm1zZ3N0ciAiQnLDoW5hIElQdjQ6IgoKbXNnaWQgIkludmFsaWQgSV
AiCm1zZ3N0ciAiTmVwbGF0bsOhIElQIGFkcmVzYSIKCm1zZ2lkICJJbnZhbGlkIFVSTCIKbXNnc3RyI
CJOZXBsYXRuw6EgVVJMIGFkcmVzYSIKCm1zZ2lkICJMb2dzIgptc2dzdHIgIkxvZ3kiCgptc2dpZCAi
TWFudWFsIG5ldHdvcmsgc2V0dXAiCm1zZ3N0ciAiUnXEjW7DrSBuYXN0YXZlbsOtIHPDrXTEmyIKCm1
zZ2lkICJNYW51YWwvUFhFLWxlc3MgcHJvdmlzaW9uaW5nIHdvcmtmbG93Igptc2dzdHIgIlJ1xI1uw6
0gaW5zdGFsYWNlIGJleiBQWEUiCgptc2dpZCAiTi9BIgptc2dzdHIgIk5lbsOtIgoKbXNnaWQgIk5ld
HdvcmsgY29uZmlndXJhdGlvbiIKbXNnc3RyICJOYXN0YXZlbsOtIHPDrXTEmyIKCm1zZ2lkICJOZXh0
Igptc2dzdHIgIkRhbMWhw60iCgptc2dpZCAiTm8gVVJMIHdhcyBwcm92aWRlZCIKbXNnc3RyICJBZHJ
lc2EgVVJMIG5lYnlsYSB6YWTDoW5hIgoKbXNnaWQgIk5vdCBhIHZhbGlkIFVSTCIKbXNnc3RyICJOZX
BsYXRuw6EgVVJMIGFkcmVzYSIKCm1zZ2lkICJOb3Qgc3VwcG9ydGVkIgptc2dzdHIgIk5lbsOtIHBvZ
HBvcm92w6FubyIKCm1zZ2lkICJPSyIKbXNnc3RyICIiCgptc2dpZCAiT3BlcmF0aW9uIGZhaWxlZCIK
bXNnc3RyICJPcGVyYWNlIHNlbGhhbGEiCgptc2dpZCAiT3B0aW9uIHByb3h5LnR5cGUgd2FzIG5vdCB
wcm92aWRlZCwgY2Fubm90IGNvbnRpbnVlIgptc2dzdHIgIiIKCm1zZ2lkICJPcHRpb24gcHJveHkudX
JsIHdhcyBub3QgcHJvdmlkZWQsIGNhbm5vdCBjb250aW51ZSIKbXNnc3RyICIiCgptc2dpZCAiUGVyZ
m9ybWluZyB1bmF0dGVuZGVkIHByb3Zpc2lvbmluZyB2aWEgTklDICVzLCBwbGVhc2Ugd2FpdC4iCm1z
Z3N0ciAiIgoKbXNnaWQgIlBvcnQgbXVzdCBiZSBleHBsaWNpdGx5IHByb3ZpZGVkIgptc2dzdHIgIiI
KCm1zZ2lkICJQcmVzcyBhbnkga2V5Igptc2dzdHIgIiIKCm1zZ2lkICJQcmltYXJ5IGludGVyZmFjZS
IKbXNnc3RyICIiCgptc2dpZCAiIgoiUHJvdmlkZSBmdWxsIFVSTCAoaHR0cChzKTovL2hvc3Q6UE9SV
CkgdG8gdGhlIFNlcnZlciBvciBQcm94eSBhY2NvcmRpbmcgdG8gIgoidGhlIHR5cGUgc2VsZWN0ZWQu
IFBvcnRzIGFyZSB1c3VhbGx5IDQ0MywgODQ0MywgODQ0OCBvciA5MDkwIGFjY29yZGluZyB0byAiCiJ
jb25maWd1cmF0aW9uLiIKbXNnc3RyICIiCgptc2dpZCAiIgoiUHJvdmlkZSBuZXR3b3JrIGNvbmZpZ3
VyYXRpb24gZm9yIHRoZSBzZWxlY3RlZCBwcmltYXJ5IGludGVyZmFjZS4gVXNlIENJRFIgIgoibmV0b
WFzayBub3RhdGlvbiAoZS5nLiAxOTIuMTY4LjEuMS8yNCkgZm9yIHRoZSBJUCBhZGRyZXNzLiIKbXNn
c3RyICIiCgptc2dpZCAiUHJvdmlkZSB2YWxpZCBDSURSIGlwYWRkcmVzcyB3aXRoIGEgbmV0bWFzayw
gZ2F0ZXdheSBhbmQgb25lIEROUyBzZXJ2ZXIiCm1zZ3N0ciAiIgoKbXNnaWQgIlByb3h5Igptc2dzdH
IgIiIKCm1zZ2lkICJSZWJvb3QiCm1zZ3N0ciAiUmVzdGFydCIKCm1zZ2lkICJSZXNlbmQiCm1zZ3N0c
iAiWm5vdnUiCgptc2dpZCAiUmVzZW5kaW5nIG5vdCBwb3NzaWJsZSBpbiBQWEUtbGVzcywgcmVib290
IGFuZCBzdGFydCBvdmVyLiIKbXNnc3RyICIiCgptc2dpZCAiU1NIIgptc2dzdHIgIiIKCm1zZ2lkICJ
TZWN1cmUgU2hlbGwgYWNjZXNzIgptc2dzdHIgIiIKCm1zZ2lkICJTZWxlY3QiCm1zZ3N0ciAiVnlicm
F0IgoKbXNnaWQgIiIKIlNlbGVjdCBNYW51YWwgbmV0d29yayBzZXR1cCB0byBzZWxlY3QgcHJpbWFye
SBpbnRlcmZhY2UsIGNvbmZpZ3VyZSBuZXR3b3JrICIKIihubyBESENQIHJlcXVpcmVkKSwgc2V0dXAg
c2VydmVyIGNyZWRlbnRpYWxzLCBhZGQgY3VzdG9tIGZhY3RzIGFuZCB0cmlnZ2VyICIKImF1dG8tcHJ
vdmlzaW9uaW5nIHZpYSBEaXNjb3ZlcnkgcnVsZXMuIFRoaXMgd2lsbCBsZWFkIHRvIGtlcm5lbCByZW
xvYWQgIgoiKGtleGVjKSBpbnRvIGluc3RhbGxlci4gU2VsZWN0IERpc2NvdmVyIHdpdGggREhDUCB0b
yBzZWxlY3QgcHJpbWFyeSAiCiJpbnRlcmZhY2UgYW5kIHByb2NlZWQgd2l0aCBESENQIGNvbmZpZ3Vy
YXRpb24gYW5kIHN0YW5kYXJkIGRpc2NvdmVyeSB3aXRob3V0ICIKImFueSBjdXN0b20gZmFjdHMuIFR
oaXMgd2lsbCByZWJvb3QgdGhlIGhvc3Qgb25jZSB0aGUgc3lzdGVtIGlzIHByb3Zpc2lvbmVkICIKIm
VpdGhlciBtYW51YWxseSBvciB2aWEgRGlzY292ZXJ5IHJ1bGVzLiIKbXNnc3RyICIiCgptc2dpZCAiI
goiU2VsZWN0IHByaW1hcnkgKHByb3Zpc2lvbmluZykgbmV0d29yayBpbnRlcmZhY2Ugd2l0aCBjb25u
ZWN0aW9uIHRvIHNlcnZlciBvciAiCiJwcm94eToiCm1zZ3N0ciAiIgoKbXNnaWQgIlNlcnZlciIKbXN
nc3RyICIiCgptc2dpZCAiU2VydmVyIFVSTDoiCm1zZ3N0ciAiIgoKbXNnaWQgIlNldCBhbmQgRW5hYm
xlIgptc2dzdHIgIiIKCm1zZ2lkICJTdGF0dXMiCm1zZ3N0ciAiU3RhdiIKCm1zZ2lkICIiCiJUaGlzI
HN5c3RlbSB3aWxsIGF0dGVtcHQgdG8gY29uZmlndXJlIGFsbCBpbnRlcmZhY2VzIHZpYSBESENQIGFu
ZCBkaXNjb3ZlciAiCiJpdHNlbGYgYnkgc2VuZGluZyBoYXJkd2FyZSBmYWN0cyB0byBGb3JlbWFuIGl
uc3RhbmNlLiBUbyBpbnRlcnJ1cHQgdGhpcyAiCiJiZWhhdmlvciwgcHJlc3MgYSBrZXkgdG8gYmUgYW
JsZSB0byBkbyBtYW51YWwgbmV0d29yayBjb25maWd1cmF0aW9uIGFuZCAiCiJhZGRpdGlvbmFsIHByb
3Zpc2lvbmluZyBzZXR0aW5ncy4iCm1zZ3N0ciAiIgoKbXNnaWQgIlVuYWJsZSB0byBicmluZyBuZXR3
b3JrIHZpYSBESENQIgptc2dzdHIgIiIKCm1zZ2lkICJVbmFibGUgdG8gYnJpbmcgdXAgbmV0d29yayI
KbXNnc3RyICIiCgptc2dpZCAiVW5hYmxlIHRvIHBhcnNlIHByb3h5LnVybCBVUkk6ICVzIgptc2dzdH
IgIiIKCm1zZ2lkICJVbmF0dGVuZGVkIGZhY3QgdXBsb2FkIEZBSUxFRCAtIGNoZWNrIGxvZ3MiCm1zZ
3N0ciAiIgoKbXNnaWQgIlVuYXR0ZW5kZWQgZmFjdCB1cGxvYWQgT0sgLSBhd2FpdGluZyBrZXhlYyIK
bXNnc3RyICIiCgptc2dpZCAiIgoiVW5hdHRlbmRlZCBwcm92aXNpb25pbmcgZmFpbGVkOiB1bmFibGU
gdG8gdXBsb2FkIGZhY3RzLiBDaGVjayB5b3VyIG5ldHdvcmsgIgoiY3JlZGVudGlhbHMuIgptc2dzdH
IgIiIKCm1zZ2lkICJXYWl0aW5nIGZvciBvcGVyYXRpb24gdG8gY29tcGxldGUiCm1zZ3N0ciAiIgoKb
XNnaWQgIldlbGNvbWUgdG8gRm9yZW1hbiBEaXNjb3ZlcnkiCm1zZ3N0ciAiVsOtdGVqdGUgdmUgRm9y
ZW1hbiBEaXNjb3ZlcnkiCgptc2dpZCAiYXdhaXRpbmcga2V4ZWMgaW50byBpbnN0YWxsZXIiCm1zZ3N
0ciAiIgoKbXNnaWQgInVzZSBTdGF0dXMgdG8gdXBkYXRlIgptc2dzdHIgIiIKCm1zZ2lkICJ2YWx1ZS
IKbXNnc3RyICIiCg==
CODE
%end

%post
mkdir -p $(dirname /usr/share/locale/fdi/cs_CZ/LC_MESSAGES/foreman-discovery-image.mo)
base64 -d - >/usr/share/locale/fdi/cs_CZ/LC_MESSAGES/foreman-discovery-image.mo <<'CODE'
3hIElQAAAAAjAAAAHAAAADQBAAAvAAAATAIAAAAAAAAIAwAABgAAAAkDAABSAAAAEAMAAEkAAABjAwA
ABwAAAK0DAAAQAAAAtQMAAAsAAADGAwAADAAAANIDAAAHAAAA3wMAABIAAADnAwAAEAAAAPoDAABBAA
AACwQAAAwAAABNBAAABQAAAFoEAAAhAAAAYAQAAA0AAACCBAAACQAAAJAEAAANAAAAmgQAAAoAAACoB
AAACwAAALMEAAAEAAAAvwQAABQAAADEBAAAJQAAANkEAAADAAAA/wQAABUAAAADBQAABAAAABkFAAAT
AAAAHgUAAA8AAAAyBQAADQAAAEIFAAAQAAAAUAUAAAYAAABhBQAABgAAAGgFAAAGAAAAbwUAAAYAAAB
2BQAAHAAAAH0FAACGAQAAmgUAAAcAAAAhBwAARwAAACkHAAA8AAAAcQcAAAgAAACuBwAAEAAAALcHAA
AJAAAAyAcAABMAAADSBwAABwAAAOYHAAASAAAA7gcAAA4AAAABCAAAPQAAABAIAAAHAAAATggAAAUAA
ABWCAAAKwAAAFwIAAAMAAAAiAgAAA0AAACVCAAADAAAAKMIAAATAAAAsAgAABQAAADECAAABAAAANkI
AAAZAAAA3ggAABkAAAD4CAAABQAAABIJAAARAAAAGAkAAAcAAAAqCQAAGQAAADIJAAAUAAAATAkAABI
AAABhCQAADwAAAHQJAAAHAAAAhAkAAAUAAACMCQAABgAAAJIJAAAEAAAAmQkAAB0AAACeCQAAAQAAAA
UAAAAAAAAADAAAACAAAAAcAAAACQAAABsAAAAZAAAACgAAAAgAAAAYAAAAAAAAABoAAAAAAAAAAAAAA
AAAAAAUAAAAAwAAAAAAAAAOAAAAEwAAAAAAAAAAAAAAEgAAABYAAAAAAAAAIgAAAAIAAAAHAAAABAAA
ACEAAAANAAAAHwAAAA8AAAAQAAAAFQAAAAAAAAALAAAABgAAAAAAAAAAAAAAHQAAABcAAAAjAAAAHgA
AABEAAAAAQ2FuY2VsAENvbmZpZ3VyaW5nIG5ldHdvcmsgdmlhIERIQ1AuIFRoaXMgb3BlcmF0aW9uIG
NhbiB0YWtlIHNldmVyYWwgbWludXRlcyB0byBjb21wbGV0ZS4AQ29uZmlndXJpbmcgbmV0d29yay4gV
GhpcyBvcGVyYXRpb24gY2FuIHRha2Ugc2V2ZXJhbCBtaW51dGVzIHRvIGNvbXBsZXRlLgBDb25maXJt
AENvbm5lY3Rpb24gdHlwZToAQ3JlZGVudGlhbHMAQ3VzdG9tIGZhY3RzAERpc2FibGUARGlzY292ZXI
gd2l0aCBESENQAERpc2NvdmVyeSBzdGF0dXMARW50ZXIgcm9vdCBwYXNzd29yZCB0byB1bmxvY2sgdG
hlIGFjY291bnQgYW5kIGVuYWJsZSBTU0ggc2VydmljZToARmFjdCAlcyBuYW1lAEZhY3RzAEZhdGFsI
GVycm9yIC0gaW52ZXN0aWdhdGUgam91cm5hbABJUHY0IEFkZHJlc3M6AElQdjQgRE5TOgBJUHY0IEdh
dGV3YXk6AEludmFsaWQgSVAASW52YWxpZCBVUkwATG9ncwBNYW51YWwgbmV0d29yayBzZXR1cABNYW5
1YWwvUFhFLWxlc3MgcHJvdmlzaW9uaW5nIHdvcmtmbG93AE4vQQBOZXR3b3JrIGNvbmZpZ3VyYXRpb2
4ATmV4dABObyBVUkwgd2FzIHByb3ZpZGVkAE5vdCBhIHZhbGlkIFVSTABOb3Qgc3VwcG9ydGVkAE9wZ
XJhdGlvbiBmYWlsZWQAUmVib290AFJlc2VuZABTZWxlY3QAU3RhdHVzAFdlbGNvbWUgdG8gRm9yZW1h
biBEaXNjb3ZlcnkAUHJvamVjdC1JZC1WZXJzaW9uOiBmb3JlbWFuLWRpc2NvdmVyeS1pbWFnZSAzLjE
uMQpSZXBvcnQtTXNnaWQtQnVncy1UbzogZm9yZW1hbi1kZXZAZ29vZ2xlZ3JvdXBzLmNvbQpQT1QtQ3
JlYXRpb24tRGF0ZTogMjAxNi0wNC0wNiAxMjo1NiswMjAwClBPLVJldmlzaW9uLURhdGU6IDIwMTYtM
DQtMDYgMTI6NTYrMDIwMApMYXN0LVRyYW5zbGF0b3I6IEx1a2FzIFphcGxldGFsCkxhbmd1YWdlOiBD
emVjaApNSU1FLVZlcnNpb246IDEuMApDb250ZW50LVR5cGU6IHRleHQvcGxhaW47IGNoYXJzZXQ9VVR
GLTgKQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogOGJpdApQbHVyYWwtRm9ybXM6IG5wbHVyYWxzPT
M7IHBsdXJhbD0obj09MSkgPyAwIDogKG4+PTIgJiYgbjw9NCkgPyAxIDogMjsKAFpydcWhaXQAS29uZ
mlndXJ1amkgc8OtxaUgcMWZZXMgREhDUC4gVGF0byBvcGVyYWNlIG3Fr8W+ZSB0cnZhdCBuxJtrb2xp
ayBtaW51dC4AS29uZmlndXJ1amkgc8OtxaUuIFRhdG8gb3BlcmFjZSBtxa/FvmUgdHJ2YXQgbsSba29
saWsgbWludXQuAFBvdHZyZGl0AFR5cCBwxZlpcG9qZW7DrToASW5pY2nDoWx5AFXFvml2YXRlbHNrw6
EgZmFrdGEAVnlwbm91dABPYmpldml0IHDFmWVzIERIQ1AAU3RhdiBvYmpldmVuw60AWmFkZWp0ZSBoZ
XNsbyByb290YSBwcm8gb2RlbW5rdXTDrSBhIHNwdcWhdMSbbsOtIHNsdcW+YnkgU1NIOgBGYWt0ICVz
AEZha3RhAFrDoXNhZG7DrSBjaHliYSAtIHprb3VtZWp0ZSBzeXN0w6ltb3bDvSBsb2cAQWRyZXNhIEl
QdjQ6AEROUyBwcm8gSVB2NDoAQnLDoW5hIElQdjQ6AE5lcGxhdG7DoSBJUCBhZHJlc2EATmVwbGF0bs
OhIFVSTCBhZHJlc2EATG9neQBSdcSNbsOtIG5hc3RhdmVuw60gc8OtdMSbAFJ1xI1uw60gaW5zdGFsY
WNlIGJleiBQWEUATmVuw60ATmFzdGF2ZW7DrSBzw610xJsARGFsxaHDrQBBZHJlc2EgVVJMIG5lYnls
YSB6YWTDoW5hAE5lcGxhdG7DoSBVUkwgYWRyZXNhAE5lbsOtIHBvZHBvcm92w6FubwBPcGVyYWNlIHN
lbGhhbGEAUmVzdGFydABabm92dQBWeWJyYXQAU3RhdgBWw610ZWp0ZSB2ZSBGb3JlbWFuIERpc2Nvdm
VyeQA=
CODE
%end

%post
mkdir -p $(dirname /usr/share/locale/fdi/foreman-discovery-image.pot)
base64 -d - >/usr/share/locale/fdi/foreman-discovery-image.pot <<'CODE'
IyBTT01FIERFU0NSSVBUSVZFIFRJVExFLgojIENvcHlyaWdodCAoQykgMjAxOCBGb3JlbWFuIGRldmV
sb3BlcnMKIyBUaGlzIGZpbGUgaXMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHNhbWUgbGljZW5zZSBhcy
B0aGUgZm9yZW1hbi1kaXNjb3ZlcnktaW1hZ2UgcGFja2FnZS4KIyBGSVJTVCBBVVRIT1IgPEVNQUlMQ
EFERFJFU1M+LCAyMDE4LgojCiMsIGZ1enp5Cm1zZ2lkICIiCm1zZ3N0ciAiIgoiUHJvamVjdC1JZC1W
ZXJzaW9uOiBmb3JlbWFuLWRpc2NvdmVyeS1pbWFnZSAzLjQuNFxuIgoiUmVwb3J0LU1zZ2lkLUJ1Z3M
tVG86IGZvcmVtYW4tZGV2QGdvb2dsZWdyb3Vwcy5jb21cbiIKIlBPVC1DcmVhdGlvbi1EYXRlOiAyMD
E4LTAzLTEzIDA5OjExKzAxMDBcbiIKIlBPLVJldmlzaW9uLURhdGU6IDIwMTgtMDMtMTMgMDk6MTErM
DEwMFxuIgoiTGFzdC1UcmFuc2xhdG9yOiBGVUxMIE5BTUUgPEVNQUlMQEFERFJFU1M+XG4iCiJMYW5n
dWFnZS1UZWFtOiBMQU5HVUFHRSA8TExAbGkub3JnPlxuIgoiTGFuZ3VhZ2U6IFxuIgoiTUlNRS1WZXJ
zaW9uOiAxLjBcbiIKIkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFxuIgoiQ2
9udGVudC1UcmFuc2Zlci1FbmNvZGluZzogOGJpdFxuIgoiUGx1cmFsLUZvcm1zOiBucGx1cmFscz1JT
lRFR0VSOyBwbHVyYWw9RVhQUkVTU0lPTjtcbiIKCm1zZ2lkICJDYW5jZWwiCm1zZ3N0ciAiIgoKbXNn
aWQgIkNvbmZpZ3VyaW5nIG5ldHdvcmsgdmlhIERIQ1AuIFRoaXMgb3BlcmF0aW9uIGNhbiB0YWtlIHN
ldmVyYWwgbWludXRlcyB0byBjb21wbGV0ZS4iCm1zZ3N0ciAiIgoKbXNnaWQgIkNvbmZpZ3VyaW5nIG
5ldHdvcmsuIFRoaXMgb3BlcmF0aW9uIGNhbiB0YWtlIHNldmVyYWwgbWludXRlcyB0byBjb21wbGV0Z
S4iCm1zZ3N0ciAiIgoKbXNnaWQgIkNvbmZpcm0iCm1zZ3N0ciAiIgoKbXNnaWQgIkNvbm5lY3Rpb24g
dHlwZToiCm1zZ3N0ciAiIgoKbXNnaWQgIkNyZWRlbnRpYWxzIgptc2dzdHIgIiIKCm1zZ2lkICJDdXN
0b20gZmFjdHMiCm1zZ3N0ciAiIgoKbXNnaWQgIkRpc2FibGUiCm1zZ3N0ciAiIgoKbXNnaWQgIkRpc2
NvdmVyIHdpdGggREhDUCIKbXNnc3RyICIiCgptc2dpZCAiRGlzY292ZXJ5Igptc2dzdHIgIiIKCm1zZ
2lkICJEaXNjb3Zlcnkgc3RhdHVzIgptc2dzdHIgIiIKCm1zZ2lkICJFbnRlciByb290IHBhc3N3b3Jk
IHRvIHVubG9jayB0aGUgYWNjb3VudCBhbmQgZW5hYmxlIFNTSCBzZXJ2aWNlOiIKbXNnc3RyICIiCgp
tc2dpZCAiRmFjdCAlcyBuYW1lIgptc2dzdHIgIiIKCm1zZ2lkICJGYWN0cyIKbXNnc3RyICIiCgptc2
dpZCAiRmF0YWwgZXJyb3IgLSBpbnZlc3RpZ2F0ZSBqb3VybmFsIgptc2dzdHIgIiIKCm1zZ2lkICJGb
3JlbWFuIERpc2NvdmVyeSBJbWFnZSIKbXNnc3RyICIiCgptc2dpZCAiRm9yZW1hbiBQcm94eSIKbXNn
c3RyICIiCgptc2dpZCAiSVB2NCBBZGRyZXNzOiIKbXNnc3RyICIiCgptc2dpZCAiSVB2NCBETlM6Igp
tc2dzdHIgIiIKCm1zZ2lkICJJUHY0IEdhdGV3YXk6Igptc2dzdHIgIiIKCm1zZ2lkICJJbnZhbGlkIE
lQIgptc2dzdHIgIiIKCm1zZ2lkICJJbnZhbGlkIFVSTCIKbXNnc3RyICIiCgptc2dpZCAiTG9ncyIKb
XNnc3RyICIiCgptc2dpZCAiTWFudWFsIG5ldHdvcmsgc2V0dXAiCm1zZ3N0ciAiIgoKbXNnaWQgIk1h
bnVhbC9QWEUtbGVzcyBwcm92aXNpb25pbmcgd29ya2Zsb3ciCm1zZ3N0ciAiIgoKbXNnaWQgIk4vQSI
KbXNnc3RyICIiCgptc2dpZCAiTmV0d29yayBjb25maWd1cmF0aW9uIgptc2dzdHIgIiIKCm1zZ2lkIC
JOZXh0Igptc2dzdHIgIiIKCm1zZ2lkICJObyBVUkwgd2FzIHByb3ZpZGVkIgptc2dzdHIgIiIKCm1zZ
2lkICJOb3QgYSB2YWxpZCBVUkwiCm1zZ3N0ciAiIgoKbXNnaWQgIk5vdCBzdXBwb3J0ZWQiCm1zZ3N0
ciAiIgoKbXNnaWQgIk9LIgptc2dzdHIgIiIKCm1zZ2lkICJPcGVyYXRpb24gZmFpbGVkIgptc2dzdHI
gIiIKCm1zZ2lkICJPcHRpb24gcHJveHkudHlwZSB3YXMgbm90IHByb3ZpZGVkLCBjYW5ub3QgY29udG
ludWUiCm1zZ3N0ciAiIgoKbXNnaWQgIk9wdGlvbiBwcm94eS51cmwgd2FzIG5vdCBwcm92aWRlZCwgY
2Fubm90IGNvbnRpbnVlIgptc2dzdHIgIiIKCm1zZ2lkICJQZXJmb3JtaW5nIHVuYXR0ZW5kZWQgcHJv
dmlzaW9uaW5nIHZpYSBOSUMgJXMsIHBsZWFzZSB3YWl0LiIKbXNnc3RyICIiCgptc2dpZCAiUG9ydCA
lcyBpcyBsaWtlbHkgbm90IGNvcnJlY3QsIGV4cGVjdGVkIHBvcnRzIGFyZSA0NDMsIDg0NDMgb3IgOT
A5MCIKbXNnc3RyICIiCgptc2dpZCAiUHJlc3MgYW55IGtleSIKbXNnc3RyICIiCgptc2dpZCAiUHJpb
WFyeSBpbnRlcmZhY2UiCm1zZ3N0ciAiIgoKbXNnaWQgIlByb3ZpZGUgZnVsbCBVUkwgKGh0dHAocyk6
Ly9ob3N0OlBPUlQpIHRvIHRoZSBTZXJ2ZXIgb3IgRm9yZW1hbiBQcm94eSBhY2NvcmRpbmcgdG8gdGh
lIHR5cGUgc2VsZWN0ZWQuIFBvcnRzIGFyZSB1c3VhbGx5IDQ0MywgODQ0MywgODQ0OCBvciA5MDkwIG
FjY29yZGluZyB0byBjb25maWd1cmF0aW9uLiIKbXNnc3RyICIiCgptc2dpZCAiUHJvdmlkZSBuZXR3b
3JrIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBzZWxlY3RlZCBwcmltYXJ5IGludGVyZmFjZS4gVXNlIENJ
RFIgbmV0bWFzayBub3RhdGlvbiAoZS5nLiAxOTIuMTY4LjEuMS8yNCkgZm9yIHRoZSBJUCBhZGRyZXN
zLiIKbXNnc3RyICIiCgptc2dpZCAiUHJvdmlkZSB2YWxpZCBDSURSIGlwYWRkcmVzcyB3aXRoIGEgbm
V0bWFzaywgZ2F0ZXdheSBhbmQgb25lIEROUyBzZXJ2ZXIiCm1zZ3N0ciAiIgoKbXNnaWQgIlJlYm9vd
CIKbXNnc3RyICIiCgptc2dpZCAiUmVzZW5kIgptc2dzdHIgIiIKCm1zZ2lkICJSZXNlbmRpbmcgbm90
IHBvc3NpYmxlIGluIFBYRS1sZXNzLCByZWJvb3QgYW5kIHN0YXJ0IG92ZXIuIgptc2dzdHIgIiIKCm1
zZ2lkICJTU0giCm1zZ3N0ciAiIgoKbXNnaWQgIlNlY3VyZSBTaGVsbCBhY2Nlc3MiCm1zZ3N0ciAiIg
oKbXNnaWQgIlNlbGVjdCIKbXNnc3RyICIiCgptc2dpZCAiU2VsZWN0IE1hbnVhbCBuZXR3b3JrIHNld
HVwIHRvIHNlbGVjdCBwcmltYXJ5IGludGVyZmFjZSwgY29uZmlndXJlIG5ldHdvcmsgKG5vIERIQ1Ag
cmVxdWlyZWQpLCBzZXR1cCBzZXJ2ZXIgY3JlZGVudGlhbHMsIGFkZCBjdXN0b20gZmFjdHMgYW5kIHR
yaWdnZXIgYXV0by1wcm92aXNpb25pbmcgdmlhIERpc2NvdmVyeSBydWxlcy4gVGhpcyB3aWxsIGxlYW
QgdG8ga2VybmVsIHJlbG9hZCAoa2V4ZWMpIGludG8gaW5zdGFsbGVyLiBTZWxlY3QgRGlzY292ZXIgd
2l0aCBESENQIHRvIHNlbGVjdCBwcmltYXJ5IGludGVyZmFjZSBhbmQgcHJvY2VlZCB3aXRoIERIQ1Ag
Y29uZmlndXJhdGlvbiBhbmQgc3RhbmRhcmQgZGlzY292ZXJ5IHdpdGhvdXQgYW55IGN1c3RvbSBmYWN
0cy4gVGhpcyB3aWxsIHJlYm9vdCB0aGUgaG9zdCBvbmNlIHRoZSBzeXN0ZW0gaXMgcHJvdmlzaW9uZW
QgZWl0aGVyIG1hbnVhbGx5IG9yIHZpYSBEaXNjb3ZlcnkgcnVsZXMuIgptc2dzdHIgIiIKCm1zZ2lkI
CJTZWxlY3QgcHJpbWFyeSAocHJvdmlzaW9uaW5nKSBuZXR3b3JrIGludGVyZmFjZSB3aXRoIGNvbm5l
Y3Rpb24gdG8gc2VydmVyIG9yIHByb3h5OiIKbXNnc3RyICIiCgptc2dpZCAiU2VydmVyIgptc2dzdHI
gIiIKCm1zZ2lkICJTZXJ2ZXIgVVJMOiIKbXNnc3RyICIiCgptc2dpZCAiU2V0IGFuZCBFbmFibGUiCm
1zZ3N0ciAiIgoKbXNnaWQgIlN0YXR1cyIKbXNnc3RyICIiCgptc2dpZCAiVGhpcyBzeXN0ZW0gd2lsb
CBhdHRlbXB0IHRvIGNvbmZpZ3VyZSBhbGwgaW50ZXJmYWNlcyB2aWEgREhDUCBhbmQgZGlzY292ZXIg
aXRzZWxmIGJ5IHNlbmRpbmcgaGFyZHdhcmUgZmFjdHMgdG8gRm9yZW1hbiBpbnN0YW5jZS4gVG8gaW5
0ZXJydXB0IHRoaXMgYmVoYXZpb3IsIHByZXNzIGEga2V5IHRvIGJlIGFibGUgdG8gZG8gbWFudWFsIG
5ldHdvcmsgY29uZmlndXJhdGlvbiBhbmQgYWRkaXRpb25hbCBwcm92aXNpb25pbmcgc2V0dGluZ3MuI
gptc2dzdHIgIiIKCm1zZ2lkICJVbmFibGUgdG8gYnJpbmcgbmV0d29yayB2aWEgREhDUCIKbXNnc3Ry
ICIiCgptc2dpZCAiVW5hYmxlIHRvIGJyaW5nIHVwIG5ldHdvcmsiCm1zZ3N0ciAiIgoKbXNnaWQgIlV
uYWJsZSB0byBwYXJzZSBwcm94eS51cmwgVVJJOiAlcyIKbXNnc3RyICIiCgptc2dpZCAiVW5hdHRlbm
RlZCBmYWN0IHVwbG9hZCBGQUlMRUQgLSBjaGVjayBsb2dzIgptc2dzdHIgIiIKCm1zZ2lkICJVbmF0d
GVuZGVkIGZhY3QgdXBsb2FkIE9LIC0gYXdhaXRpbmcga2V4ZWMiCm1zZ3N0ciAiIgoKbXNnaWQgIlVu
YXR0ZW5kZWQgcHJvdmlzaW9uaW5nIGZhaWxlZDogdW5hYmxlIHRvIHVwbG9hZCBmYWN0cy4gQ2hlY2s
geW91ciBuZXR3b3JrIGNyZWRlbnRpYWxzLiIKbXNnc3RyICIiCgptc2dpZCAiV2FpdGluZyBmb3Igb3
BlcmF0aW9uIHRvIGNvbXBsZXRlIgptc2dzdHIgIiIKCm1zZ2lkICJXYXJuaW5nIgptc2dzdHIgIiIKC
m1zZ2lkICJXZWxjb21lIHRvIEZvcmVtYW4gRGlzY292ZXJ5Igptc2dzdHIgIiIKCm1zZ2lkICJhd2Fp
dGluZyBrZXhlYyBpbnRvIGluc3RhbGxlciIKbXNnc3RyICIiCgptc2dpZCAiZmFjdCB1cGxvYWQgZmF
pbGVkIgptc2dzdHIgIiIKCm1zZ2lkICJ1c2UgU3RhdHVzIHRvIHVwZGF0ZSIKbXNnc3RyICIiCgptc2
dpZCAidmFsdWUiCm1zZ3N0ciAiIgo=
CODE
%end

%post
mkdir -p $(dirname /usr/share/locale/fdi/Makefile)
base64 -d - >/usr/share/locale/fdi/Makefile <<'CODE'
IyB2aW06IG5vZXQ6dHM9NDpzdz00IGZpbGV0eXBlPW1ha2UKIwojIG1ha2UgYnVpbGQgKGRlZmF1bHQ
pIC0gZ2VuZXJhdGUgTU8gZmlsZXMKIyBtYWtlIGNoZWNrIC0gY2hlY2sgdHJhbnNsYXRpb25zIHVzaW
5nIHRyYW5zbGF0ZS10b29sCiMgbWFrZSB1cGRhdGUgLSBkb3dubG9hZCBhbmQgbWVyZ2UgdHJhbnNsY
XRpb25zIGZyb20gVHJhbnNpZmV4CiMKRE9NQUlOID0gZm9yZW1hbi1kaXNjb3ZlcnktaW1hZ2UKVkVS
U0lPTiA9ICQoc2hlbGwgZ2l0IGRlc2NyaWJlIC0tYWJicmV2PTAgLS10YWdzKQpQT1RGSUxFID0gJCh
ET01BSU4pLnBvdApNT0ZJTEUgPSAkKERPTUFJTikubW8KUE9GSUxFUyA9ICQoc2hlbGwgZmluZCAuIC
1uYW1lICckKERPTUFJTikucG8nKQpNT0ZJTEVTID0gJChwYXRzdWJzdCAlLnBvLCUubW8sJChQT0ZJT
EVTKSkKUE9YRklMRVMgPSAkKHBhdHN1YnN0ICUucG8sJS5wb3gsJChQT0ZJTEVTKSkKRURJVEZJTEVT
ID0gJChwYXRzdWJzdCAlLnBvLCUuZWRpdC5wbywkKFBPRklMRVMpKQoKJS5tbzogJS5wbwoJbWtkaXI
gLXAgJChzaGVsbCBkaXJuYW1lICRAKS9MQ19NRVNTQUdFUwoJbXNnZm10IC1vICQoc2hlbGwgZGlybm
FtZSAkQCkvTENfTUVTU0FHRVMvJChNT0ZJTEUpICQ8Cgl0b3VjaCAkKHNoZWxsIGRpcm5hbWUgJEApL
0xDX01FU1NBR0VTLyQoTU9GSUxFKQoKYnVpbGQ6ICQoTU9GSUxFUykKCiUucG94OiAlLnBvCgltc2dm
bXQgLWMgJDwKCXBvZmlsdGVyIC0tbm9mdXp6eSAtdCB2YXJpYWJsZXMgLXQgYmxhbmsgLXQgdXJscyA
tdCBlbWFpbHMgLXQgbG9uZyAtdCBuZXdsaW5lcyBcCgkJLXQgZW5kd2hpdGVzcGFjZSAtdCBlbmRwdW
5jIC10IHB1bmNzcGFjaW5nIC10IG9wdGlvbnMgLXQgcHJpbnRmIC10IHZhbGlkY2hhcnMgLS1nbm9tZ
SAkPCA+ICRACgljYXQgJEAKCSEgZ3JlcCAtcSBtc2dpZCAkQAoKJS5lZGl0LnBvOgoJdG91Y2ggJEAK
CmNoZWNrOiAkKFBPWEZJTEVTKQoKdW5pcS1wbzoKCWZvciBmIGluICQoc2hlbGwgZmluZCAuLyAtbmF
tZSAiKi5wbyIpIDsgZG8gXAoJCW1zZ3VuaXEgJCRmIC1vICQkZiA7IFwKCWRvbmUKCnR4LXB1bGw6IC
QoRURJVEZJTEVTKQoJdHggcHVsbCAtZgoJZm9yIGYgaW4gJChFRElURklMRVMpIDsgZG8gXAoJCXNlZ
CAtaSAncy9eXCgiUHJvamVjdC1JZC1WZXJzaW9uOiBcKS4qJCQvXDEkKERPTUFJTikgJChWRVJTSU9O
KVxcbiIvJyAkJGY7IFwKCWRvbmUKCnVwZGF0ZTogdHgtcHVsbCAkKE1PRklMRVMpCglnaXQgYWRkICQ
oUE9GSUxFUykgJChQT1RGSUxFKSAqL0xDX01FU1NBR0VTCglnaXQgY29tbWl0IC1tICJpMThuIC0gcH
VsbGluZyBmcm9tIHR4IgoJQGVjaG8KCUBlY2hvIENoYW5nZXMgY29tbWl0ZWQhCglAZWNobwoKZXh0c
mFjdDoKCXJ4Z2V0dGV4dCBcCgkJLS1zb3J0LW91dHB1dCBcCgkJLS1zb3J0LWJ5LW1zZ2lkIFwKCQkt
LW5vLXdyYXAgXAoJCS0tbm8tbG9jYXRpb24gXAoJCS1vICR7RE9NQUlOfS5wb3QgXAoJCS0tcGFja2F
nZS1uYW1lPSR7RE9NQUlOfSBcCgkJLS1wYWNrYWdlLXZlcnNpb249IiR7VkVSU0lPTn0iIFwKCQktLW
1zZ2lkLWJ1Z3MtYWRkcmVzcz1mb3JlbWFuLWRldkBnb29nbGVncm91cHMuY29tIFwKCQktLWNvcHlya
WdodC1ob2xkZXI9IkZvcmVtYW4gZGV2ZWxvcGVycyIgXAoJCS0tY29weXJpZ2h0LXllYXI9JChzaGVs
bCBkYXRlICslWSkgXAoJCSQoc2hlbGwgZmluZCAuLi8uLi8uLi8uLi91c3IvbGliNjQvcnVieS92ZW5
kb3JfcnVieSAtdHlwZSBmIC1uYW1lIFwqLnJiIC1vIC1uYW1lIFwqLmVyYikK
CODE
%end

%post
chmod 755 /etc/NetworkManager/dispatcher.d/15-get-zip-server /etc/rc.d/rc.local /usr/share/fdi/commonfunc.sh /usr/bin/nm-configure /usr/bin/find-missing-libs /usr/bin/generate-proxy-cert /usr/bin/nm-prepare /usr/bin/discovery-register /usr/bin/discovery-debug /usr/bin/enable-lldp /usr/bin/discovery-menu /usr/bin/discovery-start-extensions /usr/bin/discovery-fetch-extensions /usr/bin/discovery-script
%end

%post

echo " * ensure /etc/os-release is present (needed for RHEL 7.0)"
touch /etc/os-release

echo " * disabling legacy network services (needed for RHEL 7.0)"
systemctl disable network.service

echo " * disabling kdump crash service"
systemctl disable kdump.service

echo " * configuring NetworkManager and udev/nm-prepare"
cat > /etc/NetworkManager/NetworkManager.conf <<'NM'
[main]
monitor-connection-files=no
no-auto-default=*
[logging]
level=DEBUG
NM
cat > /etc/udev/rules.d/81-nm-prepare.rules <<'UDEV'
ACTION=="add", SUBSYSTEM=="net", NAME!="lo", RUN+="/usr/bin/systemd-cat -t nm-prepare /usr/bin/nm-prepare %k"
UDEV

echo " * configuring TFTP firewall modules"
echo -e "ip_conntrack_tftp\nnf_conntrack_netbios_ns" > /etc/modules-load.d/tftp-firewall.conf

echo " * enabling NetworkManager system services (needed for RHEL 7.0)"
systemctl enable NetworkManager.service
systemctl enable NetworkManager-dispatcher.service
systemctl enable NetworkManager-wait-online.service

echo " * enabling nm-prepare service"
systemctl enable nm-prepare.service

echo " * enabling required system services"
systemctl enable ipmi.service
systemctl enable foreman-proxy.service
systemctl enable discovery-fetch-extensions.path
systemctl enable discovery-start-extensions.service
systemctl enable discovery-menu.service
systemctl enable discovery-script-pxe.service
systemctl enable discovery-script-pxeless.service

# register service is started manually from discovery-menu
systemctl disable discovery-register.service

echo " * disabling some unused system services"
systemctl disable ipmi.service

echo " * open foreman-proxy port via firewalld"
firewall-offline-cmd --zone=public --add-port=8443/tcp --add-port=8448/tcp

echo " * setting up foreman proxy service"
sed -i 's/After=.*/After=basic.target network-online.target nm-prepare.service/' /usr/lib/systemd/system/foreman-proxy.service
sed -i 's/Wants=.*/Wants=basic.target network-online.target nm-prepare.service/' /usr/lib/systemd/system/foreman-proxy.service
sed -i '/\[Unit\]/a ConditionPathExists=/etc/NetworkManager/system-connections/primary' /usr/lib/systemd/system/foreman-proxy.service
sed -i '/\[Service\]/a EnvironmentFile=-/etc/default/discovery' /usr/lib/systemd/system/foreman-proxy.service
sed -i '/\[Service\]/a ExecStartPre=/usr/bin/generate-proxy-cert' /usr/lib/systemd/system/foreman-proxy.service
sed -i '/\[Service\]/a PermissionsStartOnly=true' /usr/lib/systemd/system/foreman-proxy.service
sed -i '/\[Service\]/a TimeoutStartSec=9999' /usr/lib/systemd/system/foreman-proxy.service
/sbin/usermod -a -G tty foreman-proxy

cat >/etc/foreman-proxy/settings.yml <<'CFG'
---
:settings_directory: /etc/foreman-proxy/settings.d
# certificate is generated by /usr/bin/generate-proxy-cert
:ssl_certificate: /etc/foreman-proxy/cert.pem
:ssl_ca_file: /etc/foreman-proxy/cert.pem
:ssl_private_key: /etc/foreman-proxy/key.pem
:daemon: true
:http_port: 8448
:https_port: 8443
:log_file: SYSLOG
:log_level: DEBUG
:log_buffer: 1000
:log_buffer_errors: 500
CFG

cat >/etc/foreman-proxy/settings.d/discovery_image.yml <<'CFG'
---
:enabled: true
CFG

cat >/etc/foreman-proxy/settings.d/bmc.yml <<'CFG'
---
:enabled: true
:bmc_default_provider: shell
CFG

cat >/etc/foreman-proxy/settings.d/facts.yml <<'CFG'
---
:enabled: true
CFG

cat >/etc/foreman-proxy/settings.d/logs.yml <<'CFG'
---
:enabled: true
CFG

echo " * setting up systemd"
echo "DumpCore=no" >> /etc/systemd/system.conf

echo " * setting multi-user.target as default"
systemctl set-default multi-user.target

echo " * setting up journald and ttys"
systemctl disable getty@tty1.service getty@tty2.service
systemctl mask getty@tty1.service getty@tty2.service
echo "Storage=volatile" >> /etc/systemd/journald.conf
echo "RuntimeMaxUse=25M" >> /etc/systemd/journald.conf
echo "ForwardToSyslog=no" >> /etc/systemd/journald.conf
echo "ForwardToConsole=no" >> /etc/systemd/journald.conf
systemctl enable journalctl.service

echo " * setting suid bits"
chmod +s /sbin/ethtool
chmod +s /usr/sbin/dmidecode
chmod +s /usr/bin/ipmitool

# Add foreman-proxy user to sudo and disable interactive tty for reboot
echo " * setting up sudo"
sed -i -e 's/^Defaults.*requiretty/Defaults !requiretty/g' /etc/sudoers
echo "foreman-proxy ALL=NOPASSWD: /sbin/shutdown" >> /etc/sudoers
echo "foreman-proxy ALL=NOPASSWD: /usr/sbin/kexec" >> /etc/sudoers

echo " * dropping some friendly aliases"
echo "alias vim=vi" >> /root/.bashrc
echo "alias halt=poweroff" >> /root/.bashrc

# Base env for extracting zip extensions
mkdir -p /opt/extension/{bin,lib,lib/ruby,facts}

echo " * setting up lldp service"
systemctl enable lldpad.socket
cat > /etc/udev/rules.d/82-enable-lldp.rules <<'UDEV'
ACTION=="add", SUBSYSTEM=="net", NAME!="lo", TAG+="systemd", ENV{SYSTEMD_WANTS}="enable-lldp@%k.service"
UDEV

echo " * enable promiscuous mode on all physical network interfaces"
cat > /etc/udev/rules.d/83-enable-promiscuous-mode.rules <<'UDEV'
ACTION=="add", SUBSYSTEM=="net", NAME!="lo", TAG+="systemd", ENV{SYSTEMD_WANTS}="enable-promiscuous-mode@%k.service"
UDEV

echo " * inserting missing initramdisk drivers"
# RPM database is empty, must find out kernel version differently
kversion=$(ls -t /lib/modules | head -n1)
echo "   found kernel version $kversion"
echo "   contents of /boot: "
ls -1 /boot
ramfsfile="/boot/initramfs-$kversion.img"
/sbin/dracut -v --force --add-drivers "mptbase mptscsih mptspi hv_storvsc hid_hyperv hv_netvsc hv_vmbus" $ramfsfile $kversion

%end

%post

# Ensure we don't have the same random seed on every image, which
# could be bad for security at a later point...
echo " * purge existing random seed to avoid identical seeds everywhere"
rm -f /var/lib/random-seed

echo " * disable sshd and purge existing SSH host keys"
rm -f /etc/ssh/ssh_host_*key{,.pub}
systemctl disable sshd.service

# This seems to cause 'reboot' resulting in a shutdown on certain platforms
# See https://tickets.puppetlabs.com/browse/RAZOR-100
echo " * remove intel mei modules"
rm -rf /lib/modules/*/kernel/drivers/misc/mei

# See https://bugzilla.redhat.com/show_bug.cgi?id=1335830
echo " * remove some video drivers to prevent kexec isues"
rm -rf /lib/modules/*/kernel/drivers/gpu/drm \
  /lib/modules/*/kernel/drivers/video/fbdev \
  /lib/firmware/{amdgpu,radeon}

echo " * remove unused drivers (sound, media, nls, fs, wifi)"
rm -rf /lib/modules/*/kernel/sound \
  /lib/modules/*/kernel/drivers/{media,hwmon,watchdog,rtc,input/joystick,bluetooth,edac} \
  /lib/modules/*/kernel/net/{atm,bluetooth,sched,sctp,rds,l2tp,decnet} \
  /lib/modules/*/kernel/fs/{nls,ocfs2,ceph,nfsd,ubifs,nilfs2} \
  /lib/modules/*/kernel/arch/x86/kvm

echo " * remove unused firmware (sound, wifi)"
rm -rf /usr/lib/firmware/*wifi* \
  /usr/lib/firmware/v4l* \
  /usr/lib/firmware/dvb* \
  /usr/lib/firmware/{yamaha,korg,liquidio,emu,dsp56k,emi26} \
  /usr/lib/firmware/{ath9k,ath10k}

echo " * dropping big and compressing small cracklib dict"
mv -f /usr/share/cracklib/cracklib_small.hwm /usr/share/cracklib/pw_dict.hwm
mv -f /usr/share/cracklib/cracklib_small.pwd /usr/share/cracklib/pw_dict.pwd
mv -f /usr/share/cracklib/cracklib_small.pwi /usr/share/cracklib/pw_dict.pwi
gzip -9 /usr/share/cracklib/pw_dict.pwd

# 100MB of locale archive is kind unnecessary; we only do en_US.utf8
# this will clear out everything we don't need; 100MB => 2.1MB.
echo " * minimizing locale-archive binary / memory size"
localedef --list-archive | grep -Eiv '(en_US|fdi)' | xargs localedef -v --delete-from-archive
mv /usr/lib/locale/locale-archive /usr/lib/locale/locale-archive.tmpl
/usr/sbin/build-locale-archive

echo " * purging all other locale data"
ls -d /usr/share/locale/* | grep -v fdi | xargs rm -rf

echo " * purging images"
rm -rf /usr/share/backgrounds/* /usr/share/kde4/* /usr/share/anaconda/pixmaps/rnotes/*

echo " * purging rubygems cache"
rm -rf /usr/share/gems/cache/*

echo " * truncating various logfiles"
for log in yum.log dracut.log lastlog yum.log; do
    truncate -c -s 0 /var/log/${log}
done

echo " * removing trusted CA certificates"
truncate -s0 /usr/share/pki/ca-trust-source/ca-bundle.trust.crt
update-ca-trust

echo " * setting up hostname"
echo fdi > /etc/hostname

echo " * locking root account"
passwd -l root

echo " * store list of packages sorted by size"
rpm -qa --queryformat '%{SIZE} %{NAME} %{VERSION}%{RELEASE}\n' | sort -n -r > /usr/PACKAGES-LIST

echo " * cleaning up yum cache and removing rpm database"
yum clean all
rm -rf /var/lib/{yum,rpm}/*

# no more python loading after this step
echo " * removing python precompiled *.pyc files"
find /usr/lib64/python*/ /usr/lib/python*/ -name *py[co] -print0 | xargs -0 rm -f
%end

%post --nochroot
echo " * disquieting the boot process"
sed -i -e's/ rhgb//g' -e's/ quiet//g' $LIVE_ROOT/isolinux/isolinux.cfg
%end

%packages --excludedocs
syslinux-nonlinux
dracut-live
centos-logos
memtest86+
rubygem-facter
NetworkManager
OpenIPMI
bash
binutils
biosdevname
bzip2
chkconfig
dmidecode
e2fsprogs
efibootmgr
elfutils-libs
ethtool
file
firewalld
foreman-discovery-image-service
foreman-discovery-image-service-tui
grub2
grub2-efi
grub2-efi-x64
grub2-efi-x64-cdboot
grub2-tools
gzip
kernel
kexec-tools
less
lldpad
mdadm
net-tools
openssh-clients
openssh-server
openssl
parted
passwd
policycoreutils
rootfiles
shim
shim-x64
sudo
system-storage-manager
tar
unzip
vim-minimal
virt-what
xfsprogs
yum
-alsa-firmware
-alsa-lib
-alsa-tools-firmware
-audit
-authconfig
-dmraid
-ed
-fedora-release-notes
-ivtv-firmware
-iwl100-firmware
-iwl1000-firmware
-iwl105-firmware
-iwl135-firmware
-iwl2000-firmware
-iwl2030-firmware
-iwl3160-firmware
-iwl3945-firmware
-iwl4965-firmware
-iwl5000-firmware
-iwl5150-firmware
-iwl6000-firmware
-iwl6000g2a-firmware
-iwl6000g2b-firmware
-iwl6050-firmware
-iwl7260-firmware
-kbd
-liquidio-firmware
-lvm2
-netronome-firmware
-plymouth
-postfix
-prelink
-rsyslog
-selinux-policy*
-setserial
-subscription-manager
-tuned
-usermode
-wireless-tools

%end
